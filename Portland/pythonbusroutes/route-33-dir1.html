<!DOCTYPE html>
<html lang="en">
<head>
  
<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-EL337T4JX4"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-EL337T4JX4');
</script>

<meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Route 33 - To Milwaukie and Clackamas Town Center | MetroFeed Portland</title>
  <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
  <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
  <style>
    html, body {
      margin: 0;
      padding: 0;
      font-family: 'Segoe UI', sans-serif;
      background-color: #0d0d0d;
      color: #cccccc;
      overflow-y: auto;
    }

    .home-button {
      position: fixed;
      top: 120px;
      left: 10px;
      background-color: #4dd0e1;
      color: #0d0d0d;
      padding: 0.5rem 1rem;
      font-weight: bold;
      border-radius: 8px;
      text-decoration: none;
      z-index: 1001;
      box-shadow: 0 0 10px #4dd0e1;
    }

    .home-button:hover {
      background-color: #00bcd4;
      color: #ffffff;
    }

    header {
      background-color: #0d0d0d;
      border-top: 4px solid #4dd0e1;
      border-bottom: 3px solid #4dd0e1;
      padding: 1rem;
      text-align: center;
    }

    header img {
      max-height: 60px;
    }

    h1 {
      text-align: center;
      margin: 1rem 0;
      font-size: 2rem;
      color: #f0f0f0;
    }

    .content-box {
      border-radius: 12px;
      padding: 0;
      margin: 0;
      background-color: #1e1e1e;
    }

    #map {
      width: 100%;
      height: 85vh;
      border: none;
      margin: 0 auto;
      display: block;
      border-radius: 8px;
    }

    .button-bar {
      display: flex;
      justify-content: center;
      margin: 1rem 0;
    }

    .button-bar a, .back-button {
      background: #4dd0e1;
      color: #0d0d0d;
      padding: 0.6rem 1.2rem;
      text-decoration: none;
      border-radius: 8px;
      font-weight: bold;
      border: none;
      cursor: pointer;
      box-shadow: 0 0 10px #4dd0e1;
    }

    .back-button:hover {
      background-color: #35c0d6;
    }

    .site-footer {
      text-align: center;
      margin-top: 3rem;
      margin-bottom: 120px;
      font-size: 0.85rem;
      color: #aaa;
    }

    .site-footer a {
      color: #00BFFF;
      text-decoration: none;
    }

    .site-footer a:hover {
      text-decoration: underline;
    }

    
    }
  </style>
</head>

<body>
  

  <header>
    <img src="MetroFeedPortlandLogo.png" alt="MetroFeed Portland">
  </header>

  <div class="disclaimer" style="margin: 1rem auto 0.5rem; max-width: 600px; font-size: 0.8rem; color: #bbb; text-align: center; padding: 0.5rem 1rem; background-color: #111; border: 1px dashed #444; border-radius: 6px;">
    ⚠️ This is a Beta program, work in progress. Please REPORT bugs and pretend to be impressed.
  </div>
  <div class="disclaimer" style="margin: 0 auto 1rem; max-width: 600px; font-size: 0.75rem; color: #888; text-align: center; padding: 0.25rem 1rem;">
    This tool is not affiliated with or endorsed by TriMet. For official schedules and service alerts, visit <a href="https://trimet.org" style="color:#4dd0e1;">trimet.org</a>.
  </div>

  <div style="margin: 2rem 0; text-align: center;">
    <button class="back-button" onclick="history.back()">Back</button>
  </div>

  <h1>Route 33 - To Milwaukie and Clackamas Town Center</h1>

  <div class="content-box">
    <div id="map"></div>
    <div style="text-align:right; font-size: 0.7rem; color: #777; margin-top: 0.5rem;">
      Data courtesy of TriMet.
    </div>
  </div>

  <script>
    if (document.referrer === "" && performance.navigation.type === 0) {
      window.location.href = "/index.html";
    }

    const apiKey = "2C4447D4A42083BCD84DE3B8E";
    const routeNumber = 33;
    const direction = parseInt(1);

    const map = L.map('map', {
      center: [45.6, -122.7],
      zoom: 12,
      minZoom: 12,
      maxZoom: 18,
      maxBounds: [[45.3, -123.1], [45.9, -122.3]],
      maxBoundsViscosity: 1.0
    });
    L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', { maxZoom: 19 }).addTo(map);

    const shapeOutbound = [
  [45.321977, -122.575248],
  [45.322187, -122.575052],
  [45.322264, -122.575165],
  [45.322301, -122.575229],
  [45.322338, -122.575295],
  [45.322375, -122.575369],
  [45.322426, -122.575481],
  [45.32247, -122.575611],
  [45.322504, -122.575736],
  [45.322531, -122.575879],
  [45.322543, -122.575963],
  [45.322552, -122.576061],
  [45.322555, -122.576129],
  [45.322558, -122.576265],
  [45.322555, -122.576424],
  [45.322547, -122.5768],
  [45.322597, -122.576801],
  [45.322704, -122.57681],
  [45.322791, -122.576837],
  [45.322865, -122.576872],
  [45.322921, -122.576898],
  [45.322971, -122.576943],
  [45.323075, -122.577071],
  [45.323179, -122.577219],
  [45.32325, -122.57734],
  [45.323311, -122.577446],
  [45.323369, -122.577564],
  [45.323407, -122.577656],
  [45.323456, -122.577797],
  [45.3235, -122.577948],
  [45.323538, -122.57811],
  [45.323564, -122.578244],
  [45.323582, -122.578375],
  [45.323606, -122.578572],
  [45.323622, -122.578845],
  [45.323638, -122.57909],
  [45.323653, -122.57919],
  [45.323672, -122.57931],
  [45.32369, -122.579412],
  [45.323712, -122.579509],
  [45.32375, -122.579645],
  [45.323817, -122.579849],
  [45.323858, -122.57995],
  [45.323995, -122.580226],
  [45.324034, -122.580288],
  [45.324087, -122.58036],
  [45.324123, -122.580408],
  [45.324169, -122.580461],
  [45.324226, -122.580517],
  [45.324518, -122.580766],
  [45.324969, -122.581145],
  [45.3251, -122.581254],
  [45.325286, -122.581409],
  [45.32555, -122.58163],
  [45.325638, -122.581705],
  [45.325939, -122.581945],
  [45.326015, -122.58201],
  [45.326248, -122.582209],
  [45.326507, -122.582423],
  [45.326684, -122.58257],
  [45.326787, -122.582657],
  [45.326879, -122.582733],
  [45.326999, -122.58283],
  [45.327262, -122.583043],
  [45.327399, -122.583151],
  [45.327515, -122.583243],
  [45.327823, -122.583487],
  [45.327998, -122.583634],
  [45.328087, -122.583706],
  [45.328175, -122.583778],
  [45.32843, -122.583989],
  [45.328516, -122.584059],
  [45.328797, -122.584289],
  [45.328873, -122.584352],
  [45.328921, -122.584391],
  [45.329115, -122.58455],
  [45.329307, -122.584722],
  [45.329382, -122.584769],
  [45.329422, -122.584803],
  [45.329832, -122.585138],
  [45.329925, -122.585211],
  [45.330224, -122.585459],
  [45.33032, -122.585538],
  [45.330415, -122.585617],
  [45.33069, -122.585845],
  [45.331237, -122.586298],
  [45.331342, -122.586384],
  [45.331555, -122.586558],
  [45.331622, -122.586613],
  [45.33177, -122.586735],
  [45.331931, -122.586868],
  [45.332273, -122.587157],
  [45.332419, -122.587282],
  [45.332452, -122.58731],
  [45.33279, -122.587598],
  [45.33286, -122.587655],
  [45.333276, -122.587995],
  [45.333703, -122.588358],
  [45.333834, -122.588473],
  [45.333791, -122.588684],
  [45.333708, -122.589097],
  [45.333619, -122.58958],
  [45.333606, -122.58967],
  [45.333595, -122.589752],
  [45.333586, -122.58984],
  [45.333577, -122.589931],
  [45.333574, -122.590055],
  [45.333576, -122.590357],
  [45.333583, -122.590593],
  [45.333598, -122.590856],
  [45.333641, -122.591301],
  [45.333653, -122.591425],
  [45.333665, -122.591569],
  [45.333673, -122.591712],
  [45.333693, -122.592068],
  [45.333714, -122.59266],
  [45.333729, -122.593055],
  [45.333723, -122.593289],
  [45.333721, -122.593358],
  [45.333701, -122.593564],
  [45.333679, -122.593767],
  [45.333636, -122.594011],
  [45.333627, -122.594059],
  [45.333545, -122.594469],
  [45.333503, -122.594812],
  [45.33348, -122.59509],
  [45.333473, -122.595282],
  [45.333468, -122.596103],
  [45.33346, -122.596855],
  [45.333461, -122.597149],
  [45.333473, -122.597313],
  [45.333495, -122.597447],
  [45.333529, -122.59757],
  [45.333554, -122.597642],
  [45.333604, -122.59777],
  [45.333672, -122.597896],
  [45.33374, -122.597996],
  [45.333833, -122.598111],
  [45.333956, -122.598211],
  [45.334052, -122.59828],
  [45.334152, -122.598335],
  [45.334273, -122.598376],
  [45.33442, -122.598401],
  [45.334646, -122.598407],
  [45.335058, -122.598407],
  [45.335551, -122.598407],
  [45.336343, -122.598404],
  [45.336457, -122.598405],
  [45.336443, -122.599384],
  [45.336439, -122.600269],
  [45.336438, -122.600366],
  [45.336436, -122.600693],
  [45.336434, -122.600836],
  [45.33643, -122.601213],
  [45.336426, -122.601633],
  [45.336422, -122.602101],
  [45.336419, -122.60236],
  [45.336419, -122.602707],
  [45.336418, -122.603619],
  [45.336416, -122.603944],
  [45.336412, -122.604552],
  [45.336411, -122.604771],
  [45.336417, -122.604952],
  [45.336549, -122.604984],
  [45.336901, -122.604988],
  [45.336956, -122.604989],
  [45.337467, -122.604987],
  [45.337622, -122.604986],
  [45.338883, -122.605007],
  [45.339096, -122.605005],
  [45.33944, -122.605009],
  [45.33953, -122.60501],
  [45.339818, -122.605008],
  [45.340068, -122.605005],
  [45.340151, -122.605004],
  [45.340224, -122.605002],
  [45.340869, -122.605003],
  [45.341226, -122.605002],
  [45.341433, -122.605004],
  [45.34188, -122.605011],
  [45.3419, -122.605011],
  [45.341956, -122.605012],
  [45.342947, -122.605025],
  [45.34404, -122.605042],
  [45.344227, -122.605038],
  [45.344237, -122.605037],
  [45.344311, -122.605024],
  [45.344363, -122.605008],
  [45.344428, -122.604975],
  [45.344493, -122.604929],
  [45.344546, -122.604887],
  [45.344609, -122.604828],
  [45.344884, -122.604562],
  [45.345202, -122.604256],
  [45.345567, -122.603946],
  [45.345696, -122.603847],
  [45.34579, -122.603786],
  [45.34585, -122.60375],
  [45.345912, -122.603719],
  [45.345974, -122.603699],
  [45.346024, -122.603685],
  [45.346075, -122.603678],
  [45.346128, -122.603673],
  [45.346217, -122.603672],
  [45.346298, -122.603676],
  [45.346455, -122.603681],
  [45.34652, -122.603686],
  [45.346577, -122.603685],
  [45.346621, -122.603682],
  [45.34667, -122.603672],
  [45.346712, -122.603661],
  [45.346758, -122.603646],
  [45.346814, -122.603619],
  [45.346852, -122.603596],
  [45.346896, -122.603565],
  [45.346943, -122.603529],
  [45.347005, -122.603474],
  [45.347067, -122.603415],
  [45.34713, -122.603345],
  [45.347252, -122.6032],
  [45.347408, -122.603004],
  [45.347475, -122.602929],
  [45.347504, -122.602897],
  [45.347581, -122.602818],
  [45.347677, -122.602736],
  [45.347791, -122.602643],
  [45.347943, -122.602533],
  [45.348105, -122.602422],
  [45.348424, -122.602202],
  [45.348587, -122.60209],
  [45.348682, -122.60202],
  [45.348836, -122.601895],
  [45.348909, -122.601829],
  [45.349085, -122.601665],
  [45.349211, -122.601533],
  [45.349231, -122.601512],
  [45.349595, -122.601122],
  [45.349939, -122.600746],
  [45.350016, -122.600683],
  [45.350067, -122.600649],
  [45.350122, -122.600627],
  [45.350168, -122.600615],
  [45.350207, -122.600609],
  [45.35027, -122.600606],
  [45.350339, -122.600613],
  [45.350629, -122.600691],
  [45.350834, -122.600754],
  [45.351041, -122.600811],
  [45.35162, -122.600974],
  [45.351822, -122.601037],
  [45.351905, -122.601074],
  [45.351969, -122.601108],
  [45.352018, -122.60114],
  [45.352095, -122.601205],
  [45.35216, -122.60127],
  [45.352212, -122.601331],
  [45.352273, -122.601422],
  [45.352384, -122.601612],
  [45.352715, -122.602271],
  [45.353083, -122.603],
  [45.353144, -122.603123],
  [45.353577, -122.603985],
  [45.353974, -122.604778],
  [45.35401, -122.604851],
  [45.354441, -122.60571],
  [45.35481, -122.606455],
  [45.354823, -122.606481],
  [45.354862, -122.606565],
  [45.354902, -122.606651],
  [45.355249, -122.607343],
  [45.35529, -122.607424],
  [45.355533, -122.607914],
  [45.35563, -122.608109],
  [45.355649, -122.608147],
  [45.355717, -122.608284],
  [45.355346, -122.608654],
  [45.35497, -122.609029],
  [45.354604, -122.609402],
  [45.354218, -122.609791],
  [45.353695, -122.610319],
  [45.353486, -122.61053],
  [45.353107, -122.610914],
  [45.352729, -122.611292],
  [45.352573, -122.611448],
  [45.352357, -122.611664],
  [45.351977, -122.612049],
  [45.351609, -122.612419],
  [45.351234, -122.61279],
  [45.351395, -122.613107],
  [45.351432, -122.613181],
  [45.35144, -122.613208],
  [45.351446, -122.613237],
  [45.351436, -122.613353],
  [45.351412, -122.613492],
  [45.351402, -122.613548],
  [45.351313, -122.614051],
  [45.351304, -122.614116],
  [45.351301, -122.614176],
  [45.351302, -122.614238],
  [45.351312, -122.614296],
  [45.351325, -122.614338],
  [45.35134, -122.614378],
  [45.351358, -122.614413],
  [45.351406, -122.614516],
  [45.351522, -122.614372],
  [45.352113, -122.613716],
  [45.352655, -122.613131],
  [45.35305, -122.612701],
  [45.353286, -122.612434],
  [45.353462, -122.612232],
  [45.353648, -122.612016],
  [45.354088, -122.611481],
  [45.354743, -122.61068],
  [45.35545, -122.609811],
  [45.355533, -122.609717],
  [45.355589, -122.609664],
  [45.355634, -122.609626],
  [45.355688, -122.609586],
  [45.355761, -122.609558],
  [45.355833, -122.609536],
  [45.355904, -122.609522],
  [45.355979, -122.609513],
  [45.356066, -122.60951],
  [45.356142, -122.609522],
  [45.356211, -122.609554],
  [45.356281, -122.609595],
  [45.356351, -122.609649],
  [45.356402, -122.609702],
  [45.35646, -122.609769],
  [45.356522, -122.609858],
  [45.35658, -122.60995],
  [45.356639, -122.610047],
  [45.356725, -122.60996],
  [45.357011, -122.609654],
  [45.357089, -122.609574],
  [45.357374, -122.609279],
  [45.357422, -122.60922],
  [45.357458, -122.609161],
  [45.357603, -122.608865],
  [45.357803, -122.608458],
  [45.357838, -122.608385],
  [45.358265, -122.607526],
  [45.358291, -122.607473],
  [45.358328, -122.607397],
  [45.358366, -122.607317],
  [45.358591, -122.606868],
  [45.358813, -122.606416],
  [45.358859, -122.60632],
  [45.359131, -122.605761],
  [45.359376, -122.605258],
  [45.359415, -122.605178],
  [45.359644, -122.604719],
  [45.359726, -122.604553],
  [45.35987, -122.604262],
  [45.359965, -122.604353],
  [45.360075, -122.604461],
  [45.360236, -122.604605],
  [45.360259, -122.604627],
  [45.360403, -122.604756],
  [45.360508, -122.604847],
  [45.360648, -122.604581],
  [45.360681, -122.604521],
  [45.360747, -122.604399],
  [45.360836, -122.604241],
  [45.360861, -122.604104],
  [45.361011, -122.603882],
  [45.361084, -122.603775],
  [45.361166, -122.603666],
  [45.361356, -122.603437],
  [45.361555, -122.603215],
  [45.361764, -122.602993],
  [45.362106, -122.60265],
  [45.362539, -122.602211],
  [45.362627, -122.602123],
  [45.362924, -122.601827],
  [45.363115, -122.601647],
  [45.363298, -122.60148],
  [45.363491, -122.601304],
  [45.363623, -122.601205],
  [45.363718, -122.601138],
  [45.36381, -122.601079],
  [45.363927, -122.601014],
  [45.364006, -122.600971],
  [45.364161, -122.600898],
  [45.364307, -122.600942],
  [45.364486, -122.600893],
  [45.364683, -122.600844],
  [45.364813, -122.600818],
  [45.36503, -122.600795],
  [45.365097, -122.600792],
  [45.3652, -122.600791],
  [45.365346, -122.600794],
  [45.365456, -122.600798],
  [45.365575, -122.600807],
  [45.365847, -122.600826],
  [45.366657, -122.600914],
  [45.366746, -122.60092],
  [45.366887, -122.600839],
  [45.366983, -122.600846],
  [45.367385, -122.600885],
  [45.367507, -122.6009],
  [45.368108, -122.600953],
  [45.368214, -122.600953],
  [45.368343, -122.600953],
  [45.368588, -122.600984],
  [45.368722, -122.601002],
  [45.368837, -122.601017],
  [45.368885, -122.601023],
  [45.369087, -122.601049],
  [45.369349, -122.60108],
  [45.369559, -122.601101],
  [45.369637, -122.601202],
  [45.370214, -122.601266],
  [45.370505, -122.601291],
  [45.371205, -122.60135],
  [45.371632, -122.601384],
  [45.372158, -122.601432],
  [45.372386, -122.601456],
  [45.372935, -122.601509],
  [45.373827, -122.6016],
  [45.37415, -122.601631],
  [45.374401, -122.601652],
  [45.374729, -122.601682],
  [45.375044, -122.601717],
  [45.375364, -122.601753],
  [45.375553, -122.601787],
  [45.375659, -122.601809],
  [45.375813, -122.60184],
  [45.376194, -122.601935],
  [45.376196, -122.601936],
  [45.376463, -122.602028],
  [45.376501, -122.602042],
  [45.376606, -122.60208],
  [45.376729, -122.60213],
  [45.376879, -122.602194],
  [45.376962, -122.602234],
  [45.377387, -122.60243],
  [45.377633, -122.602562],
  [45.37783, -122.602677],
  [45.377887, -122.602715],
  [45.378028, -122.602808],
  [45.378171, -122.602909],
  [45.378384, -122.603058],
  [45.378602, -122.603225],
  [45.378707, -122.603309],
  [45.378757, -122.603349],
  [45.378863, -122.603431],
  [45.379027, -122.603558],
  [45.379209, -122.603699],
  [45.379276, -122.603751],
  [45.379701, -122.604076],
  [45.379742, -122.604107],
  [45.379832, -122.604176],
  [45.379915, -122.60424],
  [45.380289, -122.604526],
  [45.380337, -122.604563],
  [45.380505, -122.604692],
  [45.381199, -122.605222],
  [45.381397, -122.605373],
  [45.381705, -122.605608],
  [45.381773, -122.60566],
  [45.381849, -122.605718],
  [45.382136, -122.605937],
  [45.382447, -122.606175],
  [45.382701, -122.606369],
  [45.383083, -122.606661],
  [45.38326, -122.606796],
  [45.383349, -122.606864],
  [45.383654, -122.607096],
  [45.383854, -122.607248],
  [45.383979, -122.607343],
  [45.384119, -122.60745],
  [45.38415, -122.607473],
  [45.384305, -122.607592],
  [45.384541, -122.607773],
  [45.384575, -122.607798],
  [45.384677, -122.607875],
  [45.384864, -122.608016],
  [45.385051, -122.608158],
  [45.385213, -122.608284],
  [45.385375, -122.60841],
  [45.385565, -122.608559],
  [45.385569, -122.608562],
  [45.385671, -122.608637],
  [45.386282, -122.609114],
  [45.386499, -122.609277],
  [45.386917, -122.609592],
  [45.387, -122.609656],
  [45.387536, -122.610067],
  [45.387575, -122.610097],
  [45.387667, -122.610168],
  [45.38779, -122.610262],
  [45.388132, -122.610524],
  [45.388225, -122.610596],
  [45.388309, -122.61066],
  [45.388394, -122.610725],
  [45.388473, -122.610787],
  [45.388696, -122.610959],
  [45.388751, -122.611001],
  [45.388804, -122.611041],
  [45.388933, -122.611052],
  [45.389138, -122.611206],
  [45.389191, -122.611336],
  [45.389445, -122.611531],
  [45.389529, -122.611596],
  [45.389638, -122.61168],
  [45.389694, -122.611723],
  [45.389892, -122.611874],
  [45.390309, -122.612193],
  [45.39074, -122.612522],
  [45.390813, -122.612578],
  [45.390889, -122.612636],
  [45.391298, -122.612948],
  [45.391372, -122.613007],
  [45.391446, -122.613064],
  [45.391626, -122.613202],
  [45.391902, -122.613414],
  [45.391951, -122.613452],
  [45.392261, -122.61369],
  [45.392553, -122.613914],
  [45.392859, -122.614149],
  [45.393004, -122.614259],
  [45.393198, -122.614409],
  [45.393273, -122.614466],
  [45.393409, -122.614571],
  [45.39348, -122.614625],
  [45.393681, -122.614778],
  [45.393853, -122.614911],
  [45.393978, -122.615008],
  [45.394031, -122.615049],
  [45.394241, -122.615211],
  [45.394405, -122.615338],
  [45.394588, -122.615478],
  [45.394748, -122.615536],
  [45.395003, -122.615724],
  [45.395062, -122.615837],
  [45.395292, -122.616013],
  [45.395383, -122.616083],
  [45.395466, -122.616147],
  [45.395568, -122.616225],
  [45.395664, -122.616298],
  [45.395817, -122.616415],
  [45.395921, -122.616495],
  [45.396046, -122.616591],
  [45.396214, -122.616719],
  [45.396355, -122.616827],
  [45.396497, -122.616935],
  [45.396657, -122.61706],
  [45.396793, -122.617166],
  [45.396906, -122.617254],
  [45.39705, -122.617363],
  [45.397321, -122.617575],
  [45.397571, -122.61777],
  [45.397897, -122.618017],
  [45.398118, -122.618183],
  [45.39821, -122.618252],
  [45.398239, -122.618274],
  [45.398294, -122.618316],
  [45.398306, -122.618324],
  [45.398579, -122.61853],
  [45.398677, -122.618604],
  [45.398753, -122.618665],
  [45.398835, -122.618731],
  [45.398903, -122.618789],
  [45.399019, -122.618876],
  [45.399132, -122.61896],
  [45.399224, -122.619035],
  [45.399374, -122.619145],
  [45.399473, -122.619222],
  [45.399592, -122.619313],
  [45.400203, -122.619783],
  [45.400493, -122.620009],
  [45.40062, -122.620108],
  [45.401019, -122.620419],
  [45.401124, -122.620501],
  [45.401376, -122.620694],
  [45.401611, -122.620875],
  [45.401695, -122.620941],
  [45.401764, -122.620996],
  [45.401994, -122.621169],
  [45.402078, -122.621232],
  [45.402145, -122.621283],
  [45.402493, -122.621545],
  [45.402564, -122.621598],
  [45.402905, -122.621851],
  [45.403128, -122.622017],
  [45.403284, -122.622139],
  [45.40333, -122.622174],
  [45.403484, -122.622293],
  [45.403703, -122.622463],
  [45.403737, -122.62249],
  [45.40387, -122.62259],
  [45.404182, -122.622829],
  [45.404277, -122.622901],
  [45.404353, -122.622924],
  [45.40441, -122.622942],
  [45.404635, -122.623111],
  [45.404707, -122.623229],
  [45.405026, -122.623474],
  [45.405139, -122.623561],
  [45.405196, -122.623605],
  [45.405762, -122.624037],
  [45.406348, -122.624489],
  [45.406691, -122.624753],
  [45.406732, -122.624785],
  [45.407433, -122.625323],
  [45.408483, -122.626123],
  [45.408568, -122.626187],
  [45.408841, -122.626395],
  [45.408922, -122.626461],
  [45.408993, -122.626519],
  [45.409268, -122.626729],
  [45.409274, -122.626734],
  [45.409346, -122.626789],
  [45.409977, -122.62728],
  [45.410239, -122.627472],
  [45.41049, -122.627678],
  [45.410774, -122.62789],
  [45.410929, -122.628006],
  [45.411184, -122.62823],
  [45.411263, -122.628202],
  [45.411533, -122.628413],
  [45.411628, -122.628548],
  [45.411972, -122.62881],
  [45.412872, -122.629493],
  [45.412952, -122.629554],
  [45.413057, -122.629635],
  [45.413092, -122.629662],
  [45.413324, -122.62984],
  [45.413848, -122.630243],
  [45.41422, -122.630525],
  [45.414364, -122.630639],
  [45.414656, -122.630858],
  [45.414885, -122.631039],
  [45.414952, -122.631088],
  [45.41505, -122.631162],
  [45.415221, -122.631293],
  [45.41527, -122.631331],
  [45.415285, -122.631342],
  [45.415343, -122.631385],
  [45.415372, -122.631407],
  [45.415578, -122.631559],
  [45.415708, -122.631655],
  [45.415808, -122.631729],
  [45.41591, -122.631745],
  [45.416152, -122.63187],
  [45.416243, -122.631917],
  [45.41671, -122.632153],
  [45.416877, -122.632309],
  [45.417077, -122.632393],
  [45.417333, -122.632497],
  [45.417454, -122.632544],
  [45.417529, -122.632567],
  [45.417675, -122.632613],
  [45.417805, -122.632647],
  [45.417992, -122.632691],
  [45.418064, -122.632705],
  [45.418132, -122.632719],
  [45.418356, -122.632755],
  [45.419126, -122.632881],
  [45.419843, -122.632989],
  [45.41988, -122.632995],
  [45.419981, -122.633014],
  [45.420052, -122.633027],
  [45.420877, -122.63315],
  [45.421191, -122.633209],
  [45.421294, -122.633228],
  [45.421345, -122.633235],
  [45.422049, -122.633334],
  [45.422075, -122.633338],
  [45.422169, -122.633353],
  [45.422464, -122.633403],
  [45.422548, -122.633419],
  [45.422619, -122.633433],
  [45.422817, -122.633465],
  [45.42293, -122.633484],
  [45.423066, -122.633506],
  [45.423452, -122.633564],
  [45.423615, -122.633588],
  [45.424092, -122.633666],
  [45.42447, -122.633728],
  [45.424889, -122.633797],
  [45.425098, -122.633831],
  [45.425552, -122.633903],
  [45.425752, -122.633934],
  [45.426129, -122.633993],
  [45.426624, -122.634066],
  [45.426716, -122.634082],
  [45.426924, -122.634118],
  [45.427183, -122.634162],
  [45.427296, -122.634182],
  [45.427605, -122.634236],
  [45.427615, -122.634238],
  [45.427802, -122.634271],
  [45.427927, -122.634291],
  [45.428272, -122.634346],
  [45.429059, -122.634471],
  [45.429729, -122.634577],
  [45.430104, -122.634639],
  [45.430199, -122.634658],
  [45.430295, -122.634677],
  [45.430499, -122.634709],
  [45.431057, -122.634795],
  [45.43152, -122.634871],
  [45.431856, -122.634926],
  [45.432125, -122.634982],
  [45.43226, -122.635012],
  [45.432401, -122.63505],
  [45.432476, -122.635075],
  [45.432517, -122.63509],
  [45.432612, -122.635124],
  [45.432816, -122.635202],
  [45.432927, -122.635247],
  [45.433025, -122.635295],
  [45.433256, -122.635418],
  [45.43337, -122.635486],
  [45.4335, -122.635568],
  [45.433609, -122.635639],
  [45.433799, -122.635781],
  [45.433938, -122.635888],
  [45.434025, -122.635883],
  [45.434147, -122.635995],
  [45.434263, -122.636094],
  [45.434319, -122.63623],
  [45.434418, -122.636334],
  [45.434515, -122.636441],
  [45.434628, -122.636567],
  [45.434804, -122.636778],
  [45.435048, -122.637081],
  [45.43528, -122.637371],
  [45.435309, -122.637407],
  [45.435432, -122.637563],
  [45.435529, -122.637686],
  [45.435847, -122.638084],
  [45.436238, -122.638575],
  [45.436605, -122.639035],
  [45.43681, -122.639283],
  [45.43713, -122.639635],
  [45.437262, -122.639767],
  [45.437417, -122.639924],
  [45.437538, -122.640052],
  [45.437779, -122.640245],
  [45.437894, -122.64034],
  [45.437995, -122.640419],
  [45.438215, -122.640585],
  [45.438435, -122.640731],
  [45.438581, -122.640824],
  [45.438759, -122.640926],
  [45.438987, -122.641047],
  [45.439228, -122.641166],
  [45.439447, -122.641258],
  [45.4397, -122.641352],
  [45.439847, -122.641397],
  [45.440133, -122.641475],
  [45.440559, -122.641579],
  [45.441487, -122.641804],
  [45.441973, -122.641927],
  [45.442179, -122.641979],
  [45.442341, -122.642028],
  [45.442396, -122.641558],
  [45.442474, -122.640899],
  [45.44249, -122.64077],
  [45.442585, -122.640055],
  [45.4426, -122.639942],
  [45.442616, -122.639841],
  [45.443307, -122.639993],
  [45.443409, -122.640017],
  [45.443456, -122.640029],
  [45.444089, -122.640176],
  [45.444162, -122.64019],
  [45.444233, -122.640203],
  [45.444596, -122.640286],
  [45.44474, -122.64032],
  [45.444907, -122.64036],
  [45.444843, -122.640938],
  [45.444809, -122.641251],
  [45.4448, -122.641333],
  [45.444784, -122.641478],
  [45.44488, -122.641499],
  [45.445438, -122.641633],
  [45.445522, -122.641654],
  [45.445546, -122.641512],
  [45.445644, -122.640656],
  [45.445651, -122.640556],
  [45.445658, -122.640447],
  [45.445715, -122.640008],
  [45.445728, -122.639933],
  [45.445736, -122.639903],
  [45.445749, -122.639864],
  [45.445766, -122.639821],
  [45.445784, -122.639792],
  [45.445804, -122.639763],
  [45.445827, -122.639737],
  [45.44585, -122.639714],
  [45.445875, -122.639693],
  [45.445914, -122.639663],
  [45.445939, -122.639649],
  [45.445962, -122.639636],
  [45.446037, -122.639606],
  [45.446159, -122.639565],
  [45.446178, -122.639559],
  [45.446198, -122.63955],
  [45.446214, -122.639541],
  [45.446233, -122.639527],
  [45.44626, -122.639504],
  [45.446274, -122.639489],
  [45.446307, -122.639451],
  [45.446323, -122.639425],
  [45.446339, -122.639388],
  [45.446356, -122.639345],
  [45.446364, -122.639317],
  [45.446373, -122.639286],
  [45.446378, -122.639258],
  [45.446382, -122.639229],
  [45.446385, -122.639194],
  [45.446387, -122.639151],
  [45.446392, -122.638953],
  [45.446404, -122.638375],
  [45.446409, -122.638143],
  [45.446414, -122.637889],
  [45.446424, -122.637418],
  [45.446425, -122.637361],
  [45.446431, -122.637135],
  [45.446438, -122.636804],
  [45.446446, -122.63641],
  [45.446456, -122.635908],
  [45.446476, -122.635004],
  [45.446477, -122.634944],
  [45.446481, -122.634752],
  [45.446491, -122.634323],
  [45.446499, -122.633949],
  [45.446509, -122.63345],
  [45.446518, -122.632961],
  [45.446526, -122.632535],
  [45.446531, -122.63232],
  [45.446539, -122.632069],
  [45.446553, -122.631417],
  [45.44656, -122.631168],
  [45.44657, -122.630813],
  [45.446579, -122.630349],
  [45.446591, -122.629705],
  [45.446599, -122.629248],
  [45.446604, -122.628927],
  [45.446605, -122.628901],
  [45.446622, -122.628476],
  [45.446632, -122.6275],
  [45.446663, -122.625842],
  [45.44668, -122.624964],
  [45.446679, -122.624878],
  [45.446678, -122.624794],
  [45.446677, -122.624756],
  [45.446666, -122.624597],
  [45.446658, -122.624478],
  [45.446651, -122.624399],
  [45.446647, -122.624319],
  [45.446644, -122.624239],
  [45.446641, -122.624145],
  [45.446636, -122.623334],
  [45.446627, -122.622111],
  [45.446617, -122.620053],
  [45.446614, -122.619649],
  [45.446614, -122.619539],
  [45.44686, -122.619536],
  [45.446964, -122.619535],
  [45.447118, -122.619533],
  [45.447247, -122.619531],
  [45.447338, -122.619529],
  [45.447567, -122.619531],
  [45.447691, -122.619532],
  [45.447705, -122.619532],
  [45.447842, -122.619527],
  [45.447881, -122.619522],
  [45.447917, -122.619512],
  [45.447944, -122.619499],
  [45.447973, -122.619471],
  [45.447986, -122.619454],
  [45.44802, -122.619398],
  [45.448032, -122.619357],
  [45.44804, -122.619304],
  [45.448042, -122.619237],
  [45.448041, -122.618795],
  [45.44804, -122.618448],
  [45.448038, -122.618074],
  [45.448033, -122.616956],
  [45.44802, -122.615118],
  [45.44802, -122.614536],
  [45.448021, -122.614528],
  [45.448021, -122.614369],
  [45.448013, -122.612575],
  [45.448009, -122.611817],
  [45.448006, -122.611327],
  [45.447999, -122.610095],
  [45.447995, -122.609366],
  [45.447995, -122.609263],
  [45.447991, -122.608598],
  [45.447991, -122.607902],
  [45.44799, -122.607521],
  [45.447986, -122.606697],
  [45.447983, -122.606114],
  [45.447977, -122.604547],
  [45.447976, -122.604275],
  [45.447975, -122.604104],
  [45.447965, -122.602621],
  [45.447965, -122.602568],
  [45.447963, -122.601963],
  [45.447962, -122.601282],
  [45.447961, -122.601007],
  [45.44796, -122.600828],
  [45.44796, -122.600644],
  [45.447957, -122.599837],
  [45.447955, -122.599596],
  [45.447949, -122.599072],
  [45.447949, -122.598964],
  [45.44795, -122.598837],
  [45.447949, -122.598559],
  [45.447947, -122.598339],
  [45.447942, -122.597177],
  [45.447936, -122.596113],
  [45.447933, -122.595346],
  [45.447932, -122.595218],
  [45.447922, -122.593283],
  [45.44792, -122.593036],
  [45.447915, -122.592947],
  [45.447913, -122.592916],
  [45.447905, -122.592823],
  [45.447892, -122.592722],
  [45.44785, -122.592544],
  [45.447803, -122.592391],
  [45.447738, -122.592224],
  [45.447673, -122.592084],
  [45.447587, -122.591926],
  [45.447314, -122.591414],
  [45.447211, -122.591184],
  [45.44716, -122.591015],
  [45.447129, -122.590893],
  [45.44711, -122.590787],
  [45.447088, -122.59064],
  [45.447069, -122.590421],
  [45.447068, -122.590271],
  [45.447067, -122.590161],
  [45.447062, -122.588753],
  [45.44706, -122.588192],
  [45.44706, -122.587336],
  [45.447061, -122.587301],
  [45.447061, -122.587197],
  [45.447053, -122.586326],
  [45.44705, -122.585782],
  [45.44705, -122.585145],
  [45.447048, -122.584246],
  [45.447044, -122.583298],
  [45.447044, -122.583039],
  [45.447042, -122.582545],
  [45.447041, -122.582238],
  [45.44704, -122.582217],
  [45.447039, -122.581885],
  [45.447038, -122.581478],
  [45.447037, -122.581234],
  [45.447035, -122.580934],
  [45.447035, -122.58078],
  [45.447034, -122.580525],
  [45.44703, -122.579907],
  [45.447029, -122.57957],
  [45.447029, -122.579535],
  [45.447029, -122.579453],
  [45.447029, -122.579393],
  [45.447028, -122.579222],
  [45.447028, -122.578904],
  [45.446912, -122.578897],
  [45.446588, -122.578896],
  [45.446495, -122.578896],
  [45.446311, -122.578896],
  [45.446049, -122.57891],
  [45.445924, -122.578916],
  [45.44563, -122.578921],
  [45.445523, -122.578922],
  [45.445221, -122.578925],
  [45.445098, -122.578926],
  [45.444861, -122.578924],
  [45.444649, -122.578922],
  [45.444533, -122.57892],
  [45.444401, -122.578917],
  [45.44422, -122.578918],
  [45.444168, -122.578919],
  [45.444013, -122.578919],
  [45.443899, -122.57892],
  [45.443581, -122.578922],
  [45.442938, -122.578927],
  [45.44225, -122.578928],
  [45.441956, -122.578928],
  [45.441553, -122.578929],
  [45.441274, -122.578929],
  [45.440762, -122.578928],
  [45.440617, -122.578928],
  [45.440371, -122.57893],
  [45.439838, -122.578933],
  [45.439556, -122.578944],
  [45.439355, -122.578955],
  [45.438996, -122.578971],
  [45.438936, -122.578974],
  [45.438278, -122.579004],
  [45.438278, -122.5787],
  [45.438279, -122.577925],
  [45.43828, -122.577252],
  [45.438279, -122.576351],
  [45.438279, -122.575771],
  [45.438279, -122.575642],
  [45.438135, -122.575645],
  [45.437361, -122.575662],
  [45.437263, -122.575656],
  [45.437261, -122.575546],
  [45.437255, -122.575444],
  [45.437262, -122.575233],
  [45.437277, -122.575122],
  [45.43731, -122.575012],
  [45.437375, -122.574795],
  [45.437398, -122.574718],
  [45.437412, -122.574635],
  [45.437415, -122.574575],
  [45.437416, -122.574539],
  [45.437414, -122.574347],
  [45.437414, -122.574259],
  [45.437402, -122.57331],
  [45.4374, -122.57317],
  [45.437398, -122.572993],
  [45.437386, -122.572789],
  [45.437284, -122.572368],
  [45.437243, -122.572174],
  [45.437236, -122.572096],
  [45.437225, -122.571976],
  [45.437224, -122.571863],
  [45.437222, -122.571679],
  [45.437221, -122.571651],
  [45.437216, -122.571433],
  [45.437212, -122.571197],
  [45.437206, -122.570998],
  [45.437202, -122.570785],
  [45.437198, -122.570562],
  [45.437193, -122.570335],
  [45.437189, -122.570119],
  [45.437184, -122.569903],
  [45.43718, -122.569685],
  [45.437176, -122.569469],
  [45.437175, -122.569407],
  [45.437162, -122.569347],
  [45.437139, -122.569296],
  [45.437114, -122.569251],
  [45.437081, -122.569233],
  [45.437007, -122.569226],
  [45.43683, -122.569231],
  [45.436637, -122.569217],
  [45.436537, -122.569201],
  [45.436415, -122.569182],
  [45.436264, -122.569157],
  [45.436107, -122.569129],
  [45.43607, -122.569123],
  [45.43595, -122.569104],
  [45.435618, -122.569051],
  [45.435528, -122.569036],
  [45.435508, -122.568883],
  [45.435533, -122.568653],
  [45.435564, -122.568572],
  [45.435568, -122.568479],
  [45.435599, -122.568167],
  [45.435602, -122.568142],
  [45.435613, -122.568101],
  [45.435626, -122.56807],
  [45.43567, -122.568073],
  [45.435735, -122.568086],
  [45.435757, -122.56809],
  [45.43581, -122.568136],
  [45.436148, -122.5682],
  [45.436575, -122.568281],
  [45.436566, -122.56838],
  [45.436554, -122.568507],
  [45.436532, -122.568749],
  [45.436108, -122.568667],
  [45.435763, -122.568601],
  [45.435689, -122.56859],
  [45.435678, -122.568589]
];

const stopNames = {
  "1068": "Clackamas Community College",
  "2569": "SE Harrison &amp; 24th",
  "2572": "SE Harrison &amp; 28th",
  "2575": "SE Harrison &amp; 32nd",
  "2578": "SE Harrison &amp; 37th",
  "2663": "S High &amp; 1st St",
  "2837": "Molalla &amp; Clairmont",
  "2841": "Molalla &amp; Gaffney Ln",
  "3224": "7100 Block SE King",
  "3226": "7900 Block SE King",
  "3230": "SE King &amp; Bell",
  "3231": "SE King &amp; Hollywood",
  "3233": "SE King &amp; Home",
  "3234": "SE King &amp; Linwood",
  "3238": "SE King &amp; Stanley",
  "3242": "SE King &amp; 47th",
  "3245": "SE King &amp; 52nd",
  "3250": "SE King &amp; 66th",
  "3251": "SE King &amp; 74th",
  "3409": "Linn &amp; Charman",
  "3410": "Linn &amp; Ethel",
  "3412": "Linn &amp; Holmes",
  "3413": "Linn &amp; Narain",
  "3416": "Linn &amp; Pearl",
  "3418": "Linn &amp; Williams",
  "3423": "Linn &amp; 4th",
  "3781": "SE McLoughlin &amp; Boardman",
  "3782": "SE McLoughlin &amp; Chestnut",
  "3783": "SE McLoughlin &amp; Concord",
  "3784": "SE McLoughlin &amp; Courtney",
  "3789": "SE McLoughlin &amp; Holly Farm Mall",
  "3790": "SE McLoughlin &amp; Hull Ave",
  "3791": "SE McLoughlin &amp; Jennings",
  "3792": "SE McLoughlin &amp; Maple",
  "3794": "SE McLoughlin &amp; Naef",
  "3795": "SE McLoughlin &amp; Oak Grove",
  "3798": "SE McLoughlin &amp; Park Ave",
  "3799": "SE McLoughlin &amp; Risley",
  "3800": "SE McLoughlin &amp; Roethe",
  "3801": "SE McLoughlin &amp; Silver Springs",
  "3802": "SE McLoughlin &amp; Silverleaf",
  "3807": "SE McLoughlin &amp; Vineyard",
  "3810": "12200 Block SE McLoughlin",
  "3842": "McLoughlin &amp; Oregon City Shopping Center",
  "6114": "200 Block Warner - Milne",
  "6115": "300 Block Beavercreek Rd",
  "6121": "Warner - Milne &amp; Linn Ave",
  "7101": "S 2nd &amp; Tumwater",
  "7523": "SE 42nd &amp; Llewellyn",
  "7604": "5th &amp; High St",
  "7610": "5th &amp; Jefferson",
  "7621": "5th &amp; Monroe",
  "7921": "SE 82nd &amp; Monroe/Boyer",
  "7942": "SE 82nd &amp; Causey",
  "7990": "SE 82nd &amp; King",
  "8223": "SE Jackson &amp; Main St",
  "8726": "12700 Block SE McLoughlin",
  "8732": "5th &amp; Washington (Oregon City)",
  "8758": "Oregon City Transit Center ",
  "9042": "Molalla &amp; Oregon City Post Office",
  "9517": "Beavercreek &amp; Courthouse Rd (Library Ct)",
  "10326": "SE McLoughlin &amp; Glen Echo",
  "10327": "SE McLoughlin &amp; W Gloucester",
  "10328": "McLoughlin &amp; W Arlington",
  "10421": "19300 Block McLoughlin",
  "12921": "Clackamas Town Center Mall",
  "13247": "Clackamas Town Center TC",
  "13248": "Clackamas Town Center Transit Center",
  "13592": "Beavercreek &amp; Danielson Dr",
  "13777": "SE Washington &amp; 21st",
  "14056": "High St &amp; 2nd",
  "14133": "Main &amp; 8th St",
  "14180": "19400 Block Molalla"
};

const stops = [
  { stop_id: "1068", name: "Clackamas Community College", lat: 45.321961, lon: -122.575213, times: ["2:13 PM", "2:28 PM", "2:42 PM", "2:57 PM", "3:11 PM", "3:26 PM", "3:40 PM", "3:55 PM"] },
  { stop_id: "14180", name: "19400 Block Molalla", lat: 45.325138, lon: -122.581162, times: ["2:14 PM", "2:29 PM", "2:43 PM", "2:58 PM", "3:12 PM", "3:27 PM", "3:41 PM", "3:56 PM"] },
  { stop_id: "9042", name: "Molalla &amp; Oregon City Post Office", lat: 45.32744, lon: -122.583046, times: ["2:15 PM", "2:30 PM", "2:44 PM", "2:59 PM", "3:13 PM", "3:28 PM", "3:42 PM", "3:57 PM"] },
  { stop_id: "2841", name: "Molalla &amp; Gaffney Ln", lat: 45.330266, lon: -122.585356, times: ["2:16 PM", "2:31 PM", "2:45 PM", "3:00 PM", "3:14 PM", "3:29 PM", "3:43 PM", "3:58 PM"] },
  { stop_id: "2837", name: "Molalla &amp; Clairmont", lat: 45.331589, lon: -122.586473, times: ["2:16 PM", "2:31 PM", "2:45 PM", "3:00 PM", "3:14 PM", "3:29 PM", "3:43 PM", "3:58 PM"] },
  { stop_id: "13592", name: "Beavercreek &amp; Danielson Dr", lat: 45.333759, lon: -122.591278, times: ["2:17 PM", "2:32 PM", "2:46 PM", "3:01 PM", "3:15 PM", "3:30 PM", "3:44 PM", "3:59 PM"] },
  { stop_id: "6115", name: "300 Block Beavercreek Rd", lat: 45.333705, lon: -122.594035, times: ["2:18 PM", "2:33 PM", "2:47 PM", "3:02 PM", "3:16 PM", "3:31 PM", "3:45 PM", "4:00 PM"] },
  { stop_id: "9517", name: "Beavercreek &amp; Courthouse Rd (Library Ct)", lat: 45.335056, lon: -122.5983, times: ["2:19 PM", "2:34 PM", "2:48 PM", "3:03 PM", "3:17 PM", "3:32 PM", "3:46 PM", "4:01 PM"] },
  { stop_id: "6114", name: "200 Block Warner - Milne", lat: 45.336486, lon: -122.600839, times: ["2:20 PM", "2:35 PM", "2:49 PM", "3:04 PM", "3:18 PM", "3:33 PM", "3:47 PM", "4:02 PM"] },
  { stop_id: "6121", name: "Warner - Milne &amp; Linn Ave", lat: 45.336529, lon: -122.604555, times: ["2:21 PM", "2:36 PM", "2:50 PM", "3:05 PM", "3:19 PM", "3:34 PM", "3:48 PM", "4:03 PM"] },
  { stop_id: "3418", name: "Linn &amp; Williams", lat: 45.337467, lon: -122.604893, times: ["2:21 PM", "2:36 PM", "2:50 PM", "3:05 PM", "3:19 PM", "3:34 PM", "3:48 PM", "4:03 PM"] },
  { stop_id: "3410", name: "Linn &amp; Ethel", lat: 45.340066, lon: -122.60492, times: ["2:22 PM", "2:37 PM", "2:51 PM", "3:06 PM", "3:20 PM", "3:35 PM", "3:49 PM", "4:04 PM"] },
  { stop_id: "3412", name: "Linn &amp; Holmes", lat: 45.341882, lon: -122.604949, times: ["2:22 PM", "2:37 PM", "2:51 PM", "3:06 PM", "3:20 PM", "3:35 PM", "3:49 PM", "4:04 PM"] },
  { stop_id: "3413", name: "Linn &amp; Narain", lat: 45.344227, lon: -122.604945, times: ["2:23 PM", "2:38 PM", "2:52 PM", "3:07 PM", "3:21 PM", "3:36 PM", "3:50 PM", "4:05 PM"] },
  { stop_id: "3409", name: "Linn &amp; Charman", lat: 45.34744, lon: -122.602865, times: ["2:24 PM", "2:39 PM", "2:53 PM", "3:08 PM", "3:22 PM", "3:37 PM", "3:51 PM", "4:06 PM"] },
  { stop_id: "3416", name: "Linn &amp; Pearl", lat: 45.349168, lon: -122.601451, times: ["2:24 PM", "2:39 PM", "2:53 PM", "3:08 PM", "3:22 PM", "3:37 PM", "3:51 PM", "4:06 PM"] },
  { stop_id: "3423", name: "Linn &amp; 4th", lat: 45.351051, lon: -122.600734, times: ["2:10 PM", "2:25 PM", "2:40 PM", "2:54 PM", "3:09 PM", "3:23 PM", "3:38 PM", "3:52 PM"] },
  { stop_id: "7621", name: "5th &amp; Monroe", lat: 45.353115, lon: -122.602967, times: ["2:11 PM", "2:26 PM", "2:41 PM", "2:55 PM", "3:10 PM", "3:24 PM", "3:39 PM", "3:53 PM"] },
  { stop_id: "7610", name: "5th &amp; Jefferson", lat: 45.354003, lon: -122.604746, times: ["2:11 PM", "2:26 PM", "2:41 PM", "2:55 PM", "3:10 PM", "3:24 PM", "3:39 PM", "3:53 PM"] },
  { stop_id: "8732", name: "5th &amp; Washington (Oregon City)", lat: 45.354873, lon: -122.606393, times: ["2:12 PM", "2:27 PM", "2:42 PM", "2:56 PM", "3:11 PM", "3:25 PM", "3:40 PM", "3:54 PM"] },
  { stop_id: "7604", name: "5th &amp; High St", lat: 45.355714, lon: -122.608082, times: ["2:12 PM", "2:27 PM", "2:42 PM", "2:56 PM", "3:11 PM", "3:25 PM", "3:40 PM", "3:54 PM"] },
  { stop_id: "14056", name: "High St &amp; 2nd", lat: 45.353731, lon: -122.61039, times: ["2:13 PM", "2:28 PM", "2:43 PM", "2:57 PM", "3:12 PM", "3:26 PM", "3:41 PM", "3:55 PM"] },
  { stop_id: "2663", name: "S High &amp; 1st St", lat: 45.352608, lon: -122.611518, times: ["2:14 PM", "2:29 PM", "2:44 PM", "2:58 PM", "3:13 PM", "3:27 PM", "3:42 PM", "3:56 PM"] },
  { stop_id: "7101", name: "S 2nd &amp; Tumwater", lat: 45.351484, lon: -122.61352, times: ["2:14 PM", "2:29 PM", "2:44 PM", "2:59 PM", "3:14 PM", "3:28 PM", "3:43 PM", "3:57 PM"] },
  { stop_id: "14133", name: "Main &amp; 8th St", lat: 45.358218, lon: -122.607503, times: ["2:18 PM", "2:33 PM", "2:48 PM", "3:03 PM", "3:18 PM", "3:32 PM", "3:47 PM", "4:02 PM"] },
  { stop_id: "8758", name: "Oregon City Transit Center ", lat: 45.360269, lon: -122.604529, times: ["2:20 PM", "2:35 PM", "2:50 PM", "3:05 PM", "3:20 PM", "3:34 PM", "3:49 PM", "4:04 PM"] },
  { stop_id: "3842", name: "McLoughlin &amp; Oregon City Shopping Center", lat: 45.368845, lon: -122.600901, times: ["2:22 PM", "2:37 PM", "2:52 PM", "3:07 PM", "3:22 PM", "3:36 PM", "3:51 PM", "4:06 PM"] },
  { stop_id: "10328", name: "McLoughlin &amp; W Arlington", lat: 45.376226, lon: -122.601755, times: ["2:24 PM", "2:39 PM", "2:54 PM", "3:09 PM", "3:24 PM", "3:38 PM", "3:53 PM", "4:08 PM"] },
  { stop_id: "10327", name: "SE McLoughlin &amp; W Gloucester", lat: 45.379774, lon: -122.603875, times: ["2:10 PM", "2:25 PM", "2:40 PM", "2:55 PM", "3:10 PM", "3:25 PM", "3:39 PM", "3:54 PM"] },
  { stop_id: "10421", name: "19300 Block McLoughlin", lat: 45.381767, lon: -122.605447, times: ["2:11 PM", "2:26 PM", "2:41 PM", "2:56 PM", "3:11 PM", "3:26 PM", "3:40 PM", "3:55 PM"] },
  { stop_id: "10326", name: "SE McLoughlin &amp; Glen Echo", lat: 45.385627, lon: -122.608407, times: ["2:12 PM", "2:27 PM", "2:42 PM", "2:57 PM", "3:12 PM", "3:27 PM", "3:41 PM", "3:56 PM"] },
  { stop_id: "3790", name: "SE McLoughlin &amp; Hull Ave", lat: 45.389509, lon: -122.611363, times: ["2:13 PM", "2:28 PM", "2:43 PM", "2:58 PM", "3:13 PM", "3:28 PM", "3:42 PM", "3:57 PM"] },
  { stop_id: "3791", name: "SE McLoughlin &amp; Jennings", lat: 45.39168, lon: -122.613059, times: ["2:14 PM", "2:29 PM", "2:44 PM", "2:59 PM", "3:14 PM", "3:29 PM", "3:43 PM", "3:58 PM"] },
  { stop_id: "3781", name: "SE McLoughlin &amp; Boardman", lat: 45.395352, lon: -122.615846, times: ["2:15 PM", "2:30 PM", "2:45 PM", "3:00 PM", "3:15 PM", "3:30 PM", "3:44 PM", "3:59 PM"] },
  { stop_id: "3800", name: "SE McLoughlin &amp; Roethe", lat: 45.399074, lon: -122.618725, times: ["2:16 PM", "2:31 PM", "2:46 PM", "3:01 PM", "3:16 PM", "3:31 PM", "3:45 PM", "4:00 PM"] },
  { stop_id: "3794", name: "SE McLoughlin &amp; Naef", lat: 45.402055, lon: -122.621003, times: ["2:17 PM", "2:32 PM", "2:47 PM", "3:02 PM", "3:17 PM", "3:32 PM", "3:46 PM", "4:01 PM"] },
  { stop_id: "3807", name: "SE McLoughlin &amp; Vineyard", lat: 45.405087, lon: -122.623312, times: ["2:18 PM", "2:33 PM", "2:48 PM", "3:03 PM", "3:18 PM", "3:33 PM", "3:47 PM", "4:02 PM"] },
  { stop_id: "3789", name: "SE McLoughlin &amp; Holly Farm Mall", lat: 45.406751, lon: -122.624595, times: ["2:19 PM", "2:34 PM", "2:49 PM", "3:04 PM", "3:19 PM", "3:34 PM", "3:48 PM", "4:03 PM"] },
  { stop_id: "3783", name: "SE McLoughlin &amp; Concord", lat: 45.40933, lon: -122.626572, times: ["2:20 PM", "2:35 PM", "2:50 PM", "3:05 PM", "3:20 PM", "3:35 PM", "3:49 PM", "4:04 PM"] },
  { stop_id: "3799", name: "SE McLoughlin &amp; Risley", lat: 45.412033, lon: -122.628648, times: ["2:20 PM", "2:35 PM", "2:50 PM", "3:05 PM", "3:20 PM", "3:35 PM", "3:50 PM", "4:05 PM"] },
  { stop_id: "3802", name: "SE McLoughlin &amp; Silverleaf", lat: 45.413141, lon: -122.629531, times: ["2:21 PM", "2:36 PM", "2:51 PM", "3:06 PM", "3:21 PM", "3:36 PM", "3:50 PM", "4:05 PM"] },
  { stop_id: "3795", name: "SE McLoughlin &amp; Oak Grove", lat: 45.416173, lon: -122.631789, times: ["2:22 PM", "2:37 PM", "2:52 PM", "3:07 PM", "3:22 PM", "3:37 PM", "3:51 PM", "4:06 PM"] },
  { stop_id: "3792", name: "SE McLoughlin &amp; Maple", lat: 45.418089, lon: -122.632527, times: ["2:22 PM", "2:37 PM", "2:52 PM", "3:07 PM", "3:22 PM", "3:37 PM", "3:52 PM", "4:07 PM"] },
  { stop_id: "3782", name: "SE McLoughlin &amp; Chestnut", lat: 45.419852, lon: -122.632836, times: ["2:23 PM", "2:38 PM", "2:53 PM", "3:08 PM", "3:23 PM", "3:38 PM", "3:53 PM", "4:08 PM"] },
  { stop_id: "3784", name: "SE McLoughlin &amp; Courtney", lat: 45.422832, lon: -122.633284, times: ["2:24 PM", "2:39 PM", "2:54 PM", "3:09 PM", "3:24 PM", "3:39 PM", "3:53 PM", "4:08 PM"] },
  { stop_id: "3801", name: "SE McLoughlin &amp; Silver Springs", lat: 45.427626, lon: -122.634071, times: ["2:10 PM", "2:25 PM", "2:40 PM", "2:55 PM", "3:10 PM", "3:25 PM", "3:40 PM", "3:55 PM"] },
  { stop_id: "3798", name: "SE McLoughlin &amp; Park Ave", lat: 45.430515, lon: -122.634505, times: ["2:11 PM", "2:26 PM", "2:41 PM", "2:56 PM", "3:11 PM", "3:26 PM", "3:41 PM", "3:56 PM"] },
  { stop_id: "8726", name: "12700 Block SE McLoughlin", lat: 45.43255, lon: -122.634908, times: ["2:12 PM", "2:27 PM", "2:42 PM", "2:57 PM", "3:12 PM", "3:27 PM", "3:42 PM", "3:57 PM"] },
  { stop_id: "3810", name: "12200 Block SE McLoughlin", lat: 45.435368, lon: -122.63723, times: ["2:13 PM", "2:28 PM", "2:43 PM", "2:58 PM", "3:13 PM", "3:28 PM", "3:43 PM", "3:58 PM"] },
  { stop_id: "13777", name: "SE Washington &amp; 21st", lat: 45.442534, lon: -122.640041, times: ["2:16 PM", "2:31 PM", "2:46 PM", "3:01 PM", "3:16 PM", "3:31 PM", "3:46 PM", "4:01 PM"] },
  { stop_id: "8223", name: "SE Jackson &amp; Main St", lat: 45.444896, lon: -122.641269, times: ["2:17 PM", "2:32 PM", "2:47 PM", "3:02 PM", "3:17 PM", "3:32 PM", "3:47 PM", "4:02 PM"] },
  { stop_id: "2569", name: "SE Harrison &amp; 24th", lat: 45.446367, lon: -122.637887, times: ["2:18 PM", "2:33 PM", "2:48 PM", "3:03 PM", "3:18 PM", "3:33 PM", "3:48 PM", "4:03 PM"] },
  { stop_id: "2572", name: "SE Harrison &amp; 28th", lat: 45.446415, lon: -122.635, times: ["2:18 PM", "2:33 PM", "2:48 PM", "3:03 PM", "3:18 PM", "3:33 PM", "3:48 PM", "4:03 PM"] },
  { stop_id: "2575", name: "SE Harrison &amp; 32nd", lat: 45.446491, lon: -122.628923, times: ["2:19 PM", "2:34 PM", "2:49 PM", "3:04 PM", "3:19 PM", "3:34 PM", "3:49 PM", "4:04 PM"] },
  { stop_id: "2578", name: "SE Harrison &amp; 37th", lat: 45.446619, lon: -122.624794, times: ["2:20 PM", "2:35 PM", "2:50 PM", "3:05 PM", "3:20 PM", "3:35 PM", "3:50 PM", "4:05 PM"] },
  { stop_id: "7523", name: "SE 42nd &amp; Llewellyn", lat: 45.447567, lon: -122.619427, times: ["2:21 PM", "2:36 PM", "2:51 PM", "3:06 PM", "3:21 PM", "3:36 PM", "3:51 PM", "4:06 PM"] },
  { stop_id: "3242", name: "SE King &amp; 47th", lat: 45.447935, lon: -122.614527, times: ["2:22 PM", "2:37 PM", "2:52 PM", "3:07 PM", "3:22 PM", "3:37 PM", "3:52 PM", "4:07 PM"] },
  { stop_id: "3233", name: "SE King &amp; Home", lat: 45.447932, lon: -122.61133, times: ["2:23 PM", "2:38 PM", "2:53 PM", "3:08 PM", "3:23 PM", "3:38 PM", "3:53 PM", "4:08 PM"] },
  { stop_id: "3245", name: "SE King &amp; 52nd", lat: 45.447913, lon: -122.609367, times: ["2:23 PM", "2:38 PM", "2:53 PM", "3:08 PM", "3:23 PM", "3:38 PM", "3:53 PM", "4:08 PM"] },
  { stop_id: "3238", name: "SE King &amp; Stanley", lat: 45.447901, lon: -122.604276, times: ["2:24 PM", "2:39 PM", "2:54 PM", "3:09 PM", "3:24 PM", "3:39 PM", "3:54 PM", "4:09 PM"] },
  { stop_id: "3231", name: "SE King &amp; Hollywood", lat: 45.447881, lon: -122.602622, times: ["2:10 PM", "2:25 PM", "2:40 PM", "2:55 PM", "3:10 PM", "3:25 PM", "3:40 PM", "3:55 PM"] },
  { stop_id: "3234", name: "SE King &amp; Linwood", lat: 45.447877, lon: -122.598559, times: ["2:11 PM", "2:26 PM", "2:41 PM", "2:56 PM", "3:11 PM", "3:26 PM", "3:41 PM", "3:56 PM"] },
  { stop_id: "3250", name: "SE King &amp; 66th", lat: 45.447861, lon: -122.595347, times: ["2:12 PM", "2:27 PM", "2:42 PM", "2:57 PM", "3:12 PM", "3:27 PM", "3:42 PM", "3:57 PM"] },
  { stop_id: "3230", name: "SE King &amp; Bell", lat: 45.447822, lon: -122.592957, times: ["2:12 PM", "2:27 PM", "2:43 PM", "2:58 PM", "3:13 PM", "3:28 PM", "3:43 PM", "3:58 PM"] },
  { stop_id: "3224", name: "7100 Block SE King", lat: 45.446985, lon: -122.590273, times: ["2:13 PM", "2:28 PM", "2:44 PM", "2:59 PM", "3:14 PM", "3:29 PM", "3:44 PM", "3:59 PM"] },
  { stop_id: "3251", name: "SE King &amp; 74th", lat: 45.446987, lon: -122.587335, times: ["2:14 PM", "2:29 PM", "2:45 PM", "3:00 PM", "3:15 PM", "3:30 PM", "3:45 PM", "4:00 PM"] },
  { stop_id: "3226", name: "7900 Block SE King", lat: 45.44696, lon: -122.582217, times: ["2:16 PM", "2:31 PM", "2:47 PM", "3:02 PM", "3:17 PM", "3:32 PM", "3:47 PM", "4:02 PM"] },
  { stop_id: "7990", name: "SE 82nd &amp; King", lat: 45.446585, lon: -122.579071, times: ["2:17 PM", "2:32 PM", "2:48 PM", "3:03 PM", "3:18 PM", "3:33 PM", "3:48 PM", "4:03 PM"] },
  { stop_id: "7921", name: "SE 82nd &amp; Monroe/Boyer", lat: 45.444217, lon: -122.579068, times: ["2:18 PM", "2:33 PM", "2:50 PM", "3:05 PM", "3:20 PM", "3:35 PM", "3:50 PM", "4:05 PM"] },
  { stop_id: "7942", name: "SE 82nd &amp; Causey", lat: 45.441549, lon: -122.579109, times: ["2:20 PM", "2:35 PM", "2:51 PM", "3:06 PM", "3:21 PM", "3:36 PM", "3:51 PM", "4:06 PM"] },
  { stop_id: "12921", name: "Clackamas Town Center Mall", lat: 45.43731, lon: -122.573312, times: ["2:24 PM", "2:39 PM", "2:56 PM", "3:11 PM", "3:26 PM", "3:41 PM", "3:56 PM", "4:11 PM"] },
  { stop_id: "13247", name: "Clackamas Town Center TC", lat: 45.435538, lon: -122.568155, times: ["2:10 PM", "2:26 PM", "2:41 PM", "2:58 PM", "3:13 PM", "3:28 PM", "3:43 PM", "3:58 PM"] },
  { stop_id: "13248", name: "Clackamas Town Center Transit Center", lat: 45.435666, lon: -122.568707, times: ["2:11 PM", "2:27 PM", "2:42 PM", "2:59 PM", "3:14 PM", "3:29 PM", "3:44 PM", "3:59 PM"] },
]

    const polylineOut = L.polyline(shapeOutbound, { color: 'blue', weight: 4, opacity: 0.7 }).addTo(map);
    map.fitBounds(polylineOut.getBounds());

    const nowPT = new Date(new Date().toLocaleString('en-US', { timeZone: 'America/Los_Angeles' }));
    const nowMins = nowPT.getHours() * 60 + nowPT.getMinutes();

    stops.forEach(stop => {
      let highlightedTimes = [];
      let foundNext = false;
      stop.times.forEach(timeStr => {
        let cleanTime = timeStr.trim();
        let [h, m] = cleanTime.split(":");
        let schedMins = parseInt(h, 10) * 60 + parseInt(m, 10);
        if (schedMins < nowMins && nowMins - schedMins > 720) {
          schedMins += 1440;
        }
        if (!foundNext && schedMins >= nowMins) {
          highlightedTimes.push(`<span style="background:#4dd0e1; color:#000; padding:2px 6px; border-radius:6px; font-weight:bold;">${cleanTime}</span>`);
          foundNext = true;
        } else {
          highlightedTimes.push(cleanTime);
        }
      });

      L.circleMarker([stop.lat, stop.lon], {
        radius: 6,
        color: '#4dd0e1',
        fillColor: '#4dd0e1',
        fillOpacity: 0.9,
        weight: 1
      })
      .bindPopup(`<strong>${stop.name}</strong><br>${highlightedTimes.join("<br>") || 'No scheduled times'}`)
      .addTo(map);
    });

    let busMarkers = {};
    async function fetchAndDisplay() {
      const res = await fetch(`https://developer.trimet.org/ws/v2/vehicles?route=${routeNumber}&appID=${apiKey}&json=true`);
      const data = await res.json();
      const buses = (data.resultSet.vehicle || []).filter(v => v.routeNumber == routeNumber && v.direction == direction);

      Object.values(busMarkers).forEach(m => map.removeLayer(m));
      busMarkers = {};
      if (!buses.length) return;

      buses.forEach(bus => {
        if (!bus.latitude || !bus.longitude || !bus.blockID) return;
        const icon = L.divIcon({    
           className: '',
           html: `
            <div style="text-align:center;">
              <div style="background:#0071CE;color:#fff;padding:2px 6px;border-radius:6px;font-weight:bold;">${bus.vehicleID}</div>
              <div style="width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:10px solid #00bfff;margin:auto;"></div>
            </div>
          `,
          iconSize: [40, 30], iconAnchor: [20, 30]
        });
        const marker = L.marker([bus.latitude, bus.longitude], { icon }).addTo(map);
        busMarkers[bus.vehicleID] = marker;
      });
    }
    fetchAndDisplay();
    setInterval(fetchAndDisplay, 15000);
  </script>

  <footer class="site-footer">
    <a href="terms.html">Terms of Use</a> &nbsp;|&nbsp;
    <a href="contact.html">Contact Us</a> &nbsp;|&nbsp;
    <a href="report.html">Report a Problem</a> &nbsp;|&nbsp;
    <a href="dmca.html">DMCA</a> &nbsp;|&nbsp;
    <a href="privacy.html">Privacy Policy</a>
  </footer>

  <script>
    if (!localStorage.getItem('cookieConsent')) {
      document.write(`
        <div id="cookie-banner" style="position: fixed; bottom: 0; left: 0; right: 0; background: #333; color: #fff; padding: 1rem; z-index: 1000; font-size: 0.9rem; line-height: 1.4; text-align: center; box-sizing: border-box;">
          📢 We use cookies to improve functionality and analyze traffic.
          By using MetroFeed, you agree to our 
          <a href='privacy.html' style='color: #4dd0e1; text-decoration: underline;'>Privacy Policy</a>.<br>
          <button onclick='localStorage.setItem("cookieConsent", "true"); document.getElementById("cookie-banner").remove();' style='margin-top: 0.5rem; background: #4dd0e1; color: #000; border: none; padding: 0.5rem 1rem; border-radius: 5px; cursor: pointer; font-weight: bold;'>OK</button>
        </div>
      `);
    }
  </script>
</body>
</html>