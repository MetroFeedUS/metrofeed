<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Route 88 - To Willow Creek/SW 185th Ave Transit Center | MetroFeed Portland</title>
  <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
  <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
  <style>
    html, body {
      margin: 0;
      padding: 0;
      font-family: 'Segoe UI', sans-serif;
      background-color: #0d0d0d;
      color: #cccccc;
      overflow-y: auto;
    }

    body {
      padding-top: 100px;
    }

    .ad-banner {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      background: #222;
      padding: 0.5rem 0;
      z-index: 1000;
      box-shadow: 0 2px 8px rgba(0,0,0,0.5);
      text-align: center;
    }

    .ad-banner img {
  width: 100%;
  max-width: 970px;
  height: auto;
  max-height: 120px; /* üëà Caps desktop height */
  display: block;
  margin: 0 auto;
}
    .home-button {
      position: fixed;
      top: 120px;
      left: 10px;
      background-color: #4dd0e1;
      color: #0d0d0d;
      padding: 0.5rem 1rem;
      font-weight: bold;
      border-radius: 8px;
      text-decoration: none;
      z-index: 1001;
      box-shadow: 0 0 10px #4dd0e1;
    }

    .home-button:hover {
      background-color: #00bcd4;
      color: #ffffff;
    }

    header {
      background-color: #0d0d0d;
      border-top: 4px solid #4dd0e1;
      border-bottom: 3px solid #4dd0e1;
      padding: 1rem;
      text-align: center;
    }

    header img {
      max-height: 60px;
    }

    h1 {
      text-align: center;
      margin: 1rem 0;
      font-size: 2rem;
      color: #f0f0f0;
    }

    .content-box {
      border-radius: 12px;
      padding: 0;
      margin: 0;
      background-color: #1e1e1e;
    }

    #map {
      width: 100%;
      height: 85vh;
      border: none;
      margin: 0 auto;
      display: block;
      border-radius: 8px;
    }

    .button-bar {
      display: flex;
      justify-content: center;
      margin: 1rem 0;
    }

    .button-bar a, .back-button {
      background: #4dd0e1;
      color: #0d0d0d;
      padding: 0.6rem 1.2rem;
      text-decoration: none;
      border-radius: 8px;
      font-weight: bold;
      border: none;
      cursor: pointer;
      box-shadow: 0 0 10px #4dd0e1;
    }

    .back-button:hover {
      background-color: #35c0d6;
    }

    .site-footer {
      text-align: center;
      margin-top: 3rem;
      margin-bottom: 120px;
      font-size: 0.85rem;
      color: #aaa;
    }

    .site-footer a {
      color: #00BFFF;
      text-decoration: none;
    }

    .site-footer a:hover {
      text-decoration: underline;
    }

@media (max-width: 600px) {
  .ad-banner {
    padding-top: 1rem;
    padding-bottom: 1rem;
  }
}


  </style>
</head>

<body>
 
<div class="ad-banner">
  <script src="Portland/Ads/route-88.js"></script>
</div>

 <header>
    <img src="MetroFeedPortlandLogo.png" alt="MetroFeed Portland">
  </header>

  <div class="disclaimer" style="margin: 1rem auto 0.5rem; max-width: 600px; font-size: 0.8rem; color: #bbb; text-align: center; padding: 0.5rem 1rem; background-color: #111; border: 1px dashed #444; border-radius: 6px;">
    ‚ö†Ô∏è This is a Beta program, work in progress. Please REPORT bugs and pretend to be impressed.
  </div>
  <div class="disclaimer" style="margin: 0 auto 1rem; max-width: 600px; font-size: 0.75rem; color: #888; text-align: center; padding: 0.25rem 1rem;">
    This tool is not affiliated with or endorsed by TriMet. For official schedules and service alerts, visit <a href="https://trimet.org" style="color:#4dd0e1;">trimet.org</a>.
  </div>

  <div style="margin: 2rem 0; text-align: center;">
    <button class="back-button" onclick="history.back()">Back</button>
  </div>

  <h1>Route 88 - To Willow Creek/SW 185th Ave Transit Center</h1>

  <div class="content-box">
    <div id="map"></div>
    <div style="text-align:right; font-size: 0.7rem; color: #777; margin-top: 0.5rem;">
      Data courtesy of TriMet.
    </div>
  </div>

  <script>
    if (document.referrer === "" && performance.navigation.type === 0) {
      window.location.href = "/index.html";
    }

    const apiKey = "2C4447D4A42083BCD84DE3B8E";
    const routeNumber = 88;
    const direction = parseInt(0);

    // Initialize map
    const map = L.map('map', {
      center: [45.6, -122.7],
      zoom: 12,
      minZoom: 12,
      maxZoom: 18,
      maxBounds: [[45.3, -123.1], [45.9, -122.3]],
      maxBoundsViscosity: 1.0
    });
    L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', { maxZoom: 19 }).addTo(map);

    // Injected shape & stop data
    const shapeOutbound = [
  [45.491344, -122.801203],
  [45.491226, -122.801314],
  [45.491161, -122.801376],
  [45.491041, -122.801499],
  [45.490901, -122.801643],
  [45.490895, -122.801646],
  [45.490841, -122.801673],
  [45.490774, -122.801678],
  [45.490733, -122.801656],
  [45.490457, -122.801506],
  [45.490406, -122.801536],
  [45.490373, -122.801571],
  [45.49034, -122.801631],
  [45.490257, -122.801851],
  [45.490192, -122.801799],
  [45.49014, -122.801757],
  [45.490093, -122.801723],
  [45.49005, -122.801694],
  [45.489938, -122.801628],
  [45.489764, -122.801547],
  [45.489682, -122.801589],
  [45.489277, -122.801518],
  [45.489, -122.801453],
  [45.488846, -122.801415],
  [45.48866, -122.801372],
  [45.488526, -122.801336],
  [45.488488, -122.801322],
  [45.488393, -122.801289],
  [45.488219, -122.801218],
  [45.488104, -122.801172],
  [45.48804, -122.801059],
  [45.488017, -122.801019],
  [45.487934, -122.800937],
  [45.487763, -122.800811],
  [45.487692, -122.800757],
  [45.487376, -122.80053],
  [45.487286, -122.800462],
  [45.48722, -122.800421],
  [45.487117, -122.80038],
  [45.487032, -122.800352],
  [45.486966, -122.800337],
  [45.486912, -122.800331],
  [45.486791, -122.800331],
  [45.486614, -122.800327],
  [45.486603, -122.800327],
  [45.486508, -122.800323],
  [45.486421, -122.80037],
  [45.486202, -122.800373],
  [45.486109, -122.800371],
  [45.486042, -122.800329],
  [45.485993, -122.800329],
  [45.48581, -122.800329],
  [45.485713, -122.800329],
  [45.485587, -122.800334],
  [45.485499, -122.800336],
  [45.48529, -122.800335],
  [45.485075, -122.800335],
  [45.484478, -122.800337],
  [45.484284, -122.800337],
  [45.48394, -122.800334],
  [45.48388, -122.800335],
  [45.483603, -122.800341],
  [45.483492, -122.80034],
  [45.483477, -122.800339],
  [45.48305, -122.800336],
  [45.482928, -122.800335],
  [45.4826, -122.800337],
  [45.482019, -122.80034],
  [45.481955, -122.800339],
  [45.481728, -122.800338],
  [45.48171, -122.800338],
  [45.480803, -122.80034],
  [45.480751, -122.80034],
  [45.480474, -122.800341],
  [45.480029, -122.800341],
  [45.479692, -122.800341],
  [45.479541, -122.800342],
  [45.479217, -122.800344],
  [45.478824, -122.800346],
  [45.478566, -122.800344],
  [45.47852, -122.800344],
  [45.477882, -122.800346],
  [45.477512, -122.800346],
  [45.477122, -122.800347],
  [45.476936, -122.800346],
  [45.476723, -122.800346],
  [45.476525, -122.800345],
  [45.476523, -122.800472],
  [45.47652, -122.800747],
  [45.47652, -122.800811],
  [45.476515, -122.801331],
  [45.476515, -122.801359],
  [45.476514, -122.801739],
  [45.476509, -122.802078],
  [45.476505, -122.802353],
  [45.476503, -122.802506],
  [45.476501, -122.802712],
  [45.476498, -122.802984],
  [45.476497, -122.803054],
  [45.476493, -122.803292],
  [45.476491, -122.80348],
  [45.476488, -122.80374],
  [45.476481, -122.804209],
  [45.47648, -122.804381],
  [45.476476, -122.804708],
  [45.476475, -122.804828],
  [45.476474, -122.805026],
  [45.476473, -122.805045],
  [45.476473, -122.805071],
  [45.476471, -122.80524],
  [45.47647, -122.805354],
  [45.47647, -122.805501],
  [45.476469, -122.805741],
  [45.47647, -122.806267],
  [45.476471, -122.807019],
  [45.47647, -122.807141],
  [45.476469, -122.807246],
  [45.476471, -122.80803],
  [45.476471, -122.808186],
  [45.476471, -122.808367],
  [45.476473, -122.808921],
  [45.476472, -122.809078],
  [45.476472, -122.809234],
  [45.476472, -122.809308],
  [45.476471, -122.809594],
  [45.476472, -122.80989],
  [45.476472, -122.810113],
  [45.476473, -122.810142],
  [45.476473, -122.810454],
  [45.47647, -122.810724],
  [45.476477, -122.811828],
  [45.476477, -122.811934],
  [45.476477, -122.812035],
  [45.476477, -122.81232],
  [45.476478, -122.813164],
  [45.47648, -122.813467],
  [45.47648, -122.813952],
  [45.476481, -122.814264],
  [45.476481, -122.814702],
  [45.476482, -122.815655],
  [45.476482, -122.816232],
  [45.476484, -122.817006],
  [45.476484, -122.81704],
  [45.476484, -122.817176],
  [45.476483, -122.817345],
  [45.476482, -122.818148],
  [45.476481, -122.818926],
  [45.476483, -122.81909],
  [45.476483, -122.819203],
  [45.476484, -122.819364],
  [45.476484, -122.819676],
  [45.476484, -122.819899],
  [45.476483, -122.820977],
  [45.476483, -122.821304],
  [45.47652, -122.821407],
  [45.476527, -122.821426],
  [45.476522, -122.821618],
  [45.476525, -122.821791],
  [45.476482, -122.821923],
  [45.476483, -122.822457],
  [45.476483, -122.822597],
  [45.476482, -122.822912],
  [45.476482, -122.823072],
  [45.476481, -122.823482],
  [45.476481, -122.82353],
  [45.476481, -122.823634],
  [45.476472, -122.824458],
  [45.476478, -122.825402],
  [45.476481, -122.825867],
  [45.476479, -122.826132],
  [45.476316, -122.826217],
  [45.475673, -122.826193],
  [45.47565, -122.826192],
  [45.475295, -122.826183],
  [45.475251, -122.826182],
  [45.474873, -122.826176],
  [45.474769, -122.826098],
  [45.474319, -122.826093],
  [45.474229, -122.826163],
  [45.473759, -122.826166],
  [45.473669, -122.826167],
  [45.473539, -122.826102],
  [45.473438, -122.826105],
  [45.47312, -122.82612],
  [45.472563, -122.826149],
  [45.472111, -122.826157],
  [45.471837, -122.826154],
  [45.471588, -122.826152],
  [45.471469, -122.826151],
  [45.471366, -122.826225],
  [45.470911, -122.826223],
  [45.470781, -122.826145],
  [45.470267, -122.826145],
  [45.469556, -122.826137],
  [45.469487, -122.826136],
  [45.468493, -122.826128],
  [45.467611, -122.826129],
  [45.467439, -122.826203],
  [45.466589, -122.826199],
  [45.466441, -122.826198],
  [45.46631, -122.826115],
  [45.466213, -122.826115],
  [45.465764, -122.826114],
  [45.465651, -122.826111],
  [45.465648, -122.826364],
  [45.465651, -122.826751],
  [45.465651, -122.82688],
  [45.465652, -122.827057],
  [45.465653, -122.827077],
  [45.465655, -122.827481],
  [45.465655, -122.827545],
  [45.465646, -122.828067],
  [45.46565, -122.828637],
  [45.46565, -122.828736],
  [45.465684, -122.82884],
  [45.465687, -122.829148],
  [45.465653, -122.829229],
  [45.465655, -122.829369],
  [45.465654, -122.829818],
  [45.465646, -122.830096],
  [45.465645, -122.830254],
  [45.465644, -122.830452],
  [45.465642, -122.830554],
  [45.465674, -122.830659],
  [45.465674, -122.830671],
  [45.465676, -122.83103],
  [45.465677, -122.831601],
  [45.465646, -122.831715],
  [45.465643, -122.832412],
  [45.465642, -122.832524],
  [45.465668, -122.832619],
  [45.465668, -122.832654],
  [45.465672, -122.833646],
  [45.46568, -122.833794],
  [45.46568, -122.834054],
  [45.465682, -122.834216],
  [45.465644, -122.834405],
  [45.465656, -122.836166],
  [45.465656, -122.836305],
  [45.465655, -122.83645],
  [45.465658, -122.836779],
  [45.465661, -122.837096],
  [45.465694, -122.837194],
  [45.465696, -122.837739],
  [45.465662, -122.837837],
  [45.465659, -122.839422],
  [45.465658, -122.839486],
  [45.465658, -122.839625],
  [45.46566, -122.839837],
  [45.465663, -122.840765],
  [45.465673, -122.840801],
  [45.465692, -122.84087],
  [45.465692, -122.841306],
  [45.465693, -122.841371],
  [45.465658, -122.841462],
  [45.465658, -122.841566],
  [45.465658, -122.842592],
  [45.465659, -122.843443],
  [45.465659, -122.844396],
  [45.465661, -122.844602],
  [45.465662, -122.844715],
  [45.465693, -122.844836],
  [45.465688, -122.845175],
  [45.465657, -122.845266],
  [45.465658, -122.845647],
  [45.465658, -122.845654],
  [45.465666, -122.845881],
  [45.465672, -122.845931],
  [45.465688, -122.8461],
  [45.465706, -122.846204],
  [45.46573, -122.846316],
  [45.465774, -122.846474],
  [45.465822, -122.846617],
  [45.465872, -122.846728],
  [45.465967, -122.846934],
  [45.466034, -122.846988],
  [45.466093, -122.847068],
  [45.466272, -122.84732],
  [45.466295, -122.847418],
  [45.466443, -122.847643],
  [45.466534, -122.847771],
  [45.466622, -122.847919],
  [45.466719, -122.848129],
  [45.4668, -122.848354],
  [45.466833, -122.84847],
  [45.466872, -122.848645],
  [45.466895, -122.848808],
  [45.466911, -122.84894],
  [45.466923, -122.849062],
  [45.466925, -122.849189],
  [45.466926, -122.849354],
  [45.466927, -122.849645],
  [45.466927, -122.850177],
  [45.466931, -122.850883],
  [45.466932, -122.851136],
  [45.466932, -122.85157],
  [45.466931, -122.851787],
  [45.467051, -122.851797],
  [45.467751, -122.851817],
  [45.467861, -122.851777],
  [45.468184, -122.851775],
  [45.468528, -122.85179],
  [45.469048, -122.851796],
  [45.469087, -122.851796],
  [45.46919, -122.851845],
  [45.469851, -122.851851],
  [45.469955, -122.851855],
  [45.470049, -122.851805],
  [45.470594, -122.851799],
  [45.470944, -122.8518],
  [45.471007, -122.8518],
  [45.471112, -122.851853],
  [45.47161, -122.851845],
  [45.471722, -122.851802],
  [45.472044, -122.851797],
  [45.472135, -122.85184],
  [45.472546, -122.851843],
  [45.472708, -122.851844],
  [45.473206, -122.851848],
  [45.473293, -122.851795],
  [45.473548, -122.851797],
  [45.473622, -122.851841],
  [45.474116, -122.851842],
  [45.474214, -122.851803],
  [45.47443, -122.851794],
  [45.474643, -122.851793],
  [45.474735, -122.851832],
  [45.474925, -122.851836],
  [45.475603, -122.85183],
  [45.47574, -122.851833],
  [45.475821, -122.851833],
  [45.476095, -122.851831],
  [45.476304, -122.85183],
  [45.476405, -122.85183],
  [45.476586, -122.85183],
  [45.476943, -122.851808],
  [45.477526, -122.851765],
  [45.477769, -122.851736],
  [45.477877, -122.851711],
  [45.478126, -122.851669],
  [45.479071, -122.851605],
  [45.479312, -122.851588],
  [45.480233, -122.85152],
  [45.480593, -122.851498],
  [45.480704, -122.851496],
  [45.480932, -122.85151],
  [45.481088, -122.851508],
  [45.4812, -122.851501],
  [45.481648, -122.851473],
  [45.481846, -122.851476],
  [45.481763, -122.851735],
  [45.481654, -122.852092],
  [45.481374, -122.853004],
  [45.481287, -122.853295],
  [45.481203, -122.853596],
  [45.481098, -122.854026],
  [45.481058, -122.854185],
  [45.481071, -122.85428],
  [45.480974, -122.854672],
  [45.480903, -122.854951],
  [45.480852, -122.85511],
  [45.480795, -122.855158],
  [45.480735, -122.855336],
  [45.480694, -122.855467],
  [45.480637, -122.855619],
  [45.480514, -122.855892],
  [45.48039, -122.856169],
  [45.480351, -122.856258],
  [45.480175, -122.856653],
  [45.480037, -122.856964],
  [45.479923, -122.857216],
  [45.479707, -122.857696],
  [45.479666, -122.85779],
  [45.479617, -122.857901],
  [45.479512, -122.858128],
  [45.479399, -122.858372],
  [45.479286, -122.858616],
  [45.478952, -122.859377],
  [45.478739, -122.859847],
  [45.478534, -122.8603],
  [45.478203, -122.861023],
  [45.477643, -122.862238],
  [45.47675, -122.864241],
  [45.476362, -122.865126],
  [45.476355, -122.865201],
  [45.476226, -122.865502],
  [45.476177, -122.865539],
  [45.476145, -122.865617],
  [45.475987, -122.866003],
  [45.475868, -122.866276],
  [45.475826, -122.866372],
  [45.475736, -122.866582],
  [45.475673, -122.866724],
  [45.475579, -122.866934],
  [45.475484, -122.86715],
  [45.475373, -122.867396],
  [45.4753, -122.867534],
  [45.475218, -122.867677],
  [45.475023, -122.868018],
  [45.474909, -122.868213],
  [45.474728, -122.868522],
  [45.47418, -122.869415],
  [45.474055, -122.86962],
  [45.473803, -122.870036],
  [45.473667, -122.87026],
  [45.473562, -122.870433],
  [45.473516, -122.870508],
  [45.473272, -122.870909],
  [45.473116, -122.871166],
  [45.472896, -122.871536],
  [45.472806, -122.871705],
  [45.472713, -122.871891],
  [45.472638, -122.872049],
  [45.472583, -122.872177],
  [45.472486, -122.872412],
  [45.472452, -122.872497],
  [45.472161, -122.873295],
  [45.471996, -122.873762],
  [45.471877, -122.874124],
  [45.471836, -122.874259],
  [45.471809, -122.874357],
  [45.471794, -122.874413],
  [45.471755, -122.874565],
  [45.471663, -122.874927],
  [45.471369, -122.876196],
  [45.470943, -122.87803],
  [45.470827, -122.878526],
  [45.470737, -122.878913],
  [45.470341, -122.880606],
  [45.470103, -122.881625],
  [45.470233, -122.881679],
  [45.470324, -122.881688],
  [45.470672, -122.881692],
  [45.470857, -122.881707],
  [45.470925, -122.881712],
  [45.471037, -122.881721],
  [45.471247, -122.881737],
  [45.471987, -122.881738],
  [45.472122, -122.881738],
  [45.472422, -122.881736],
  [45.474759, -122.881749],
  [45.475068, -122.881749],
  [45.4762, -122.881753],
  [45.477045, -122.88174],
  [45.477585, -122.881732],
  [45.478563, -122.881705],
  [45.478911, -122.881696],
  [45.478983, -122.881694],
  [45.479664, -122.881668],
  [45.48054, -122.881632],
  [45.481486, -122.88159],
  [45.482062, -122.881581],
  [45.4824, -122.881567],
  [45.482904, -122.881557],
  [45.483104, -122.881553],
  [45.483936, -122.881547],
  [45.484181, -122.881537],
  [45.484401, -122.881531],
  [45.485301, -122.881507],
  [45.485818, -122.881494],
  [45.486427, -122.881483],
  [45.486644, -122.881479],
  [45.488865, -122.881446],
  [45.488974, -122.881442],
  [45.489478, -122.881418],
  [45.489727, -122.881408],
  [45.489959, -122.881399],
  [45.490139, -122.881392],
  [45.490456, -122.881378],
  [45.49117, -122.881353],
  [45.491579, -122.881343],
  [45.49212, -122.881322],
  [45.492539, -122.881313],
  [45.492922, -122.881296],
  [45.493443, -122.881273],
  [45.493538, -122.881272],
  [45.493826, -122.881252],
  [45.494351, -122.881225],
  [45.495179, -122.881196],
  [45.495302, -122.881186],
  [45.49545, -122.881106],
  [45.49566, -122.881086],
  [45.495824, -122.881079],
  [45.495888, -122.881123],
  [45.496058, -122.881119],
  [45.496164, -122.881116],
  [45.496247, -122.881113],
  [45.496631, -122.881101],
  [45.497755, -122.881051],
  [45.498337, -122.881025],
  [45.498651, -122.881011],
  [45.500269, -122.880937],
  [45.500402, -122.880931],
  [45.500489, -122.880928],
  [45.501424, -122.880895],
  [45.50181, -122.880894],
  [45.502263, -122.880883],
  [45.502382, -122.88088],
  [45.502629, -122.880868],
  [45.502781, -122.88086],
  [45.503259, -122.880839],
  [45.503558, -122.880824],
  [45.50396, -122.880804],
  [45.504441, -122.880782],
  [45.504732, -122.880769],
  [45.504825, -122.880766],
  [45.5054, -122.880743],
  [45.506037, -122.880719],
  [45.506835, -122.880684],
  [45.507421, -122.88067],
  [45.50768, -122.880668],
  [45.507723, -122.880663],
  [45.507751, -122.880653],
  [45.507771, -122.880638],
  [45.50778, -122.88063],
  [45.507793, -122.880616],
  [45.507818, -122.880587],
  [45.507835, -122.880541],
  [45.507843, -122.880502],
  [45.507845, -122.880442],
  [45.507841, -122.879757],
  [45.507843, -122.879714],
  [45.507852, -122.879669],
  [45.507863, -122.879635],
  [45.507882, -122.879597],
  [45.507906, -122.879564],
  [45.507944, -122.879531],
  [45.507996, -122.879514],
  [45.50805, -122.879508],
  [45.508619, -122.879517],
  [45.509431, -122.879512],
  [45.509517, -122.879512],
  [45.510057, -122.879511],
  [45.510409, -122.879504],
  [45.510501, -122.879504],
  [45.510998, -122.879498],
  [45.511551, -122.879503],
  [45.512278, -122.879511],
  [45.512395, -122.879512],
  [45.513274, -122.879503],
  [45.514022, -122.879506],
  [45.514225, -122.879505],
  [45.514389, -122.87951],
  [45.514442, -122.879522],
  [45.514598, -122.879553],
  [45.515017, -122.879583],
  [45.515058, -122.879586],
  [45.515207, -122.879603],
  [45.515227, -122.879501],
  [45.515234, -122.879458],
  [45.515263, -122.879317],
  [45.515293, -122.879178],
  [45.515339, -122.879008],
  [45.515383, -122.878863],
  [45.515436, -122.878697],
  [45.515542, -122.878389],
  [45.515714, -122.877893],
  [45.515769, -122.877707],
  [45.515824, -122.87751],
  [45.515892, -122.877237],
  [45.515913, -122.877135],
  [45.515936, -122.877029],
  [45.515958, -122.876909],
  [45.515999, -122.876658],
  [45.51605, -122.876229],
  [45.516074, -122.875891],
  [45.516097, -122.875541],
  [45.516133, -122.874687],
  [45.516198, -122.873318],
  [45.516259, -122.871675],
  [45.516286, -122.871068],
  [45.516296, -122.870854],
  [45.516299, -122.870742],
  [45.516297, -122.870534],
  [45.516294, -122.870395],
  [45.516287, -122.870256],
  [45.516274, -122.870104],
  [45.516258, -122.869966],
  [45.516232, -122.869753],
  [45.516212, -122.869615],
  [45.516191, -122.869489],
  [45.516171, -122.869377],
  [45.516157, -122.869311],
  [45.516114, -122.869134],
  [45.516034, -122.868851],
  [45.515912, -122.868685],
  [45.515602, -122.867763],
  [45.515568, -122.867663],
  [45.515559, -122.867537],
  [45.51555, -122.867385],
  [45.515519, -122.867292],
  [45.515366, -122.866815],
  [45.515228, -122.866405],
  [45.515048, -122.865869],
  [45.51501, -122.865763],
  [45.51487, -122.865689],
  [45.514829, -122.865659],
  [45.514788, -122.865642],
  [45.514734, -122.865641],
  [45.514676, -122.865662],
  [45.514541, -122.865748],
  [45.514426, -122.865833],
  [45.514355, -122.865897],
  [45.514269, -122.866023],
  [45.514245, -122.866076],
  [45.514232, -122.866116],
  [45.514222, -122.866146],
  [45.514202, -122.866219],
  [45.514188, -122.866319],
  [45.51418, -122.867147],
  [45.514186, -122.867217],
  [45.514205, -122.867276],
  [45.514245, -122.867348],
  [45.514305, -122.867407],
  [45.514417, -122.867406],
  [45.514958, -122.867387],
  [45.515123, -122.867383],
  [45.515381, -122.867377],
  [45.51555, -122.867385],
  [45.515699, -122.867384],
  [45.516277, -122.867383],
  [45.516328, -122.867383],
  [45.517602, -122.867374],
  [45.517684, -122.867376],
  [45.517687, -122.867535],
  [45.517689, -122.867649],
  [45.517708, -122.868214],
  [45.517709, -122.868234],
  [45.517715, -122.868896],
  [45.517718, -122.868976],
  [45.517726, -122.869048],
  [45.517746, -122.869144],
  [45.517769, -122.869223],
  [45.517801, -122.869331],
  [45.517824, -122.869402],
  [45.51786, -122.869521],
  [45.517936, -122.869725],
  [45.517961, -122.869785],
  [45.517988, -122.869841],
  [45.518029, -122.869913],
  [45.518071, -122.869974],
  [45.518106, -122.870021],
  [45.51816, -122.870078],
  [45.518223, -122.870135],
  [45.518192, -122.870243],
  [45.518146, -122.870332],
  [45.518029, -122.870528],
  [45.517881, -122.870759],
  [45.517835, -122.870804],
  [45.517791, -122.870816],
  [45.517744, -122.870817],
  [45.517693, -122.870802],
  [45.517654, -122.870777],
  [45.517615, -122.870736],
  [45.517582, -122.870675],
  [45.517545, -122.870562],
  [45.517484, -122.870366],
  [45.517453, -122.870266]
];

const stopNames = {
  "101": "SW Allen &amp; Erickson",
  "103": "SW Allen &amp; Hall",
  "105": "SW Allen &amp; Menlo",
  "108": "SW Allen &amp; Taralynn",
  "112": "SW Allen &amp; Wilson",
  "114": "SW Allen &amp; 141st",
  "269": "W Baseline Rd &amp; SW Willow Creek Dr",
  "278": "W Baseline Rd &amp; SW 194th",
  "1651": "SW Farmington &amp; Kinnaman",
  "1657": "17500 Block SW Farmington",
  "1682": "SW Farmington &amp; 170th",
  "1689": "SW Farmington &amp; 188th Ct",
  "1691": "SW Farmington &amp; 192nd",
  "1694": "SW Farmington &amp; 196th",
  "3454": "SW Lombard &amp; Allen",
  "3581": "SW Lombard &amp; 12th",
  "3584": "SW Lombard &amp; 5th",
  "3586": "SW Lombard &amp; 9th",
  "7053": "SW 197th &amp; W Baseline",
  "7060": "SW 198th &amp; Blanton",
  "7071": "SW 198th &amp; Farmington",
  "7074": "SW 198th &amp; Johnson",
  "7076": "SW 198th &amp; Kinnaman",
  "7077": "SW 198th &amp; Prospect",
  "7082": "SW 198th &amp; Rosa",
  "7084": "SW 198th &amp; Sandra",
  "7087": "SW 198th &amp; Southview",
  "7090": "SW 198th &amp; Trelane",
  "7094": "SW 198th &amp; York",
  "8491": "SW Lombard &amp; 2nd",
  "8604": "SW Murray &amp; Allen",
  "8605": "SW Murray &amp; Davis",
  "8606": "SW Murray &amp; Kilchis",
  "9323": "SW Murray &amp; Barlow",
  "9621": "Willow Creek Transit Center",
  "9663": "SW Hart &amp; Forest Dr",
  "9664": "SW Hart &amp; Dunsmuir",
  "9665": "SW Hart &amp; 155th",
  "9667": "SW Hart &amp; 160th",
  "9668": "SW Hart &amp; 165th",
  "9669": "SW Bany &amp; Tallac Way",
  "9670": "SW 170th &amp; Canby",
  "9671": "SW 170th &amp; Ivy Glenn",
  "9672": "SW 170th &amp; Oak",
  "9673": "SW 170th &amp; Rosa Place",
  "9674": "SW Farmington &amp; 185th",
  "9981": "Beaverton Transit Center",
  "9985": "Beaverton Transit Center",
  "10274": "SW 170th &amp; Timberland Dr",
  "10436": "SW Hart &amp; 149th",
  "10464": "W Baseline &amp; SW 185th",
  "12945": "SW Lombard &amp; Broadway",
  "13036": "SW 197th &amp; Alderwood Ct",
  "13498": "SW 198th &amp; Rock Rd",
  "13499": "3300 Block SW 198th",
  "13579": "SW Farmington &amp; Rosa Rd",
  "13706": "SW 197th &amp; Limestone Ct",
  "14140": "SW 198th &amp; Jaylee"
};

const stops = [
  { stop_id: "9985", name: "Beaverton Transit Center", lat: 45.491385, lon: -122.801308, times: ["5:28 AM", "6:05 AM", "6:30 AM", "7:00 AM", "7:30 AM", "8:00 AM", "8:30 AM", "9:00 AM"] },
  { stop_id: "9981", name: "Beaverton Transit Center", lat: 45.49093, lon: -122.801741, times: ["5:30 AM", "6:07 AM", "6:32 AM", "7:02 AM", "7:32 AM", "8:02 AM", "8:32 AM", "9:02 AM"] },
  { stop_id: "12945", name: "SW Lombard &amp; Broadway", lat: 45.488206, lon: -122.801264, times: ["5:30 AM", "6:07 AM", "6:33 AM", "7:03 AM", "7:33 AM", "8:03 AM", "8:33 AM", "9:02 AM"] },
  { stop_id: "8491", name: "SW Lombard &amp; 2nd", lat: 45.48529, lon: -122.800386, times: ["5:31 AM", "6:08 AM", "6:34 AM", "7:04 AM", "7:34 AM", "8:04 AM", "8:34 AM", "9:03 AM"] },
  { stop_id: "3584", name: "SW Lombard &amp; 5th", lat: 45.483046, lon: -122.800391, times: ["5:32 AM", "6:09 AM", "6:35 AM", "7:05 AM", "7:35 AM", "8:05 AM", "8:35 AM", "9:04 AM"] },
  { stop_id: "3586", name: "SW Lombard &amp; 9th", lat: 45.480798, lon: -122.800392, times: ["5:32 AM", "6:09 AM", "6:36 AM", "7:06 AM", "7:36 AM", "8:06 AM", "8:36 AM", "9:05 AM"] },
  { stop_id: "3581", name: "SW Lombard &amp; 12th", lat: 45.478516, lon: -122.800403, times: ["5:33 AM", "6:10 AM", "6:36 AM", "7:06 AM", "7:36 AM", "8:06 AM", "8:36 AM", "9:06 AM"] },
  { stop_id: "3454", name: "SW Lombard &amp; Allen", lat: 45.476717, lon: -122.8004, times: ["5:34 AM", "6:11 AM", "6:37 AM", "7:07 AM", "7:37 AM", "8:07 AM", "8:37 AM", "9:06 AM"] },
  { stop_id: "103", name: "SW Allen &amp; Hall", lat: 45.476549, lon: -122.805243, times: ["5:35 AM", "6:12 AM", "6:39 AM", "7:09 AM", "7:39 AM", "8:09 AM", "8:39 AM", "9:08 AM"] },
  { stop_id: "108", name: "SW Allen &amp; Taralynn", lat: 45.476526, lon: -122.809236, times: ["5:35 AM", "6:12 AM", "6:39 AM", "7:09 AM", "7:39 AM", "8:09 AM", "8:39 AM", "9:08 AM"] },
  { stop_id: "101", name: "SW Allen &amp; Erickson", lat: 45.476537, lon: -122.81232, times: ["5:35 AM", "6:12 AM", "6:39 AM", "7:10 AM", "7:40 AM", "8:10 AM", "8:40 AM", "9:09 AM"] },
  { stop_id: "105", name: "SW Allen &amp; Menlo", lat: 45.476573, lon: -122.817003, times: ["5:36 AM", "6:13 AM", "6:40 AM", "7:10 AM", "7:40 AM", "8:10 AM", "8:40 AM", "9:09 AM"] },
  { stop_id: "112", name: "SW Allen &amp; Wilson", lat: 45.476545, lon: -122.819677, times: ["5:36 AM", "6:13 AM", "6:40 AM", "7:11 AM", "7:41 AM", "8:11 AM", "8:41 AM", "9:10 AM"] },
  { stop_id: "114", name: "SW Allen &amp; 141st", lat: 45.476557, lon: -122.821376, times: ["5:37 AM", "6:14 AM", "6:41 AM", "7:11 AM", "7:41 AM", "8:11 AM", "8:41 AM", "9:10 AM"] },
  { stop_id: "8604", name: "SW Murray &amp; Allen", lat: 45.475671, lon: -122.826272, times: ["5:37 AM", "6:14 AM", "6:41 AM", "7:12 AM", "7:42 AM", "8:12 AM", "8:42 AM", "9:11 AM"] },
  { stop_id: "8605", name: "SW Murray &amp; Davis", lat: 45.473754, lon: -122.82627, times: ["5:38 AM", "6:15 AM", "6:42 AM", "7:12 AM", "7:42 AM", "8:12 AM", "8:42 AM", "9:11 AM"] },
  { stop_id: "8606", name: "SW Murray &amp; Kilchis", lat: 45.471837, lon: -122.826336, times: ["5:38 AM", "6:15 AM", "6:42 AM", "7:13 AM", "7:43 AM", "8:13 AM", "8:43 AM", "9:12 AM"] },
  { stop_id: "9323", name: "SW Murray &amp; Barlow", lat: 45.46955, lon: -122.826294, times: ["5:39 AM", "6:16 AM", "6:43 AM", "7:13 AM", "7:43 AM", "8:13 AM", "8:43 AM", "9:12 AM"] },
  { stop_id: "9663", name: "SW Hart &amp; Forest Dr", lat: 45.46572, lon: -122.827054, times: ["5:40 AM", "6:17 AM", "6:44 AM", "7:15 AM", "7:45 AM", "8:15 AM", "8:45 AM", "9:14 AM"] },
  { stop_id: "9664", name: "SW Hart &amp; Dunsmuir", lat: 45.465717, lon: -122.83067, times: ["5:40 AM", "6:17 AM", "6:44 AM", "7:15 AM", "7:45 AM", "8:15 AM", "8:45 AM", "9:14 AM"] },
  { stop_id: "10436", name: "SW Hart &amp; 149th", lat: 45.465722, lon: -122.832654, times: ["5:40 AM", "6:17 AM", "6:44 AM", "7:15 AM", "7:45 AM", "8:15 AM", "8:45 AM", "9:14 AM"] },
  { stop_id: "9665", name: "SW Hart &amp; 155th", lat: 45.465718, lon: -122.836776, times: ["5:41 AM", "6:18 AM", "6:45 AM", "7:16 AM", "7:46 AM", "8:16 AM", "8:46 AM", "9:15 AM"] },
  { stop_id: "9667", name: "SW Hart &amp; 160th", lat: 45.465721, lon: -122.840771, times: ["5:41 AM", "6:18 AM", "6:45 AM", "7:17 AM", "7:47 AM", "8:17 AM", "8:47 AM", "9:16 AM"] },
  { stop_id: "9668", name: "SW Hart &amp; 165th", lat: 45.465725, lon: -122.845649, times: ["5:42 AM", "6:19 AM", "6:46 AM", "7:17 AM", "7:47 AM", "8:17 AM", "8:47 AM", "9:16 AM"] },
  { stop_id: "9669", name: "SW Bany &amp; Tallac Way", lat: 45.467042, lon: -122.850881, times: ["5:43 AM", "6:20 AM", "6:47 AM", "7:18 AM", "7:48 AM", "8:18 AM", "8:48 AM", "9:17 AM"] },
  { stop_id: "9670", name: "SW 170th &amp; Canby", lat: 45.469036, lon: -122.851723, times: ["5:43 AM", "6:20 AM", "6:47 AM", "7:19 AM", "7:49 AM", "8:19 AM", "8:49 AM", "9:18 AM"] },
  { stop_id: "10274", name: "SW 170th &amp; Timberland Dr", lat: 45.470943, lon: -122.85173, times: ["5:43 AM", "6:20 AM", "6:48 AM", "7:19 AM", "7:49 AM", "8:19 AM", "8:49 AM", "9:18 AM"] },
  { stop_id: "9671", name: "SW 170th &amp; Ivy Glenn", lat: 45.472541, lon: -122.851725, times: ["5:44 AM", "6:21 AM", "6:48 AM", "7:20 AM", "7:50 AM", "8:20 AM", "8:50 AM", "9:19 AM"] },
  { stop_id: "9672", name: "SW 170th &amp; Oak", lat: 45.476088, lon: -122.851714, times: ["5:44 AM", "6:21 AM", "6:49 AM", "7:20 AM", "7:50 AM", "8:20 AM", "8:50 AM", "9:19 AM"] },
  { stop_id: "9673", name: "SW 170th &amp; Rosa Place", lat: 45.479302, lon: -122.851457, times: ["5:45 AM", "6:22 AM", "6:50 AM", "7:21 AM", "7:51 AM", "8:21 AM", "8:51 AM", "9:20 AM"] },
  { stop_id: "1682", name: "SW Farmington &amp; 170th", lat: 45.481773, lon: -122.852169, times: ["5:45 AM", "6:22 AM", "6:50 AM", "7:22 AM", "7:52 AM", "8:22 AM", "8:52 AM", "9:21 AM"] },
  { stop_id: "1651", name: "SW Farmington &amp; Kinnaman", lat: 45.480594, lon: -122.855972, times: ["5:46 AM", "6:23 AM", "6:51 AM", "7:22 AM", "7:52 AM", "8:22 AM", "8:52 AM", "9:21 AM"] },
  { stop_id: "1657", name: "17500 Block SW Farmington", lat: 45.479568, lon: -122.85818, times: ["5:46 AM", "6:23 AM", "6:51 AM", "7:23 AM", "7:53 AM", "8:23 AM", "8:53 AM", "9:22 AM"] },
  { stop_id: "13579", name: "SW Farmington &amp; Rosa Rd", lat: 45.478787, lon: -122.859896, times: ["5:46 AM", "6:23 AM", "6:51 AM", "7:23 AM", "7:53 AM", "8:23 AM", "8:53 AM", "9:22 AM"] },
  { stop_id: "9674", name: "SW Farmington &amp; 185th", lat: 45.475642, lon: -122.866995, times: ["5:48 AM", "6:25 AM", "6:53 AM", "7:25 AM", "7:55 AM", "8:25 AM", "8:55 AM", "9:24 AM"] },
  { stop_id: "1689", name: "SW Farmington &amp; 188th Ct", lat: 45.473564, lon: -122.870552, times: ["5:48 AM", "6:25 AM", "6:53 AM", "7:25 AM", "7:55 AM", "8:25 AM", "8:55 AM", "9:24 AM"] },
  { stop_id: "1691", name: "SW Farmington &amp; 192nd", lat: 45.471867, lon: -122.874392, times: ["5:49 AM", "6:26 AM", "6:54 AM", "7:26 AM", "7:56 AM", "8:26 AM", "8:56 AM", "9:25 AM"] },
  { stop_id: "1694", name: "SW Farmington &amp; 196th", lat: 45.470907, lon: -122.878561, times: ["5:50 AM", "6:27 AM", "6:55 AM", "7:27 AM", "7:57 AM", "8:27 AM", "8:57 AM", "9:26 AM"] },
  { stop_id: "7071", name: "SW 198th &amp; Farmington", lat: 45.471043, lon: -122.881582, times: ["5:50 AM", "6:27 AM", "6:55 AM", "7:27 AM", "7:57 AM", "8:27 AM", "8:57 AM", "9:26 AM"] },
  { stop_id: "7077", name: "SW 198th &amp; Prospect", lat: 45.475068, lon: -122.881622, times: ["5:51 AM", "6:28 AM", "6:56 AM", "7:28 AM", "7:58 AM", "8:28 AM", "8:58 AM", "9:27 AM"] },
  { stop_id: "7082", name: "SW 198th &amp; Rosa", lat: 45.478911, lon: -122.88157, times: ["5:52 AM", "6:29 AM", "6:57 AM", "7:29 AM", "7:59 AM", "8:29 AM", "8:59 AM", "9:28 AM"] },
  { stop_id: "14140", name: "SW 198th &amp; Jaylee", lat: 45.482892, lon: -122.881444, times: ["5:53 AM", "6:30 AM", "6:58 AM", "7:30 AM", "8:00 AM", "8:30 AM", "9:00 AM", "9:29 AM"] },
  { stop_id: "7087", name: "SW 198th &amp; Southview", lat: 45.486426, lon: -122.881397, times: ["5:53 AM", "6:30 AM", "6:58 AM", "7:30 AM", "8:00 AM", "8:30 AM", "9:00 AM", "9:29 AM"] },
  { stop_id: "7076", name: "SW 198th &amp; Kinnaman", lat: 45.489972, lon: -122.881292, times: ["5:54 AM", "6:31 AM", "6:59 AM", "7:31 AM", "8:01 AM", "8:31 AM", "9:01 AM", "9:30 AM"] },
  { stop_id: "7060", name: "SW 198th &amp; Blanton", lat: 45.492922, lon: -122.881171, times: ["5:55 AM", "6:32 AM", "7:00 AM", "7:32 AM", "8:02 AM", "8:32 AM", "9:02 AM", "9:31 AM"] },
  { stop_id: "13499", name: "3300 Block SW 198th", lat: 45.496052, lon: -122.881014, times: ["5:56 AM", "6:33 AM", "7:01 AM", "7:33 AM", "8:03 AM", "8:33 AM", "9:03 AM", "9:32 AM"] },
  { stop_id: "7090", name: "SW 198th &amp; Trelane", lat: 45.498645, lon: -122.880901, times: ["5:56 AM", "6:33 AM", "7:01 AM", "7:33 AM", "8:03 AM", "8:33 AM", "9:03 AM", "9:32 AM"] },
  { stop_id: "7074", name: "SW 198th &amp; Johnson", lat: 45.500261, lon: -122.880835, times: ["5:57 AM", "6:34 AM", "7:02 AM", "7:34 AM", "8:04 AM", "8:34 AM", "9:04 AM", "9:33 AM"] },
  { stop_id: "7084", name: "SW 198th &amp; Sandra", lat: 45.502621, lon: -122.880779, times: ["5:57 AM", "6:34 AM", "7:03 AM", "7:35 AM", "8:05 AM", "8:35 AM", "9:05 AM", "9:34 AM"] },
  { stop_id: "7094", name: "SW 198th &amp; York", lat: 45.504818, lon: -122.880714, times: ["5:58 AM", "6:35 AM", "7:03 AM", "7:35 AM", "8:05 AM", "8:35 AM", "9:05 AM", "9:34 AM"] },
  { stop_id: "13498", name: "SW 198th &amp; Rock Rd", lat: 45.50775, lon: -122.880584, times: ["5:59 AM", "6:36 AM", "7:04 AM", "7:36 AM", "8:06 AM", "8:36 AM", "9:06 AM", "9:35 AM"] },
  { stop_id: "13706", name: "SW 197th &amp; Limestone Ct", lat: 45.509517, lon: -122.879424, times: ["5:59 AM", "6:37 AM", "7:05 AM", "7:37 AM", "8:07 AM", "8:37 AM", "9:07 AM", "9:36 AM"] },
  { stop_id: "13036", name: "SW 197th &amp; Alderwood Ct", lat: 45.512273, lon: -122.879419, times: ["6:00 AM", "6:37 AM", "7:06 AM", "7:38 AM", "8:08 AM", "8:38 AM", "9:08 AM", "9:37 AM"] },
  { stop_id: "7053", name: "SW 197th &amp; W Baseline", lat: 45.515017, lon: -122.879445, times: ["6:01 AM", "6:38 AM", "7:07 AM", "7:39 AM", "8:09 AM", "8:39 AM", "9:09 AM", "9:38 AM"] },
  { stop_id: "278", name: "W Baseline Rd &amp; SW 194th", lat: 45.515974, lon: -122.875877, times: ["6:01 AM", "6:39 AM", "7:08 AM", "7:40 AM", "8:10 AM", "8:40 AM", "9:10 AM", "9:39 AM"] },
  { stop_id: "269", name: "W Baseline Rd &amp; SW Willow Creek Dr", lat: 45.516157, lon: -122.871055, times: ["6:02 AM", "6:40 AM", "7:09 AM", "7:41 AM", "8:11 AM", "8:41 AM", "9:11 AM", "9:40 AM"] },
  { stop_id: "10464", name: "W Baseline &amp; SW 185th", lat: 45.515523, lon: -122.867812, times: ["6:03 AM", "6:41 AM", "7:09 AM", "7:41 AM", "8:11 AM", "8:41 AM", "9:11 AM", "9:40 AM"] },
  { stop_id: "9621", name: "Willow Creek Transit Center", lat: 45.5174, lon: -122.8703, times: ["6:06 AM", "6:44 AM", "7:13 AM", "7:45 AM", "8:15 AM", "8:45 AM", "9:15 AM", "9:44 AM"] },
]

    // Draw route polyline
    const polylineOut = L.polyline(shapeOutbound, { color: 'blue', weight: 4, opacity: 0.7 }).addTo(map);
    map.fitBounds(polylineOut.getBounds());

    // 1. Get current time in PT
    const nowPT = new Date(new Date().toLocaleString('en-US', { timeZone: 'America/Los_Angeles' }));
    const datePT = nowPT.toDateString();

    // 2. Add stops with highlighted next time
    stops.forEach(stop => {
      const stamps = stop.times.map(t => new Date(`${datePT} ${t}`));
      const nextIdx = stamps.findIndex(ts => ts > nowPT);
      const timesHtml = stamps.slice(0, 8).map((ts, i) => {
        const lbl = ts.toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' });
        return i === nextIdx ? `<strong>${lbl}</strong>` : lbl;
      }).join('<br>');

      L.circleMarker([stop.lat, stop.lon], {
        radius: 6,
        color: '#4dd0e1',
        fillColor: '#4dd0e1',
        fillOpacity: 0.9,
        weight: 1
      })
      .bindPopup(`<strong>${stop.name}</strong><br>${timesHtml || 'No scheduled times'}`)
      .addTo(map);
    });

    // Bus markers fetch
    let busMarkers = {};
    async function fetchAndDisplay() {
      const res = await fetch(`https://developer.trimet.org/ws/v2/vehicles?route=${routeNumber}&appID=${apiKey}&json=true`);
      const data = await res.json();
      const buses = (data.resultSet.vehicle || []).filter(v => v.routeNumber == routeNumber && v.direction == direction);

      Object.values(busMarkers).forEach(m => map.removeLayer(m));
      busMarkers = {};
      if (!buses.length) return;

      buses.forEach(bus => {
        if (!bus.latitude || !bus.longitude || !bus.blockID) return;
        const icon = L.divIcon({    
           className: '',
	   html: `
            <div style="text-align:center;">
              <div style="background:#0071CE;color:#fff;padding:2px 6px;border-radius:6px;font-weight:bold;">${bus.vehicleID}</div>
              <div style="width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:10px solid #00bfff;margin:auto;"></div>
            </div>
          `,
          iconSize: [40, 30], iconAnchor: [20, 30]
        });
        const marker = L.marker([bus.latitude, bus.longitude], { icon }).addTo(map);
        busMarkers[bus.vehicleID] = marker;
      });
    }
    fetchAndDisplay();
    setInterval(fetchAndDisplay, 15000);
  </script>

  <footer class="site-footer">
    <a href="terms.html">Terms of Use</a> &nbsp;|&nbsp;
    <a href="contact.html">Contact Us</a> &nbsp;|&nbsp;
    <a href="report.html">Report a Problem</a> &nbsp;|&nbsp;
    <a href="privacy.html">Privacy Policy</a>
  </footer>

  <script>
    if (!localStorage.getItem('cookieConsent')) {
      document.write(`
        <div id="cookie-banner" style="position: fixed; bottom: 0; left: 0; right: 0; background: #333; color: #fff; padding: 1rem; z-index: 1000; font-size: 0.9rem; line-height: 1.4; text-align: center; box-sizing: border-box;">
          üì¢ We use cookies to improve functionality and analyze traffic.
          By using MetroFeed, you agree to our 
          <a href='privacy.html' style='color: #4dd0e1; text-decoration: underline;'>Privacy Policy</a>.<br>
          <button onclick='localStorage.setItem("cookieConsent", "true"); document.getElementById("cookie-banner").remove();' style='margin-top: 0.5rem; background: #4dd0e1; color: #000; border: none; padding: 0.5rem 1rem; border-radius: 5px; cursor: pointer; font-weight: bold;'>OK</button>
        </div>
      `);
    }
  </script>
</body>
</html>