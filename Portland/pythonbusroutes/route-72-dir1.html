<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Route 72 - To Clackamas Town Center | MetroFeed Portland</title>
  <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
  <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
  <style>
    html, body {
      margin: 0;
      padding: 0;
      font-family: 'Segoe UI', sans-serif;
      background-color: #0d0d0d;
      color: #cccccc;
      overflow-y: auto;
    }

    body {
      padding-top: 100px;
    }

    .ad-banner {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      background: #222;
      padding: 0.5rem 0;
      z-index: 1000;
      box-shadow: 0 2px 8px rgba(0,0,0,0.5);
      text-align: center;
    }

    .ad-banner img {
  width: 100%;
  max-width: 970px;
  height: auto;
  max-height: 120px; /* üëà Caps desktop height */
  display: block;
  margin: 0 auto;
}
    .home-button {
      position: fixed;
      top: 120px;
      left: 10px;
      background-color: #4dd0e1;
      color: #0d0d0d;
      padding: 0.5rem 1rem;
      font-weight: bold;
      border-radius: 8px;
      text-decoration: none;
      z-index: 1001;
      box-shadow: 0 0 10px #4dd0e1;
    }

    .home-button:hover {
      background-color: #00bcd4;
      color: #ffffff;
    }

    header {
      background-color: #0d0d0d;
      border-top: 4px solid #4dd0e1;
      border-bottom: 3px solid #4dd0e1;
      padding: 1rem;
      text-align: center;
    }

    header img {
      max-height: 60px;
    }

    h1 {
      text-align: center;
      margin: 1rem 0;
      font-size: 2rem;
      color: #f0f0f0;
    }

    .content-box {
      border-radius: 12px;
      padding: 0;
      margin: 0;
      background-color: #1e1e1e;
    }

    #map {
      width: 100%;
      height: 85vh;
      border: none;
      margin: 0 auto;
      display: block;
      border-radius: 8px;
    }

    .button-bar {
      display: flex;
      justify-content: center;
      margin: 1rem 0;
    }

    .button-bar a, .back-button {
      background: #4dd0e1;
      color: #0d0d0d;
      padding: 0.6rem 1.2rem;
      text-decoration: none;
      border-radius: 8px;
      font-weight: bold;
      border: none;
      cursor: pointer;
      box-shadow: 0 0 10px #4dd0e1;
    }

    .back-button:hover {
      background-color: #35c0d6;
    }

    .site-footer {
      text-align: center;
      margin-top: 3rem;
      margin-bottom: 120px;
      font-size: 0.85rem;
      color: #aaa;
    }

    .site-footer a {
      color: #00BFFF;
      text-decoration: none;
    }

    .site-footer a:hover {
      text-decoration: underline;
    }

@media (max-width: 600px) {
  .ad-banner {
    padding-top: 1rem;
    padding-bottom: 1rem;
  }
}


  </style>
</head>

<body>
 


 <header>
    <img src="MetroFeedPortlandLogo.png" alt="MetroFeed Portland">
  </header>

  <div class="disclaimer" style="margin: 1rem auto 0.5rem; max-width: 600px; font-size: 0.8rem; color: #bbb; text-align: center; padding: 0.5rem 1rem; background-color: #111; border: 1px dashed #444; border-radius: 6px;">
    ‚ö†Ô∏è This is a Beta program, work in progress. Please REPORT bugs and pretend to be impressed.
  </div>
  <div class="disclaimer" style="margin: 0 auto 1rem; max-width: 600px; font-size: 0.75rem; color: #888; text-align: center; padding: 0.25rem 1rem;">
    This tool is not affiliated with or endorsed by TriMet. For official schedules and service alerts, visit <a href="https://trimet.org" style="color:#4dd0e1;">trimet.org</a>.
  </div>

  <div style="margin: 2rem 0; text-align: center;">
    <button class="back-button" onclick="history.back()">Back</button>
  </div>

  <h1>Route 72 - To Clackamas Town Center</h1>

  <div class="content-box">
    <div id="map"></div>
    <div style="text-align:right; font-size: 0.7rem; color: #777; margin-top: 0.5rem;">
      Data courtesy of TriMet.
    </div>
  </div>

  <script>
    if (document.referrer === "" && performance.navigation.type === 0) {
      window.location.href = "/index.html";
    }

    const apiKey = "2C4447D4A42083BCD84DE3B8E";
    const routeNumber = 72;
    const direction = parseInt(1);

    // Initialize map
    const map = L.map('map', {
      center: [45.6, -122.7],
      zoom: 12,
      minZoom: 12,
      maxZoom: 18,
      maxBounds: [[45.3, -123.1], [45.9, -122.3]],
      maxBoundsViscosity: 1.0
    });
    L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', { maxZoom: 19 }).addTo(map);

    // Injected shape & stop data
    const shapeOutbound = [
  [45.556711, -122.703833],
  [45.556661, -122.703807],
  [45.556604, -122.703756],
  [45.556531, -122.703673],
  [45.556496, -122.7032],
  [45.556517, -122.702963],
  [45.556462, -122.702154],
  [45.556432, -122.701708],
  [45.556356, -122.700745],
  [45.556325, -122.700427],
  [45.556299, -122.700228],
  [45.556267, -122.699981],
  [45.556312, -122.699797],
  [45.556253, -122.699406],
  [45.556183, -122.698898],
  [45.556134, -122.698473],
  [45.556129, -122.698433],
  [45.556108, -122.698241],
  [45.556083, -122.698004],
  [45.556059, -122.697752],
  [45.55604, -122.697529],
  [45.556023, -122.69727],
  [45.556009, -122.69698],
  [45.556002, -122.696854],
  [45.55599, -122.696271],
  [45.555993, -122.694901],
  [45.55599, -122.693647],
  [45.555987, -122.691431],
  [45.555708, -122.691433],
  [45.555636, -122.691434],
  [45.555583, -122.691442],
  [45.555536, -122.691462],
  [45.555488, -122.691496],
  [45.555439, -122.691545],
  [45.555404, -122.691593],
  [45.555376, -122.691647],
  [45.55536, -122.691693],
  [45.555315, -122.691848],
  [45.555292, -122.691927],
  [45.555278, -122.69198],
  [45.555225, -122.692363],
  [45.555336, -122.692414],
  [45.555537, -122.69253],
  [45.555571, -122.69255],
  [45.555778, -122.692679],
  [45.556161, -122.69293],
  [45.556265, -122.692998],
  [45.556414, -122.693095],
  [45.556485, -122.693133],
  [45.556551, -122.69316],
  [45.556649, -122.693191],
  [45.556675, -122.6932],
  [45.556752, -122.693218],
  [45.557034, -122.693274],
  [45.557564, -122.693373],
  [45.557805, -122.693416],
  [45.558068, -122.693459],
  [45.558344, -122.693496],
  [45.558427, -122.693518],
  [45.55861, -122.693594],
  [45.558699, -122.693637],
  [45.558795, -122.693695],
  [45.558884, -122.693764],
  [45.559046, -122.693909],
  [45.559121, -122.693983],
  [45.559259, -122.694111],
  [45.559376, -122.694197],
  [45.559472, -122.694261],
  [45.559531, -122.694297],
  [45.559768, -122.694426],
  [45.559797, -122.694441],
  [45.560184, -122.69463],
  [45.560255, -122.694663],
  [45.560441, -122.69475],
  [45.560514, -122.694779],
  [45.560552, -122.694794],
  [45.560673, -122.694842],
  [45.56087, -122.694936],
  [45.561257, -122.695121],
  [45.561379, -122.695174],
  [45.561527, -122.695244],
  [45.561638, -122.695302],
  [45.561704, -122.695342],
  [45.562033, -122.695567],
  [45.562098, -122.695602],
  [45.562142, -122.695616],
  [45.562192, -122.695623],
  [45.562666, -122.695623],
  [45.562735, -122.695622],
  [45.562736, -122.695508],
  [45.562737, -122.695027],
  [45.562738, -122.694611],
  [45.562742, -122.693597],
  [45.562745, -122.692704],
  [45.562746, -122.692673],
  [45.562745, -122.692575],
  [45.562735, -122.691474],
  [45.562726, -122.690435],
  [45.562725, -122.690252],
  [45.562724, -122.690132],
  [45.562723, -122.690002],
  [45.562717, -122.689292],
  [45.562712, -122.68867],
  [45.562703, -122.68768],
  [45.562703, -122.687673],
  [45.562702, -122.687471],
  [45.562701, -122.68736],
  [45.562691, -122.686472],
  [45.56268, -122.685022],
  [45.562679, -122.68492],
  [45.562677, -122.684823],
  [45.562675, -122.684738],
  [45.562656, -122.682557],
  [45.562656, -122.682477],
  [45.562661, -122.682353],
  [45.562662, -122.682266],
  [45.562663, -122.682211],
  [45.562665, -122.682125],
  [45.562667, -122.681987],
  [45.562666, -122.681682],
  [45.562666, -122.68168],
  [45.562663, -122.681227],
  [45.56266, -122.681066],
  [45.562659, -122.680956],
  [45.562662, -122.680206],
  [45.562661, -122.680049],
  [45.562666, -122.67919],
  [45.562666, -122.679051],
  [45.562667, -122.678925],
  [45.562669, -122.678291],
  [45.562669, -122.67818],
  [45.56267, -122.678017],
  [45.562671, -122.677598],
  [45.562673, -122.677148],
  [45.562673, -122.676995],
  [45.562675, -122.676689],
  [45.562678, -122.675983],
  [45.56268, -122.675127],
  [45.562681, -122.674972],
  [45.562685, -122.673958],
  [45.562691, -122.673147],
  [45.562693, -122.672947],
  [45.562694, -122.672858],
  [45.562694, -122.671816],
  [45.562696, -122.671357],
  [45.562697, -122.671273],
  [45.562697, -122.671137],
  [45.562699, -122.67074],
  [45.5627, -122.670594],
  [45.562702, -122.67021],
  [45.562702, -122.670052],
  [45.562704, -122.669665],
  [45.562703, -122.668943],
  [45.562703, -122.668849],
  [45.562704, -122.66873],
  [45.562704, -122.668613],
  [45.562705, -122.667997],
  [45.562713, -122.667467],
  [45.562716, -122.667022],
  [45.562717, -122.666927],
  [45.562718, -122.666826],
  [45.562719, -122.66639],
  [45.562721, -122.665854],
  [45.562724, -122.665315],
  [45.562726, -122.664778],
  [45.56273, -122.664243],
  [45.562733, -122.66371],
  [45.562734, -122.663227],
  [45.562735, -122.663168],
  [45.562734, -122.662633],
  [45.562732, -122.662418],
  [45.562739, -122.662224],
  [45.562744, -122.66209],
  [45.562746, -122.662004],
  [45.562746, -122.661579],
  [45.562747, -122.661503],
  [45.562653, -122.661503],
  [45.562344, -122.66151],
  [45.562241, -122.661511],
  [45.561704, -122.66152],
  [45.561618, -122.661455],
  [45.561163, -122.661465],
  [45.561025, -122.661468],
  [45.560629, -122.661476],
  [45.560565, -122.661477],
  [45.56049, -122.66148],
  [45.560422, -122.661541],
  [45.560283, -122.661546],
  [45.560088, -122.661551],
  [45.559451, -122.661562],
  [45.5592, -122.661567],
  [45.559123, -122.661569],
  [45.559123, -122.661436],
  [45.559122, -122.661063],
  [45.559122, -122.66103],
  [45.55912, -122.660474],
  [45.559117, -122.65962],
  [45.559117, -122.659495],
  [45.559115, -122.658951],
  [45.559114, -122.658733],
  [45.559114, -122.658606],
  [45.559114, -122.658519],
  [45.559114, -122.65844],
  [45.55911, -122.657543],
  [45.559108, -122.656669],
  [45.559107, -122.656567],
  [45.559103, -122.655592],
  [45.559103, -122.655395],
  [45.559101, -122.654736],
  [45.559101, -122.65462],
  [45.559099, -122.654129],
  [45.559098, -122.653642],
  [45.559094, -122.652744],
  [45.559094, -122.652668],
  [45.55909, -122.65169],
  [45.559093, -122.650795],
  [45.559093, -122.650701],
  [45.55909, -122.649877],
  [45.55909, -122.64981],
  [45.55909, -122.649711],
  [45.559091, -122.649643],
  [45.559089, -122.64933],
  [45.559087, -122.648834],
  [45.559088, -122.64875],
  [45.559084, -122.647773],
  [45.55908, -122.646899],
  [45.55908, -122.646887],
  [45.55908, -122.646801],
  [45.559077, -122.645824],
  [45.559073, -122.644848],
  [45.55907, -122.643984],
  [45.559069, -122.643873],
  [45.55907, -122.643796],
  [45.559069, -122.643557],
  [45.559067, -122.642894],
  [45.559063, -122.641919],
  [45.559059, -122.641042],
  [45.559059, -122.640943],
  [45.559057, -122.640437],
  [45.559056, -122.639928],
  [45.559055, -122.639846],
  [45.559054, -122.639424],
  [45.559052, -122.638996],
  [45.559052, -122.638911],
  [45.55905, -122.638418],
  [45.559049, -122.637995],
  [45.559048, -122.637896],
  [45.559049, -122.63781],
  [45.559046, -122.637401],
  [45.559044, -122.636961],
  [45.559043, -122.636884],
  [45.559042, -122.636803],
  [45.559041, -122.636374],
  [45.55904, -122.635956],
  [45.55904, -122.63588],
  [45.559037, -122.635386],
  [45.559037, -122.63496],
  [45.559036, -122.634952],
  [45.559035, -122.634874],
  [45.559104, -122.634891],
  [45.560287, -122.634893],
  [45.561416, -122.634888],
  [45.561496, -122.634887],
  [45.562623, -122.634897],
  [45.562631, -122.634897],
  [45.562644, -122.6349],
  [45.562706, -122.634927],
  [45.562707, -122.634819],
  [45.562707, -122.634389],
  [45.562708, -122.633855],
  [45.562707, -122.633321],
  [45.562711, -122.632792],
  [45.562711, -122.632268],
  [45.56271, -122.631734],
  [45.562712, -122.631199],
  [45.562715, -122.630666],
  [45.562717, -122.630335],
  [45.562721, -122.629654],
  [45.562729, -122.628786],
  [45.56273, -122.628635],
  [45.562741, -122.627621],
  [45.562748, -122.626743],
  [45.562749, -122.626607],
  [45.562757, -122.625528],
  [45.562768, -122.624476],
  [45.562775, -122.623568],
  [45.562776, -122.623461],
  [45.562786, -122.622445],
  [45.562795, -122.62143],
  [45.5628, -122.620899],
  [45.562803, -122.620508],
  [45.562805, -122.620412],
  [45.562806, -122.62032],
  [45.562804, -122.619953],
  [45.562803, -122.619871],
  [45.562803, -122.619822],
  [45.562799, -122.619199],
  [45.562797, -122.618959],
  [45.562797, -122.618914],
  [45.562794, -122.618451],
  [45.562793, -122.618177],
  [45.562789, -122.617544],
  [45.562786, -122.616935],
  [45.562783, -122.61614],
  [45.562782, -122.615929],
  [45.562782, -122.615883],
  [45.562778, -122.615072],
  [45.562777, -122.614898],
  [45.562777, -122.61485],
  [45.562773, -122.614206],
  [45.562769, -122.613405],
  [45.562768, -122.613174],
  [45.562761, -122.611969],
  [45.562758, -122.611426],
  [45.562752, -122.610153],
  [45.562751, -122.609781],
  [45.56275, -122.609531],
  [45.562749, -122.609346],
  [45.562749, -122.609223],
  [45.562749, -122.609114],
  [45.562749, -122.60893],
  [45.562749, -122.608508],
  [45.562748, -122.607476],
  [45.562748, -122.606887],
  [45.562749, -122.606089],
  [45.562749, -122.605705],
  [45.562749, -122.604893],
  [45.562749, -122.604391],
  [45.562749, -122.60431],
  [45.562749, -122.604142],
  [45.562749, -122.603067],
  [45.562748, -122.601996],
  [45.562748, -122.601406],
  [45.562748, -122.601356],
  [45.562748, -122.600962],
  [45.562748, -122.600929],
  [45.562749, -122.600838],
  [45.56275, -122.600717],
  [45.562749, -122.600303],
  [45.562746, -122.599275],
  [45.562741, -122.598095],
  [45.562739, -122.597697],
  [45.562738, -122.597399],
  [45.562737, -122.59721],
  [45.562737, -122.597149],
  [45.562734, -122.596451],
  [45.562733, -122.596239],
  [45.562733, -122.596133],
  [45.562732, -122.595936],
  [45.56272, -122.595067],
  [45.562717, -122.594771],
  [45.562712, -122.594338],
  [45.562712, -122.594187],
  [45.562712, -122.594034],
  [45.562711, -122.5938],
  [45.56271, -122.593717],
  [45.56271, -122.59364],
  [45.562708, -122.59328],
  [45.562704, -122.592783],
  [45.562702, -122.592329],
  [45.562699, -122.591954],
  [45.562696, -122.591519],
  [45.562698, -122.591333],
  [45.562707, -122.591262],
  [45.562722, -122.591201],
  [45.562744, -122.591144],
  [45.562795, -122.591048],
  [45.562898, -122.590904],
  [45.562872, -122.590787],
  [45.562808, -122.590471],
  [45.562802, -122.590432],
  [45.562783, -122.590318],
  [45.562757, -122.590128],
  [45.562731, -122.5899],
  [45.562707, -122.589659],
  [45.562687, -122.589352],
  [45.56268, -122.589242],
  [45.562669, -122.58899],
  [45.562666, -122.58888],
  [45.562664, -122.588781],
  [45.562658, -122.588405],
  [45.562657, -122.588344],
  [45.562655, -122.588124],
  [45.562655, -122.587957],
  [45.562655, -122.587742],
  [45.562657, -122.587343],
  [45.562657, -122.586601],
  [45.562658, -122.58587],
  [45.562659, -122.585472],
  [45.562659, -122.585196],
  [45.562658, -122.584386],
  [45.562659, -122.584304],
  [45.562659, -122.583649],
  [45.56266, -122.582867],
  [45.562661, -122.582713],
  [45.562661, -122.582398],
  [45.562663, -122.581164],
  [45.562664, -122.580045],
  [45.562665, -122.579764],
  [45.562665, -122.579639],
  [45.56261, -122.57952],
  [45.562593, -122.579483],
  [45.562564, -122.579421],
  [45.562562, -122.57934],
  [45.56256, -122.57883],
  [45.562558, -122.578767],
  [45.562554, -122.578731],
  [45.562546, -122.578706],
  [45.562521, -122.578675],
  [45.562504, -122.57866],
  [45.562408, -122.578597],
  [45.562336, -122.578575],
  [45.562229, -122.578502],
  [45.561949, -122.578505],
  [45.561452, -122.578511],
  [45.561242, -122.578513],
  [45.560256, -122.578525],
  [45.560019, -122.57853],
  [45.559873, -122.578534],
  [45.559869, -122.578534],
  [45.559191, -122.57855],
  [45.558594, -122.578557],
  [45.558299, -122.578564],
  [45.558122, -122.578569],
  [45.557939, -122.578573],
  [45.557347, -122.578583],
  [45.556682, -122.578592],
  [45.555769, -122.578611],
  [45.555501, -122.578616],
  [45.555425, -122.578617],
  [45.555351, -122.578617],
  [45.555118, -122.578621],
  [45.554933, -122.578624],
  [45.553794, -122.578646],
  [45.553751, -122.578647],
  [45.553279, -122.578656],
  [45.552888, -122.578663],
  [45.55278, -122.578665],
  [45.552699, -122.578667],
  [45.552433, -122.578672],
  [45.552325, -122.578674],
  [45.552066, -122.578683],
  [45.551193, -122.578713],
  [45.551008, -122.578715],
  [45.550644, -122.57872],
  [45.550189, -122.578726],
  [45.549732, -122.578739],
  [45.549576, -122.578743],
  [45.548881, -122.578752],
  [45.548863, -122.578752],
  [45.548713, -122.578752],
  [45.548537, -122.578751],
  [45.548467, -122.57875],
  [45.548347, -122.578749],
  [45.548218, -122.578749],
  [45.548149, -122.578751],
  [45.548073, -122.578752],
  [45.547811, -122.578758],
  [45.547539, -122.578765],
  [45.546738, -122.578777],
  [45.546423, -122.578782],
  [45.54634, -122.578783],
  [45.545722, -122.5788],
  [45.545479, -122.578807],
  [45.544843, -122.578817],
  [45.544691, -122.578819],
  [45.544588, -122.578821],
  [45.544516, -122.578821],
  [45.544454, -122.578822],
  [45.544171, -122.578829],
  [45.543499, -122.578846],
  [45.542558, -122.57886],
  [45.542291, -122.578865],
  [45.54131, -122.578885],
  [45.541205, -122.578887],
  [45.541096, -122.57889],
  [45.540872, -122.578894],
  [45.540096, -122.578906],
  [45.539414, -122.578921],
  [45.539157, -122.578925],
  [45.539086, -122.578927],
  [45.538838, -122.578935],
  [45.538725, -122.578939],
  [45.538425, -122.578944],
  [45.538033, -122.57895],
  [45.537562, -122.578955],
  [45.537398, -122.578959],
  [45.537229, -122.578962],
  [45.537168, -122.578964],
  [45.536908, -122.578964],
  [45.53637, -122.578983],
  [45.535874, -122.578992],
  [45.53568, -122.578996],
  [45.535004, -122.579008],
  [45.534303, -122.579028],
  [45.534033, -122.579036],
  [45.533972, -122.579039],
  [45.533821, -122.579101],
  [45.533493, -122.579099],
  [45.533219, -122.579098],
  [45.533027, -122.579098],
  [45.532963, -122.579036],
  [45.532846, -122.579036],
  [45.532764, -122.579036],
  [45.532501, -122.579036],
  [45.532414, -122.579034],
  [45.532343, -122.579032],
  [45.532143, -122.579032],
  [45.531779, -122.579041],
  [45.531713, -122.579041],
  [45.5316, -122.579041],
  [45.530994, -122.57904],
  [45.530957, -122.579039],
  [45.530187, -122.579044],
  [45.529475, -122.579045],
  [45.529034, -122.579048],
  [45.528385, -122.579052],
  [45.527999, -122.579055],
  [45.526968, -122.579053],
  [45.526742, -122.579056],
  [45.526551, -122.579058],
  [45.526515, -122.579058],
  [45.52642, -122.579056],
  [45.526332, -122.579054],
  [45.526102, -122.579056],
  [45.525448, -122.579059],
  [45.525176, -122.579061],
  [45.524727, -122.57906],
  [45.524656, -122.57906],
  [45.524589, -122.57906],
  [45.524526, -122.579061],
  [45.523564, -122.57906],
  [45.523098, -122.579065],
  [45.522921, -122.579068],
  [45.522853, -122.579068],
  [45.522782, -122.579067],
  [45.522476, -122.579066],
  [45.522211, -122.579065],
  [45.52163, -122.579068],
  [45.521107, -122.57907],
  [45.52088, -122.579071],
  [45.520452, -122.579071],
  [45.519809, -122.579071],
  [45.519294, -122.579072],
  [45.519215, -122.579072],
  [45.519135, -122.579069],
  [45.519055, -122.579066],
  [45.51883, -122.579056],
  [45.518474, -122.579039],
  [45.518393, -122.579034],
  [45.517793, -122.578998],
  [45.517656, -122.57899],
  [45.51692, -122.578953],
  [45.516484, -122.578932],
  [45.516245, -122.578919],
  [45.516176, -122.578913],
  [45.516103, -122.578908],
  [45.515938, -122.578902],
  [45.515867, -122.578899],
  [45.515489, -122.578873],
  [45.51482, -122.57884],
  [45.51417, -122.578802],
  [45.513671, -122.578777],
  [45.513511, -122.578769],
  [45.512854, -122.578731],
  [45.512629, -122.578721],
  [45.512452, -122.57871],
  [45.512228, -122.578696],
  [45.511964, -122.578683],
  [45.511525, -122.578679],
  [45.511301, -122.578682],
  [45.510825, -122.578679],
  [45.510424, -122.578681],
  [45.510188, -122.578683],
  [45.510092, -122.578682],
  [45.509988, -122.57868],
  [45.509807, -122.578677],
  [45.509791, -122.578677],
  [45.509736, -122.578677],
  [45.509517, -122.578678],
  [45.509417, -122.578679],
  [45.50913, -122.578681],
  [45.50886, -122.578683],
  [45.508554, -122.578685],
  [45.508344, -122.578686],
  [45.508075, -122.578686],
  [45.507599, -122.578685],
  [45.507494, -122.578685],
  [45.507167, -122.578685],
  [45.506846, -122.578685],
  [45.506563, -122.578685],
  [45.506299, -122.578684],
  [45.506237, -122.578684],
  [45.506171, -122.578745],
  [45.505714, -122.578745],
  [45.505648, -122.578684],
  [45.505316, -122.578687],
  [45.505219, -122.578688],
  [45.505095, -122.578689],
  [45.504977, -122.57869],
  [45.504832, -122.578687],
  [45.504693, -122.578683],
  [45.504489, -122.578691],
  [45.504399, -122.578695],
  [45.504046, -122.578693],
  [45.50395, -122.578693],
  [45.503648, -122.578692],
  [45.50343, -122.57869],
  [45.503166, -122.578692],
  [45.502882, -122.578695],
  [45.502543, -122.578698],
  [45.502188, -122.578701],
  [45.502142, -122.578701],
  [45.501734, -122.578702],
  [45.501492, -122.578705],
  [45.501424, -122.578705],
  [45.501357, -122.578704],
  [45.501174, -122.578705],
  [45.501084, -122.578706],
  [45.500943, -122.578707],
  [45.500509, -122.578709],
  [45.500394, -122.57871],
  [45.500181, -122.57871],
  [45.5001, -122.578711],
  [45.500035, -122.578711],
  [45.4994, -122.578713],
  [45.499181, -122.578714],
  [45.498944, -122.578715],
  [45.498817, -122.578714],
  [45.498711, -122.578716],
  [45.498554, -122.578717],
  [45.498302, -122.578719],
  [45.498248, -122.57872],
  [45.498112, -122.578721],
  [45.49788, -122.578724],
  [45.497859, -122.578724],
  [45.497678, -122.578726],
  [45.497529, -122.578727],
  [45.497406, -122.578725],
  [45.497255, -122.578723],
  [45.49711, -122.578724],
  [45.496929, -122.578725],
  [45.496869, -122.578725],
  [45.496505, -122.578735],
  [45.496186, -122.578743],
  [45.495892, -122.578745],
  [45.4955, -122.578749],
  [45.495198, -122.578753],
  [45.494812, -122.578757],
  [45.494512, -122.578761],
  [45.494121, -122.578765],
  [45.493921, -122.57877],
  [45.493778, -122.578838],
  [45.493681, -122.578841],
  [45.493603, -122.578776],
  [45.493542, -122.578776],
  [45.493442, -122.578776],
  [45.492756, -122.578786],
  [45.492583, -122.578788],
  [45.492173, -122.578793],
  [45.492165, -122.578793],
  [45.492081, -122.578794],
  [45.491657, -122.578801],
  [45.49154, -122.578802],
  [45.491413, -122.578804],
  [45.491076, -122.578808],
  [45.490958, -122.578808],
  [45.490651, -122.578814],
  [45.490622, -122.578814],
  [45.490473, -122.578813],
  [45.490368, -122.578812],
  [45.490261, -122.578806],
  [45.490176, -122.578801],
  [45.489878, -122.578809],
  [45.489794, -122.578811],
  [45.489517, -122.578818],
  [45.489368, -122.578822],
  [45.489191, -122.578825],
  [45.489018, -122.578827],
  [45.488659, -122.578833],
  [45.488509, -122.578835],
  [45.488447, -122.578836],
  [45.48808, -122.57885],
  [45.487961, -122.578854],
  [45.487575, -122.578864],
  [45.487396, -122.578868],
  [45.487051, -122.578877],
  [45.486929, -122.57888],
  [45.486678, -122.578885],
  [45.486576, -122.578887],
  [45.486404, -122.57889],
  [45.486043, -122.578897],
  [45.485912, -122.578899],
  [45.4858, -122.578902],
  [45.485518, -122.578905],
  [45.485218, -122.578909],
  [45.485089, -122.578908],
  [45.484916, -122.578909],
  [45.484872, -122.57891],
  [45.484098, -122.578929],
  [45.483792, -122.578934],
  [45.48362, -122.578938],
  [45.48354, -122.578939],
  [45.483471, -122.578942],
  [45.4834, -122.578944],
  [45.48338, -122.578944],
  [45.483326, -122.578946],
  [45.483069, -122.578953],
  [45.482927, -122.578957],
  [45.48281, -122.578956],
  [45.482696, -122.578955],
  [45.48265, -122.578956],
  [45.482366, -122.578962],
  [45.482154, -122.578966],
  [45.481863, -122.578972],
  [45.481683, -122.578976],
  [45.481058, -122.578985],
  [45.480999, -122.578986],
  [45.480638, -122.578993],
  [45.480165, -122.579001],
  [45.479801, -122.579009],
  [45.479627, -122.579013],
  [45.479548, -122.579015],
  [45.479467, -122.579015],
  [45.479396, -122.579015],
  [45.479144, -122.579021],
  [45.47894, -122.579025],
  [45.478242, -122.579037],
  [45.477838, -122.579046],
  [45.477658, -122.57905],
  [45.476763, -122.579067],
  [45.476209, -122.579078],
  [45.475936, -122.579083],
  [45.475864, -122.579081],
  [45.475796, -122.579078],
  [45.475623, -122.579079],
  [45.475541, -122.57908],
  [45.475171, -122.579081],
  [45.474483, -122.579079],
  [45.474071, -122.579074],
  [45.473874, -122.579074],
  [45.473726, -122.579074],
  [45.473522, -122.579074],
  [45.472426, -122.579069],
  [45.472267, -122.579069],
  [45.472043, -122.579068],
  [45.471191, -122.579061],
  [45.471085, -122.57906],
  [45.471005, -122.57906],
  [45.47048, -122.579059],
  [45.470075, -122.579059],
  [45.470028, -122.579059],
  [45.469539, -122.579057],
  [45.469359, -122.579056],
  [45.469186, -122.579056],
  [45.46914, -122.579056],
  [45.46887, -122.579054],
  [45.468752, -122.579054],
  [45.46867, -122.579053],
  [45.468595, -122.579051],
  [45.46828, -122.579052],
  [45.46816, -122.579052],
  [45.467998, -122.579052],
  [45.467777, -122.579052],
  [45.46731, -122.579051],
  [45.467021, -122.579052],
  [45.466881, -122.579052],
  [45.46653, -122.579051],
  [45.466304, -122.579051],
  [45.465817, -122.579051],
  [45.465412, -122.579051],
  [45.465102, -122.57905],
  [45.464858, -122.579051],
  [45.464675, -122.579051],
  [45.464623, -122.579111],
  [45.464487, -122.579114],
  [45.464314, -122.579113],
  [45.464263, -122.579052],
  [45.464209, -122.579052],
  [45.464133, -122.579052],
  [45.46349, -122.579052],
  [45.463365, -122.579049],
  [45.463302, -122.579048],
  [45.462415, -122.57905],
  [45.461662, -122.579052],
  [45.461516, -122.579052],
  [45.461163, -122.579056],
  [45.460819, -122.579058],
  [45.460198, -122.579068],
  [45.460082, -122.57907],
  [45.459763, -122.579071],
  [45.459454, -122.579076],
  [45.45926, -122.579079],
  [45.459008, -122.579084],
  [45.45892, -122.579084],
  [45.458806, -122.579085],
  [45.458559, -122.579088],
  [45.458501, -122.579089],
  [45.458159, -122.579095],
  [45.457601, -122.579105],
  [45.457558, -122.579105],
  [45.457109, -122.57911],
  [45.456955, -122.579107],
  [45.456804, -122.579103],
  [45.456465, -122.579111],
  [45.456408, -122.579112],
  [45.456184, -122.579116],
  [45.456044, -122.579119],
  [45.45585, -122.579123],
  [45.455432, -122.579131],
  [45.455256, -122.579138],
  [45.455057, -122.579141],
  [45.454658, -122.579143],
  [45.454395, -122.579144],
  [45.45436, -122.579144],
  [45.454263, -122.579141],
  [45.454177, -122.579139],
  [45.45408, -122.579138],
  [45.453912, -122.579136],
  [45.453856, -122.579136],
  [45.453582, -122.579131],
  [45.453359, -122.579126],
  [45.453158, -122.579121],
  [45.453023, -122.579117],
  [45.452819, -122.579112],
  [45.452775, -122.57911],
  [45.452637, -122.579107],
  [45.452519, -122.579105],
  [45.452128, -122.579095],
  [45.451783, -122.579086],
  [45.451741, -122.579084],
  [45.451465, -122.579074],
  [45.451358, -122.57907],
  [45.451063, -122.579062],
  [45.450951, -122.579061],
  [45.45092, -122.579059],
  [45.450827, -122.579055],
  [45.450676, -122.579052],
  [45.450469, -122.579046],
  [45.450398, -122.579045],
  [45.449759, -122.579027],
  [45.449425, -122.579018],
  [45.449059, -122.579007],
  [45.448617, -122.578993],
  [45.448488, -122.578986],
  [45.448118, -122.578965],
  [45.44784, -122.57895],
  [45.447503, -122.578931],
  [45.447399, -122.578928],
  [45.447375, -122.578927],
  [45.447124, -122.578909],
  [45.447028, -122.578904],
  [45.446912, -122.578897],
  [45.446588, -122.578896],
  [45.446495, -122.578896],
  [45.446311, -122.578896],
  [45.446049, -122.57891],
  [45.445924, -122.578916],
  [45.44563, -122.578921],
  [45.445523, -122.578922],
  [45.445221, -122.578925],
  [45.445098, -122.578926],
  [45.444861, -122.578924],
  [45.444649, -122.578922],
  [45.444533, -122.57892],
  [45.444401, -122.578917],
  [45.44422, -122.578918],
  [45.444168, -122.578919],
  [45.444013, -122.578919],
  [45.443899, -122.57892],
  [45.443581, -122.578922],
  [45.442938, -122.578927],
  [45.44225, -122.578928],
  [45.441956, -122.578928],
  [45.441553, -122.578929],
  [45.441274, -122.578929],
  [45.440762, -122.578928],
  [45.440617, -122.578928],
  [45.440371, -122.57893],
  [45.439838, -122.578933],
  [45.439556, -122.578944],
  [45.439355, -122.578955],
  [45.43911, -122.578966],
  [45.438996, -122.578971],
  [45.438936, -122.578974],
  [45.438278, -122.579004],
  [45.438279, -122.577925],
  [45.43828, -122.577252],
  [45.438279, -122.576351],
  [45.438279, -122.575771],
  [45.438279, -122.575642],
  [45.438135, -122.575645],
  [45.437361, -122.575662],
  [45.437263, -122.575656],
  [45.437261, -122.575546],
  [45.437255, -122.575444],
  [45.437262, -122.575233],
  [45.437277, -122.575122],
  [45.43731, -122.575012],
  [45.437375, -122.574795],
  [45.437398, -122.574718],
  [45.437412, -122.574635],
  [45.437415, -122.574575],
  [45.437416, -122.574539],
  [45.437414, -122.574347],
  [45.437414, -122.574259],
  [45.437402, -122.57331],
  [45.4374, -122.57317],
  [45.437398, -122.572993],
  [45.437386, -122.572789],
  [45.437284, -122.572368],
  [45.437243, -122.572174],
  [45.437236, -122.572096],
  [45.437225, -122.571976],
  [45.437224, -122.571863],
  [45.437222, -122.571679],
  [45.437221, -122.571651],
  [45.437216, -122.571433],
  [45.437212, -122.571197],
  [45.437206, -122.570998],
  [45.437202, -122.570785],
  [45.437198, -122.570562],
  [45.437193, -122.570335],
  [45.437189, -122.570119],
  [45.437184, -122.569903],
  [45.43718, -122.569685],
  [45.437176, -122.569469],
  [45.437175, -122.569407],
  [45.437162, -122.569347],
  [45.437139, -122.569296],
  [45.437114, -122.569251],
  [45.437081, -122.569233],
  [45.437007, -122.569226],
  [45.43683, -122.569231],
  [45.436637, -122.569217],
  [45.436537, -122.569201],
  [45.436415, -122.569182],
  [45.436264, -122.569157],
  [45.436107, -122.569129],
  [45.43607, -122.569123],
  [45.43595, -122.569104],
  [45.435618, -122.569051],
  [45.435528, -122.569036],
  [45.435508, -122.568883],
  [45.435533, -122.568653],
  [45.435564, -122.568572],
  [45.435568, -122.568479],
  [45.435599, -122.568167],
  [45.435602, -122.568142],
  [45.435613, -122.568101],
  [45.435626, -122.56807],
  [45.43567, -122.568073],
  [45.435735, -122.568086],
  [45.435757, -122.56809],
  [45.43581, -122.568136],
  [45.436148, -122.5682],
  [45.436575, -122.568281],
  [45.436566, -122.56838],
  [45.436554, -122.568507],
  [45.436532, -122.568749],
  [45.436108, -122.568667],
  [45.435763, -122.568601],
  [45.435689, -122.56859],
  [45.435678, -122.568589]
];

const stopNames = {
  "46": "NE Alberta &amp; M L King",
  "48": "NE Alberta &amp; 11th",
  "50": "NE Alberta &amp; 13th",
  "52": "NE Alberta &amp; 15th",
  "54": "NE Alberta &amp; 18th",
  "60": "NE Alberta &amp; 24th",
  "63": "NE Alberta &amp; 27th",
  "69": "NE Alberta &amp; 9th",
  "115": "N Anchor &amp; Channel",
  "1041": "N Channel Ave &amp; Anchor",
  "2195": "N Greeley &amp; Going Overpass",
  "2226": "N Greeley &amp; Sumner",
  "3144": "4500 Block NE Killingsworth",
  "3146": "NE Killingsworth &amp; 60th",
  "3148": "NE Killingsworth &amp; 64th",
  "3153": "N Killingsworth &amp; Albina",
  "3156": "N Killingsworth &amp; Commercial",
  "3158": "N Killingsworth &amp; Concord",
  "3160": "N Killingsworth &amp; Delaware",
  "3162": "N Killingsworth &amp; Denver",
  "3165": "NE Killingsworth &amp; Garfield",
  "3169": "N Killingsworth &amp; Interstate",
  "3171": "N Killingsworth &amp; Kerby",
  "3173": "N Killingsworth &amp; Michigan",
  "3179": "N Killingsworth &amp; Gay Ave",
  "3183": "N Killingsworth &amp; Vancouver",
  "3185": "8100 Block NE Lombard",
  "3186": "7600 Block NE Lombard",
  "3191": "NE Killingsworth &amp; 33rd",
  "3193": "NE Killingsworth &amp; 35th",
  "3195": "NE Killingsworth &amp; 36th",
  "3198": "NE Killingsworth &amp; Cesar Chavez Blvd",
  "3199": "NE Killingsworth &amp; 42nd",
  "3204": "NE Killingsworth &amp; 52nd",
  "3211": "NE Lombard &amp; 72nd",
  "5927": "NE M L King &amp; Killingsworth",
  "7327": "NE 30th &amp; Emerson",
  "7329": "NE 30th &amp; Killingsworth",
  "7921": "SE 82nd &amp; Monroe/Boyer",
  "7923": "2200 Block SE 82nd",
  "7929": "SE 82nd &amp; Alder",
  "7931": "SE 82nd &amp; Ash",
  "7932": "NE 82nd &amp; Pacific",
  "7934": "NE 82nd &amp; Beech",
  "7937": "NE 82nd &amp; E Burnside",
  "7942": "SE 82nd &amp; Causey",
  "7945": "SE 82nd &amp; Clatsop",
  "7948": "SE 82nd &amp; Clinton",
  "7950": "SE 82nd &amp; Cooper",
  "7954": "SE 82nd &amp; Crystal Springs",
  "7956": "NE 82nd &amp; Davis",
  "7958": "SE 82nd &amp; Division",
  "7961": "SE 82nd &amp; Duke",
  "7963": "SE 82nd &amp; Flavel",
  "7965": "SE 82nd &amp; Insley",
  "7966": "NE 82nd &amp; Fremont",
  "7973": "NE 82nd &amp; Glisan",
  "7978": "NE 82nd &amp; Hassalo",
  "7980": "SE 82nd &amp; Hawthorne",
  "7986": "SE 82nd &amp; Holgate",
  "7988": "SE 82nd &amp; Johnson Creek",
  "7990": "SE 82nd &amp; King",
  "7992": "NE 82nd &amp; Klickitat",
  "7994": "SE 82nd &amp; Lambert",
  "7996": "SE 82nd &amp; Lindy",
  "8000": "NE 82nd &amp; 82nd Ave MAX Stn/I-84",
  "8002": "NE 82nd &amp; McDaniel HS",
  "8004": "SE 82nd &amp; Main",
  "8008": "SE 82nd &amp; Mill",
  "8009": "SE 82nd &amp; Mitchell",
  "8013": "SE 82nd &amp; Ogden",
  "8016": "SE 82nd &amp; Otty",
  "8018": "SE 82nd &amp; Overland",
  "8024": "SE 82nd &amp; Powell",
  "8025": "NE 82nd &amp; Prescott",
  "8028": "SE 82nd &amp; Ramona",
  "8030": "SE 82nd &amp; Raymond",
  "8035": "NE 82nd &amp; Thompson",
  "8038": "NE 82nd &amp; Sandy",
  "8041": "SE 82nd &amp; Schiller",
  "8043": "NE 82nd &amp; Schuyler",
  "8045": "NE 82nd &amp; Siskiyou",
  "8048": "SE 82nd &amp; Stark",
  "8053": "SE 82nd &amp; Tibbetts",
  "8056": "NE 82nd &amp; Tillamook",
  "8058": "SE 82nd &amp; Tolman",
  "8060": "SE 82nd &amp; Woodstock",
  "8062": "SE 82nd &amp; Woodward",
  "8064": "NE 82nd &amp; Wygant",
  "8066": "SE 82nd &amp; Yamhill",
  "8237": "SE 82nd &amp; Boise",
  "8889": "NE 82nd &amp; Webster",
  "9399": "N Going &amp; Port Center Way",
  "9403": "N Killingsworth &amp; Greeley",
  "10600": "NE Killingsworth &amp; Cully",
  "11471": "NE Alberta &amp; 21st",
  "11478": "NE Alberta &amp; 7th",
  "11722": "NE Alberta &amp; 30th",
  "12921": "Clackamas Town Center Mall",
  "13247": "Clackamas Town Center TC",
  "13248": "Clackamas Town Center Transit Center",
  "13707": "SE 82nd &amp; Center",
  "14181": "NE Killingsworth &amp; 57th"
};

const stops = [
  { stop_id: "115", name: "N Anchor &amp; Channel", lat: 45.5567, lon: -122.703878, times: ["7:26 AM", "7:39 AM", "7:50 AM", "8:11 AM", "8:34 AM", "8:58 AM", "9:11 AM", "9:23 AM"] },
  { stop_id: "9399", name: "N Going &amp; Port Center Way", lat: 45.55596, lon: -122.698512, times: ["7:18 AM", "7:26 AM", "7:28 AM", "7:39 AM", "7:50 AM", "8:01 AM", "8:11 AM", "8:22 AM"] },
  { stop_id: "2195", name: "N Greeley &amp; Going Overpass", lat: 45.555604, lon: -122.692295, times: ["7:19 AM", "7:27 AM", "7:29 AM", "7:40 AM", "7:51 AM", "8:02 AM", "8:13 AM", "8:24 AM"] },
  { stop_id: "2226", name: "N Greeley &amp; Sumner", lat: 45.560559, lon: -122.694632, times: ["7:10 AM", "7:20 AM", "7:28 AM", "7:30 AM", "7:41 AM", "7:52 AM", "8:03 AM", "8:14 AM"] },
  { stop_id: "9403", name: "N Killingsworth &amp; Greeley", lat: 45.562679, lon: -122.695027, times: ["7:11 AM", "7:21 AM", "7:29 AM", "7:31 AM", "7:42 AM", "7:53 AM", "8:04 AM", "8:14 AM"] },
  { stop_id: "3160", name: "N Killingsworth &amp; Delaware", lat: 45.56269, lon: -122.692703, times: ["7:11 AM", "7:21 AM", "7:29 AM", "7:31 AM", "7:42 AM", "7:53 AM", "8:04 AM", "8:14 AM"] },
  { stop_id: "3179", name: "N Killingsworth &amp; Gay Ave", lat: 45.562677, lon: -122.690132, times: ["7:11 AM", "7:21 AM", "7:29 AM", "7:31 AM", "7:42 AM", "7:53 AM", "8:04 AM", "8:15 AM"] },
  { stop_id: "3162", name: "N Killingsworth &amp; Denver", lat: 45.562625, lon: -122.687675, times: ["7:11 AM", "7:21 AM", "7:30 AM", "7:32 AM", "7:43 AM", "7:54 AM", "8:05 AM", "8:15 AM"] },
  { stop_id: "3158", name: "N Killingsworth &amp; Concord", lat: 45.562639, lon: -122.685023, times: ["7:12 AM", "7:22 AM", "7:30 AM", "7:32 AM", "7:43 AM", "7:54 AM", "8:05 AM", "8:15 AM"] },
  { stop_id: "3169", name: "N Killingsworth &amp; Interstate", lat: 45.562589, lon: -122.68168, times: ["7:12 AM", "7:22 AM", "7:31 AM", "7:33 AM", "7:44 AM", "7:55 AM", "8:06 AM", "8:16 AM"] },
  { stop_id: "3173", name: "N Killingsworth &amp; Michigan", lat: 45.562631, lon: -122.677149, times: ["7:14 AM", "7:24 AM", "7:32 AM", "7:34 AM", "7:45 AM", "7:56 AM", "8:07 AM", "8:18 AM"] },
  { stop_id: "3153", name: "N Killingsworth &amp; Albina", lat: 45.562641, lon: -122.675126, times: ["7:14 AM", "7:24 AM", "7:33 AM", "7:35 AM", "7:46 AM", "7:57 AM", "8:08 AM", "8:18 AM"] },
  { stop_id: "3171", name: "N Killingsworth &amp; Kerby", lat: 45.562649, lon: -122.673146, times: ["7:14 AM", "7:24 AM", "7:33 AM", "7:35 AM", "7:46 AM", "7:57 AM", "8:08 AM", "8:19 AM"] },
  { stop_id: "3156", name: "N Killingsworth &amp; Commercial", lat: 45.562652, lon: -122.671357, times: ["7:15 AM", "7:25 AM", "7:34 AM", "7:36 AM", "7:47 AM", "7:58 AM", "8:09 AM", "8:19 AM"] },
  { stop_id: "3183", name: "N Killingsworth &amp; Vancouver", lat: 45.562649, lon: -122.668943, times: ["7:15 AM", "7:25 AM", "7:34 AM", "7:36 AM", "7:47 AM", "7:58 AM", "8:09 AM", "8:20 AM"] },
  { stop_id: "3165", name: "NE Killingsworth &amp; Garfield", lat: 45.562682, lon: -122.663221, times: ["7:17 AM", "7:27 AM", "7:36 AM", "7:38 AM", "7:49 AM", "8:00 AM", "8:11 AM", "8:21 AM"] },
  { stop_id: "5927", name: "NE M L King &amp; Killingsworth", lat: 45.562342, lon: -122.661571, times: ["7:17 AM", "7:27 AM", "7:36 AM", "7:38 AM", "7:49 AM", "8:00 AM", "8:11 AM", "8:22 AM"] },
  { stop_id: "46", name: "NE Alberta &amp; M L King", lat: 45.559061, lon: -122.661064, times: ["7:19 AM", "7:29 AM", "7:38 AM", "7:40 AM", "7:51 AM", "8:02 AM", "8:13 AM", "8:24 AM"] },
  { stop_id: "11478", name: "NE Alberta &amp; 7th", lat: 45.559053, lon: -122.658734, times: ["7:10 AM", "7:19 AM", "7:29 AM", "7:38 AM", "7:40 AM", "7:51 AM", "8:02 AM", "8:13 AM"] },
  { stop_id: "69", name: "NE Alberta &amp; 9th", lat: 45.559067, lon: -122.65667, times: ["7:11 AM", "7:20 AM", "7:30 AM", "7:39 AM", "7:41 AM", "7:52 AM", "8:03 AM", "8:14 AM"] },
  { stop_id: "48", name: "NE Alberta &amp; 11th", lat: 45.559046, lon: -122.654736, times: ["7:11 AM", "7:20 AM", "7:30 AM", "7:39 AM", "7:41 AM", "7:52 AM", "8:03 AM", "8:14 AM"] },
  { stop_id: "50", name: "NE Alberta &amp; 13th", lat: 45.559046, lon: -122.652745, times: ["7:11 AM", "7:21 AM", "7:31 AM", "7:40 AM", "7:42 AM", "7:53 AM", "8:04 AM", "8:15 AM"] },
  { stop_id: "52", name: "NE Alberta &amp; 15th", lat: 45.559032, lon: -122.649877, times: ["7:12 AM", "7:21 AM", "7:31 AM", "7:40 AM", "7:42 AM", "7:53 AM", "8:04 AM", "8:15 AM"] },
  { stop_id: "54", name: "NE Alberta &amp; 18th", lat: 45.559041, lon: -122.646899, times: ["7:13 AM", "7:22 AM", "7:32 AM", "7:41 AM", "7:43 AM", "7:54 AM", "8:05 AM", "8:16 AM"] },
  { stop_id: "11471", name: "NE Alberta &amp; 21st", lat: 45.559029, lon: -122.643983, times: ["7:13 AM", "7:23 AM", "7:33 AM", "7:42 AM", "7:44 AM", "7:55 AM", "8:06 AM", "8:17 AM"] },
  { stop_id: "60", name: "NE Alberta &amp; 24th", lat: 45.559009, lon: -122.641042, times: ["7:14 AM", "7:23 AM", "7:34 AM", "7:43 AM", "7:45 AM", "7:56 AM", "8:07 AM", "8:18 AM"] },
  { stop_id: "63", name: "NE Alberta &amp; 27th", lat: 45.559, lon: -122.637997, times: ["7:15 AM", "7:24 AM", "7:34 AM", "7:43 AM", "7:45 AM", "7:56 AM", "8:07 AM", "8:18 AM"] },
  { stop_id: "11722", name: "NE Alberta &amp; 30th", lat: 45.558992, lon: -122.634961, times: ["7:15 AM", "7:25 AM", "7:35 AM", "7:44 AM", "7:46 AM", "7:57 AM", "8:08 AM", "8:19 AM"] },
  { stop_id: "7327", name: "NE 30th &amp; Emerson", lat: 45.561415, lon: -122.634799, times: ["7:16 AM", "7:26 AM", "7:36 AM", "7:45 AM", "7:47 AM", "7:58 AM", "8:09 AM", "8:20 AM"] },
  { stop_id: "7329", name: "NE 30th &amp; Killingsworth", lat: 45.562623, lon: -122.63478, times: ["7:17 AM", "7:26 AM", "7:37 AM", "7:46 AM", "7:48 AM", "7:59 AM", "8:10 AM", "8:21 AM"] },
  { stop_id: "3191", name: "NE Killingsworth &amp; 33rd", lat: 45.562659, lon: -122.630332, times: ["7:18 AM", "7:27 AM", "7:38 AM", "7:47 AM", "7:49 AM", "8:00 AM", "8:11 AM", "8:22 AM"] },
  { stop_id: "3193", name: "NE Killingsworth &amp; 35th", lat: 45.56267, lon: -122.628785, times: ["7:18 AM", "7:28 AM", "7:38 AM", "7:47 AM", "7:49 AM", "8:00 AM", "8:11 AM", "8:22 AM"] },
  { stop_id: "3195", name: "NE Killingsworth &amp; 36th", lat: 45.562694, lon: -122.626742, times: ["7:18 AM", "7:28 AM", "7:39 AM", "7:48 AM", "7:50 AM", "8:01 AM", "8:12 AM", "8:23 AM"] },
  { stop_id: "3198", name: "NE Killingsworth &amp; Cesar Chavez Blvd", lat: 45.562704, lon: -122.623566, times: ["7:19 AM", "7:29 AM", "7:39 AM", "7:48 AM", "7:50 AM", "8:01 AM", "8:12 AM", "8:23 AM"] },
  { stop_id: "3199", name: "NE Killingsworth &amp; 42nd", lat: 45.562695, lon: -122.619955, times: ["7:20 AM", "7:29 AM", "7:40 AM", "7:49 AM", "7:51 AM", "8:02 AM", "8:13 AM", "8:24 AM"] },
  { stop_id: "3144", name: "4500 Block NE Killingsworth", lat: 45.562697, lon: -122.615883, times: ["7:20 AM", "7:30 AM", "7:41 AM", "7:50 AM", "7:52 AM", "8:03 AM", "8:14 AM", "8:25 AM"] },
  { stop_id: "3204", name: "NE Killingsworth &amp; 52nd", lat: 45.562655, lon: -122.609223, times: ["7:11 AM", "7:22 AM", "7:31 AM", "7:42 AM", "7:51 AM", "7:53 AM", "8:04 AM", "8:15 AM"] },
  { stop_id: "14181", name: "NE Killingsworth &amp; 57th", lat: 45.562675, lon: -122.604139, times: ["7:12 AM", "7:23 AM", "7:32 AM", "7:43 AM", "7:52 AM", "7:54 AM", "8:05 AM", "8:16 AM"] },
  { stop_id: "3146", name: "NE Killingsworth &amp; 60th", lat: 45.562679, lon: -122.600962, times: ["7:12 AM", "7:23 AM", "7:33 AM", "7:44 AM", "7:53 AM", "7:55 AM", "8:06 AM", "8:17 AM"] },
  { stop_id: "3148", name: "NE Killingsworth &amp; 64th", lat: 45.562627, lon: -122.597212, times: ["7:13 AM", "7:24 AM", "7:34 AM", "7:45 AM", "7:54 AM", "7:56 AM", "8:07 AM", "8:18 AM"] },
  { stop_id: "10600", name: "NE Killingsworth &amp; Cully", lat: 45.562623, lon: -122.593718, times: ["7:14 AM", "7:25 AM", "7:35 AM", "7:46 AM", "7:55 AM", "7:57 AM", "8:08 AM", "8:19 AM"] },
  { stop_id: "3211", name: "NE Lombard &amp; 72nd", lat: 45.562544, lon: -122.588126, times: ["7:15 AM", "7:26 AM", "7:36 AM", "7:47 AM", "7:56 AM", "7:58 AM", "8:09 AM", "8:20 AM"] },
  { stop_id: "3186", name: "7600 Block NE Lombard", lat: 45.562544, lon: -122.582865, times: ["7:16 AM", "7:27 AM", "7:37 AM", "7:48 AM", "7:57 AM", "7:59 AM", "8:10 AM", "8:21 AM"] },
  { stop_id: "3185", name: "8100 Block NE Lombard", lat: 45.562526, lon: -122.579599, times: ["7:17 AM", "7:28 AM", "7:38 AM", "7:49 AM", "7:58 AM", "8:00 AM", "8:11 AM", "8:22 AM"] },
  { stop_id: "8889", name: "NE 82nd &amp; Webster", lat: 45.559872, lon: -122.578651, times: ["7:18 AM", "7:29 AM", "7:39 AM", "7:50 AM", "7:59 AM", "8:01 AM", "8:12 AM", "8:23 AM"] },
  { stop_id: "8064", name: "NE 82nd &amp; Wygant", lat: 45.558297, lon: -122.5787, times: ["7:18 AM", "7:29 AM", "7:39 AM", "7:50 AM", "7:59 AM", "8:01 AM", "8:12 AM", "8:23 AM"] },
  { stop_id: "8025", name: "NE 82nd &amp; Prescott", lat: 45.554935, lon: -122.57874, times: ["7:19 AM", "7:30 AM", "7:40 AM", "7:51 AM", "8:00 AM", "8:02 AM", "8:13 AM", "8:24 AM"] },
  { stop_id: "8038", name: "NE 82nd &amp; Sandy", lat: 45.5527, lon: -122.578802, times: ["7:20 AM", "7:31 AM", "7:41 AM", "7:52 AM", "8:01 AM", "8:03 AM", "8:14 AM", "8:25 AM"] },
  { stop_id: "7934", name: "NE 82nd &amp; Beech", lat: 45.549734, lon: -122.578822, times: ["7:21 AM", "7:32 AM", "7:42 AM", "7:53 AM", "8:02 AM", "8:04 AM", "8:15 AM", "8:26 AM"] },
  { stop_id: "7966", name: "NE 82nd &amp; Fremont", lat: 45.548346, lon: -122.578862, times: ["7:10 AM", "7:21 AM", "7:32 AM", "7:43 AM", "7:54 AM", "8:03 AM", "8:05 AM", "8:16 AM"] },
  { stop_id: "7992", name: "NE 82nd &amp; Klickitat", lat: 45.546423, lon: -122.578893, times: ["7:11 AM", "7:22 AM", "7:33 AM", "7:43 AM", "7:54 AM", "8:03 AM", "8:05 AM", "8:16 AM"] },
  { stop_id: "8045", name: "NE 82nd &amp; Siskiyou", lat: 45.544692, lon: -122.578927, times: ["7:11 AM", "7:22 AM", "7:33 AM", "7:44 AM", "7:55 AM", "8:04 AM", "8:06 AM", "8:17 AM"] },
  { stop_id: "8002", name: "NE 82nd &amp; McDaniel HS", lat: 45.542292, lon: -122.578983, times: ["7:12 AM", "7:23 AM", "7:34 AM", "7:45 AM", "7:56 AM", "8:05 AM", "8:07 AM", "8:18 AM"] },
  { stop_id: "8035", name: "NE 82nd &amp; Thompson", lat: 45.538837, lon: -122.579043, times: ["7:13 AM", "7:24 AM", "7:35 AM", "7:46 AM", "7:57 AM", "8:06 AM", "8:08 AM", "8:19 AM"] },
  { stop_id: "8056", name: "NE 82nd &amp; Tillamook", lat: 45.537402, lon: -122.579075, times: ["7:13 AM", "7:24 AM", "7:35 AM", "7:46 AM", "7:57 AM", "8:06 AM", "8:08 AM", "8:19 AM"] },
  { stop_id: "8043", name: "NE 82nd &amp; Schuyler", lat: 45.535875, lon: -122.579104, times: ["7:14 AM", "7:25 AM", "7:36 AM", "7:47 AM", "7:58 AM", "8:07 AM", "8:09 AM", "8:20 AM"] },
  { stop_id: "8000", name: "NE 82nd &amp; 82nd Ave MAX Stn/I-84", lat: 45.533493, lon: -122.579191, times: ["7:15 AM", "7:26 AM", "7:37 AM", "7:48 AM", "7:59 AM", "8:08 AM", "8:10 AM", "8:21 AM"] },
  { stop_id: "7978", name: "NE 82nd &amp; Hassalo", lat: 45.530994, lon: -122.579151, times: ["7:17 AM", "7:28 AM", "7:39 AM", "7:50 AM", "8:01 AM", "8:10 AM", "8:12 AM", "8:23 AM"] },
  { stop_id: "7932", name: "NE 82nd &amp; Pacific", lat: 45.529031, lon: -122.579166, times: ["7:18 AM", "7:29 AM", "7:40 AM", "7:51 AM", "8:02 AM", "8:11 AM", "8:13 AM", "8:24 AM"] },
  { stop_id: "7973", name: "NE 82nd &amp; Glisan", lat: 45.526553, lon: -122.579163, times: ["7:18 AM", "7:29 AM", "7:40 AM", "7:51 AM", "8:03 AM", "8:12 AM", "8:14 AM", "8:25 AM"] },
  { stop_id: "7956", name: "NE 82nd &amp; Davis", lat: 45.524726, lon: -122.579179, times: ["7:19 AM", "7:30 AM", "7:41 AM", "7:52 AM", "8:03 AM", "8:12 AM", "8:14 AM", "8:25 AM"] },
  { stop_id: "7937", name: "NE 82nd &amp; E Burnside", lat: 45.522921, lon: -122.579201, times: ["7:19 AM", "7:30 AM", "7:41 AM", "7:52 AM", "8:04 AM", "8:13 AM", "8:15 AM", "8:26 AM"] },
  { stop_id: "7931", name: "SE 82nd &amp; Ash", lat: 45.520882, lon: -122.579181, times: ["7:20 AM", "7:31 AM", "7:42 AM", "7:53 AM", "8:04 AM", "8:13 AM", "8:15 AM", "8:26 AM"] },
  { stop_id: "8048", name: "SE 82nd &amp; Stark", lat: 45.519294, lon: -122.579218, times: ["7:20 AM", "7:31 AM", "7:42 AM", "7:53 AM", "8:05 AM", "8:14 AM", "8:16 AM", "8:27 AM"] },
  { stop_id: "7929", name: "SE 82nd &amp; Alder", lat: 45.517791, lon: -122.579115, times: ["7:21 AM", "7:32 AM", "7:43 AM", "7:54 AM", "8:05 AM", "8:14 AM", "8:16 AM", "8:27 AM"] },
  { stop_id: "8066", name: "SE 82nd &amp; Yamhill", lat: 45.515936, lon: -122.579003, times: ["7:10 AM", "7:21 AM", "7:32 AM", "7:43 AM", "7:54 AM", "8:06 AM", "8:15 AM", "8:17 AM"] },
  { stop_id: "8004", name: "SE 82nd &amp; Main", lat: 45.513668, lon: -122.578883, times: ["7:11 AM", "7:22 AM", "7:33 AM", "7:44 AM", "7:55 AM", "8:06 AM", "8:15 AM", "8:17 AM"] },
  { stop_id: "7980", name: "SE 82nd &amp; Hawthorne", lat: 45.512449, lon: -122.578827, times: ["7:11 AM", "7:22 AM", "7:33 AM", "7:44 AM", "7:55 AM", "8:07 AM", "8:16 AM", "8:18 AM"] },
  { stop_id: "8008", name: "SE 82nd &amp; Mill", lat: 45.509802, lon: -122.578803, times: ["7:12 AM", "7:23 AM", "7:34 AM", "7:45 AM", "7:56 AM", "8:08 AM", "8:17 AM", "8:19 AM"] },
  { stop_id: "7923", name: "2200 Block SE 82nd", lat: 45.507164, lon: -122.578794, times: ["7:12 AM", "7:23 AM", "7:34 AM", "7:45 AM", "7:56 AM", "8:08 AM", "8:17 AM", "8:19 AM"] },
  { stop_id: "7958", name: "SE 82nd &amp; Division", lat: 45.505097, lon: -122.578798, times: ["7:13 AM", "7:24 AM", "7:35 AM", "7:46 AM", "7:57 AM", "8:09 AM", "8:18 AM", "8:20 AM"] },
  { stop_id: "7948", name: "SE 82nd &amp; Clinton", lat: 45.503168, lon: -122.578805, times: ["7:14 AM", "7:25 AM", "7:36 AM", "7:47 AM", "7:58 AM", "8:10 AM", "8:19 AM", "8:21 AM"] },
  { stop_id: "8062", name: "SE 82nd &amp; Woodward", lat: 45.501175, lon: -122.578823, times: ["7:14 AM", "7:25 AM", "7:36 AM", "7:47 AM", "7:58 AM", "8:10 AM", "8:19 AM", "8:21 AM"] },
  { stop_id: "8053", name: "SE 82nd &amp; Tibbetts", lat: 45.500181, lon: -122.578833, times: ["7:15 AM", "7:26 AM", "7:37 AM", "7:48 AM", "7:59 AM", "8:11 AM", "8:20 AM", "8:22 AM"] },
  { stop_id: "8024", name: "SE 82nd &amp; Powell", lat: 45.49711, lon: -122.578876, times: ["7:17 AM", "7:28 AM", "7:39 AM", "7:50 AM", "8:01 AM", "8:13 AM", "8:22 AM", "8:24 AM"] },
  { stop_id: "13707", name: "SE 82nd &amp; Center", lat: 45.493542, lon: -122.578886, times: ["7:18 AM", "7:29 AM", "7:40 AM", "7:51 AM", "8:02 AM", "8:14 AM", "8:23 AM", "8:25 AM"] },
  { stop_id: "8237", name: "SE 82nd &amp; Boise", lat: 45.492162, lon: -122.578912, times: ["7:18 AM", "7:29 AM", "7:40 AM", "7:51 AM", "8:02 AM", "8:14 AM", "8:23 AM", "8:25 AM"] },
  { stop_id: "7986", name: "SE 82nd &amp; Holgate", lat: 45.49048, lon: -122.578969, times: ["7:19 AM", "7:30 AM", "7:41 AM", "7:52 AM", "8:03 AM", "8:15 AM", "8:24 AM", "8:26 AM"] },
  { stop_id: "8041", name: "SE 82nd &amp; Schiller", lat: 45.488081, lon: -122.578956, times: ["7:19 AM", "7:30 AM", "7:41 AM", "7:52 AM", "8:03 AM", "8:15 AM", "8:24 AM", "8:26 AM"] },
  { stop_id: "8030", name: "SE 82nd &amp; Raymond", lat: 45.486675, lon: -122.579004, times: ["7:20 AM", "7:31 AM", "7:42 AM", "7:53 AM", "8:04 AM", "8:16 AM", "8:25 AM", "8:27 AM"] },
  { stop_id: "8009", name: "SE 82nd &amp; Mitchell", lat: 45.484917, lon: -122.579076, times: ["7:20 AM", "7:31 AM", "7:42 AM", "7:53 AM", "8:04 AM", "8:16 AM", "8:25 AM", "8:27 AM"] },
  { stop_id: "7965", name: "SE 82nd &amp; Insley", lat: 45.483619, lon: -122.579097, times: ["7:20 AM", "7:31 AM", "7:43 AM", "7:54 AM", "8:05 AM", "8:17 AM", "8:26 AM", "8:28 AM"] },
  { stop_id: "8028", name: "SE 82nd &amp; Ramona", lat: 45.481064, lon: -122.579099, times: ["7:10 AM", "7:21 AM", "7:32 AM", "7:44 AM", "7:55 AM", "8:06 AM", "8:18 AM", "8:27 AM"] },
  { stop_id: "8060", name: "SE 82nd &amp; Woodstock", lat: 45.479631, lon: -122.57914, times: ["7:11 AM", "7:22 AM", "7:33 AM", "7:44 AM", "7:55 AM", "8:06 AM", "8:18 AM", "8:27 AM"] },
  { stop_id: "8058", name: "SE 82nd &amp; Tolman", lat: 45.477842, lon: -122.579168, times: ["7:11 AM", "7:22 AM", "7:33 AM", "7:45 AM", "7:56 AM", "8:07 AM", "8:19 AM", "8:28 AM"] },
  { stop_id: "7961", name: "SE 82nd &amp; Duke", lat: 45.475624, lon: -122.579251, times: ["7:12 AM", "7:23 AM", "7:34 AM", "7:45 AM", "7:56 AM", "8:07 AM", "8:19 AM", "8:28 AM"] },
  { stop_id: "7950", name: "SE 82nd &amp; Cooper", lat: 45.473722, lon: -122.579189, times: ["7:12 AM", "7:23 AM", "7:34 AM", "7:46 AM", "7:57 AM", "8:08 AM", "8:20 AM", "8:29 AM"] },
  { stop_id: "8013", name: "SE 82nd &amp; Ogden", lat: 45.471084, lon: -122.579173, times: ["7:13 AM", "7:24 AM", "7:35 AM", "7:47 AM", "7:58 AM", "8:09 AM", "8:21 AM", "8:30 AM"] },
  { stop_id: "7963", name: "SE 82nd &amp; Flavel", lat: 45.468871, lon: -122.579164, times: ["7:14 AM", "7:25 AM", "7:36 AM", "7:48 AM", "7:59 AM", "8:10 AM", "8:22 AM", "8:31 AM"] },
  { stop_id: "7994", name: "SE 82nd &amp; Lambert", lat: 45.467018, lon: -122.579172, times: ["7:14 AM", "7:25 AM", "7:36 AM", "7:48 AM", "7:59 AM", "8:10 AM", "8:22 AM", "8:31 AM"] },
  { stop_id: "7954", name: "SE 82nd &amp; Crystal Springs", lat: 45.464209, lon: -122.579179, times: ["7:15 AM", "7:26 AM", "7:37 AM", "7:49 AM", "8:00 AM", "8:11 AM", "8:23 AM", "8:32 AM"] },
  { stop_id: "7945", name: "SE 82nd &amp; Clatsop", lat: 45.46167, lon: -122.579198, times: ["7:15 AM", "7:26 AM", "7:37 AM", "7:49 AM", "8:00 AM", "8:11 AM", "8:23 AM", "8:33 AM"] },
  { stop_id: "7996", name: "SE 82nd &amp; Lindy", lat: 45.458502, lon: -122.579206, times: ["7:16 AM", "7:27 AM", "7:38 AM", "7:50 AM", "8:01 AM", "8:12 AM", "8:24 AM", "8:33 AM"] },
  { stop_id: "7988", name: "SE 82nd &amp; Johnson Creek", lat: 45.456406, lon: -122.579269, times: ["7:17 AM", "7:28 AM", "7:39 AM", "7:51 AM", "8:02 AM", "8:13 AM", "8:25 AM", "8:34 AM"] },
  { stop_id: "8018", name: "SE 82nd &amp; Overland", lat: 45.454411, lon: -122.579293, times: ["7:17 AM", "7:28 AM", "7:39 AM", "7:51 AM", "8:02 AM", "8:13 AM", "8:25 AM", "8:35 AM"] },
  { stop_id: "8016", name: "SE 82nd &amp; Otty", lat: 45.450917, lon: -122.579209, times: ["7:18 AM", "7:29 AM", "7:40 AM", "7:52 AM", "8:03 AM", "8:14 AM", "8:26 AM", "8:36 AM"] },
  { stop_id: "7990", name: "SE 82nd &amp; King", lat: 45.446585, lon: -122.579071, times: ["7:19 AM", "7:30 AM", "7:41 AM", "7:53 AM", "8:04 AM", "8:15 AM", "8:27 AM", "8:37 AM"] },
  { stop_id: "7921", name: "SE 82nd &amp; Monroe/Boyer", lat: 45.444217, lon: -122.579068, times: ["7:20 AM", "7:31 AM", "7:42 AM", "7:54 AM", "8:05 AM", "8:16 AM", "8:28 AM", "8:37 AM"] },
  { stop_id: "7942", name: "SE 82nd &amp; Causey", lat: 45.441549, lon: -122.579109, times: ["7:20 AM", "7:31 AM", "7:42 AM", "7:54 AM", "8:05 AM", "8:16 AM", "8:28 AM", "8:38 AM"] },
  { stop_id: "12921", name: "Clackamas Town Center Mall", lat: 45.43731, lon: -122.573312, times: ["7:23 AM", "7:34 AM", "7:45 AM", "7:57 AM", "8:08 AM", "8:19 AM", "8:31 AM", "8:41 AM"] },
  { stop_id: "13247", name: "Clackamas Town Center TC", lat: 45.435538, lon: -122.568155, times: ["7:11 AM", "7:25 AM", "7:36 AM", "7:47 AM", "7:59 AM", "8:10 AM", "8:21 AM", "8:33 AM"] },
  { stop_id: "13248", name: "Clackamas Town Center Transit Center", lat: 45.435666, lon: -122.568707, times: ["7:13 AM", "7:27 AM", "7:38 AM", "7:49 AM", "8:01 AM", "8:12 AM", "8:23 AM", "8:35 AM"] },
  { stop_id: "1041", name: "N Channel Ave &amp; Anchor", lat: 45.556624, lon: -122.70396, times: ["7:18 AM", "7:28 AM", "8:01 AM", "8:22 AM", "8:46 AM", "11:05 AM", "3:21 PM", "6:00 PM"] },
]

    // Draw route polyline
    const polylineOut = L.polyline(shapeOutbound, { color: 'blue', weight: 4, opacity: 0.7 }).addTo(map);
    map.fitBounds(polylineOut.getBounds());

    // 1. Get current time in PT
    const nowPT = new Date(new Date().toLocaleString('en-US', { timeZone: 'America/Los_Angeles' }));
    const datePT = nowPT.toDateString();

    // 2. Add stops with highlighted next time
    stops.forEach(stop => {
      const stamps = stop.times.map(t => new Date(`${datePT} ${t}`));
      const nextIdx = stamps.findIndex(ts => ts > nowPT);
      const timesHtml = stamps.slice(0, 8).map((ts, i) => {
        const lbl = ts.toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' });
        return i === nextIdx ? `<strong>${lbl}</strong>` : lbl;
      }).join('<br>');

      L.circleMarker([stop.lat, stop.lon], {
        radius: 6,
        color: '#4dd0e1',
        fillColor: '#4dd0e1',
        fillOpacity: 0.9,
        weight: 1
      })
      .bindPopup(`<strong>${stop.name}</strong><br>${timesHtml || 'No scheduled times'}`)
      .addTo(map);
    });

    // Bus markers fetch
    let busMarkers = {};
    async function fetchAndDisplay() {
      const res = await fetch(`https://developer.trimet.org/ws/v2/vehicles?route=${routeNumber}&appID=${apiKey}&json=true`);
      const data = await res.json();
      const buses = (data.resultSet.vehicle || []).filter(v => v.routeNumber == routeNumber && v.direction == direction);

      Object.values(busMarkers).forEach(m => map.removeLayer(m));
      busMarkers = {};
      if (!buses.length) return;

      buses.forEach(bus => {
        if (!bus.latitude || !bus.longitude || !bus.blockID) return;
        const icon = L.divIcon({    
           className: '',
	   html: `
            <div style="text-align:center;">
              <div style="background:#0071CE;color:#fff;padding:2px 6px;border-radius:6px;font-weight:bold;">${bus.vehicleID}</div>
              <div style="width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:10px solid #00bfff;margin:auto;"></div>
            </div>
          `,
          iconSize: [40, 30], iconAnchor: [20, 30]
        });
        const marker = L.marker([bus.latitude, bus.longitude], { icon }).addTo(map);
        busMarkers[bus.vehicleID] = marker;
      });
    }
    fetchAndDisplay();
    setInterval(fetchAndDisplay, 15000);
  </script>

  <footer class="site-footer">
    <a href="terms.html">Terms of Use</a> &nbsp;|&nbsp;
    <a href="contact.html">Contact Us</a> &nbsp;|&nbsp;
    <a href="report.html">Report a Problem</a> &nbsp;|&nbsp;
    <a href="privacy.html">Privacy Policy</a>
  </footer>

  <script>
    if (!localStorage.getItem('cookieConsent')) {
      document.write(`
        <div id="cookie-banner" style="position: fixed; bottom: 0; left: 0; right: 0; background: #333; color: #fff; padding: 1rem; z-index: 1000; font-size: 0.9rem; line-height: 1.4; text-align: center; box-sizing: border-box;">
          üì¢ We use cookies to improve functionality and analyze traffic.
          By using MetroFeed, you agree to our 
          <a href='privacy.html' style='color: #4dd0e1; text-decoration: underline;'>Privacy Policy</a>.<br>
          <button onclick='localStorage.setItem("cookieConsent", "true"); document.getElementById("cookie-banner").remove();' style='margin-top: 0.5rem; background: #4dd0e1; color: #000; border: none; padding: 0.5rem 1rem; border-radius: 5px; cursor: pointer; font-weight: bold;'>OK</button>
        </div>
      `);
    }
  </script>
</body>
</html>