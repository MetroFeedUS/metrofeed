<!DOCTYPE html>
<html lang="en">
<head>
  

<meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Route 78 - To Lake Oswego Transit Center | MetroFeed Portland</title>
  <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
  <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
  <style>
    body {
      margin: 0;
      font-family: 'Segoe UI', sans-serif;
      background-color: #0d0d0d;
      color: #cccccc;
    }
    header {
      background-color: #0d0d0d;
      border-bottom: 3px solid #4dd0e1;
      padding: 1rem;
      text-align: center;
    }
    header img {
      max-height: 60px;
    }
    .ad-banner {
      text-align: center;
      margin: 1rem auto;
      background-color: #222;
      color: #888;
      padding: 1rem;
      border: 2px dashed #4dd0e1;
      font-size: 0.9rem;
      border-radius: 8px;
    }
    h1 {
      text-align: center;
      margin: 1rem 0;
      font-size: 2rem;
      color: #f0f0f0;
    }
    .content-box {
      border-radius: 12px;
      padding: 0;
      margin: 0;
      background-color: #1e1e1e;
    }
    #map {
      width: 100vw;
      height: 100vh;
      border: none;
      margin: 0;
    }
    .button-bar {
      display: flex;
      justify-content: center;
      margin: 1rem 0;
    }
    .button-bar a {
      background: #4dd0e1;
      color: #0d0d0d;
      padding: 0.5rem 1rem;
      text-decoration: none;
      border-radius: 8px;
      font-weight: bold;
    }

.back-button {
  background-color: #4dd0e1;
  color: #0d0d0d;
  border: none;
  padding: 0.6rem 1.2rem;
  font-size: 1rem;
  font-weight: bold;
  border-radius: 8px;
  cursor: pointer;
  box-shadow: 0 0 10px #4dd0e1;
  text-decoration: none;
}
.back-button:hover {
  background-color: #35c0d6;
}
.site-footer {
      text-align: center;
      margin-top: 3rem;
      margin-bottom: 120px;
      font-size: 0.85rem;
      color: #aaa;
    }
    .site-footer a {
      color: #00BFFF;
      text-decoration: none;
    }
    .site-footer a:hover {
      text-decoration: underline;
    }

  </style>
</head>
<body>
  <header>
    <img src="MetroFeedPortlandLogo.png" alt="MetroFeed Portland">
  </header>

  

  <div class="disclaimer" style="margin: 1rem auto 0.5rem; max-width: 600px; font-size: 0.8rem; color: #bbb; text-align: center; padding: 0.5rem 1rem; background-color: #111; border: 1px dashed #444; border-radius: 6px;">
    ⚠️ This is a Beta program, work in progress. Please REPORT bugs and pretend to be impressed.
  </div>
  <div class="disclaimer" style="margin: 0 auto 1rem; max-width: 600px; font-size: 0.75rem; color: #888; text-align: center; padding: 0.25rem 1rem;">
    This tool is not affiliated with or endorsed by TriMet. For official schedules and service alerts, visit <a href="https://trimet.org" style="color:#4dd0e1;">trimet.org</a>.
  </div>

  <div style="margin: 2rem 0; text-align: center;">
  <button class="back-button" onclick="history.back()">Back</button>
  </div>

  <h1>Route 78 - To Lake Oswego Transit Center</h1>

  <div class="content-box">
    <div id="map"></div>
    <div style="text-align:right; font-size: 0.7rem; color: #777; margin-top: 0.5rem;">
      Data courtesy of TriMet.
    </div>
  </div>

  
  <script>
  const apiKey = "2C4447D4A42083BCD84DE3B8E";
  const routeNumber = 78;
  const direction = parseInt(0);

  const map = L.map('map', {
  center: [45.6, -122.7],
  zoom: 12,
  minZoom: 12,
  maxZoom: 18,
  maxBounds: [
    [45.3, -123.1],  // Southwest corner
    [45.9, -122.3]   // Northeast corner
  ],
  maxBoundsViscosity: 1.0
});
  L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
    maxZoom: 19
  }).addTo(map);

  const shapeOutbound = [
  [45.491344, -122.801203],
  [45.491226, -122.801314],
  [45.491161, -122.801376],
  [45.491041, -122.801499],
  [45.490901, -122.801643],
  [45.490895, -122.801646],
  [45.490841, -122.801673],
  [45.490774, -122.801678],
  [45.490733, -122.801656],
  [45.490457, -122.801506],
  [45.490406, -122.801536],
  [45.490373, -122.801571],
  [45.49034, -122.801631],
  [45.490257, -122.801851],
  [45.490192, -122.801799],
  [45.49014, -122.801757],
  [45.490093, -122.801723],
  [45.49005, -122.801694],
  [45.489938, -122.801628],
  [45.489764, -122.801547],
  [45.489682, -122.801589],
  [45.489277, -122.801518],
  [45.489, -122.801453],
  [45.488846, -122.801415],
  [45.48866, -122.801372],
  [45.488526, -122.801336],
  [45.488488, -122.801322],
  [45.488393, -122.801289],
  [45.488219, -122.801218],
  [45.488104, -122.801172],
  [45.48804, -122.801059],
  [45.488017, -122.801019],
  [45.487934, -122.800937],
  [45.487763, -122.800811],
  [45.487692, -122.800757],
  [45.487376, -122.80053],
  [45.487286, -122.800462],
  [45.48722, -122.800421],
  [45.487117, -122.80038],
  [45.487032, -122.800352],
  [45.486966, -122.800337],
  [45.486912, -122.800331],
  [45.486791, -122.800331],
  [45.486614, -122.800327],
  [45.486603, -122.800327],
  [45.486508, -122.800323],
  [45.486421, -122.80037],
  [45.486202, -122.800373],
  [45.486109, -122.800371],
  [45.486042, -122.800329],
  [45.485993, -122.800329],
  [45.48581, -122.800329],
  [45.485713, -122.800329],
  [45.485587, -122.800334],
  [45.485499, -122.800336],
  [45.48529, -122.800335],
  [45.485075, -122.800335],
  [45.484478, -122.800337],
  [45.484284, -122.800337],
  [45.48394, -122.800334],
  [45.48388, -122.800335],
  [45.483603, -122.800341],
  [45.483492, -122.80034],
  [45.483477, -122.800339],
  [45.48305, -122.800336],
  [45.482928, -122.800335],
  [45.4826, -122.800337],
  [45.482019, -122.80034],
  [45.481955, -122.800339],
  [45.481728, -122.800338],
  [45.48171, -122.800338],
  [45.480803, -122.80034],
  [45.480751, -122.80034],
  [45.480474, -122.800341],
  [45.480029, -122.800341],
  [45.479692, -122.800341],
  [45.479541, -122.800342],
  [45.479217, -122.800344],
  [45.478824, -122.800346],
  [45.478566, -122.800344],
  [45.47852, -122.800344],
  [45.477882, -122.800346],
  [45.477512, -122.800346],
  [45.477122, -122.800347],
  [45.476936, -122.800346],
  [45.476723, -122.800346],
  [45.476525, -122.800345],
  [45.47641, -122.800348],
  [45.4761, -122.800347],
  [45.475902, -122.800347],
  [45.475713, -122.800346],
  [45.475519, -122.800346],
  [45.475463, -122.800346],
  [45.475141, -122.800345],
  [45.475047, -122.800344],
  [45.474777, -122.800343],
  [45.474351, -122.800341],
  [45.474331, -122.800341],
  [45.474146, -122.80034],
  [45.473447, -122.800338],
  [45.472846, -122.800335],
  [45.472759, -122.800335],
  [45.472626, -122.800335],
  [45.471474, -122.80033],
  [45.470745, -122.800329],
  [45.470159, -122.800326],
  [45.470085, -122.800326],
  [45.469248, -122.800334],
  [45.46925, -122.799877],
  [45.469251, -122.799489],
  [45.469253, -122.799346],
  [45.469257, -122.798773],
  [45.469261, -122.798419],
  [45.469268, -122.797688],
  [45.469281, -122.797153],
  [45.46929, -122.79689],
  [45.469303, -122.796531],
  [45.469311, -122.796291],
  [45.469319, -122.79597],
  [45.469321, -122.795611],
  [45.469322, -122.795257],
  [45.469321, -122.795178],
  [45.469314, -122.794729],
  [45.469313, -122.794607],
  [45.469315, -122.794323],
  [45.469317, -122.794024],
  [45.46932, -122.793715],
  [45.469325, -122.792923],
  [45.469331, -122.791853],
  [45.469333, -122.791616],
  [45.469334, -122.791555],
  [45.469335, -122.791438],
  [45.469336, -122.791263],
  [45.469336, -122.791204],
  [45.469338, -122.791015],
  [45.46934, -122.790883],
  [45.469341, -122.790528],
  [45.469342, -122.790476],
  [45.469302, -122.790388],
  [45.469303, -122.790341],
  [45.469307, -122.790222],
  [45.469345, -122.790127],
  [45.469345, -122.790099],
  [45.469346, -122.78991],
  [45.469348, -122.789449],
  [45.469353, -122.78883],
  [45.469356, -122.788586],
  [45.469359, -122.788004],
  [45.469383, -122.787109],
  [45.469382, -122.786399],
  [45.469381, -122.786238],
  [45.46938, -122.78565],
  [45.46938, -122.785407],
  [45.469378, -122.785165],
  [45.469375, -122.784746],
  [45.469374, -122.784605],
  [45.469373, -122.784357],
  [45.469372, -122.783848],
  [45.469372, -122.783743],
  [45.469365, -122.782487],
  [45.469363, -122.782202],
  [45.469362, -122.781946],
  [45.469355, -122.781237],
  [45.469349, -122.780694],
  [45.469346, -122.780257],
  [45.469345, -122.780035],
  [45.469344, -122.779888],
  [45.469339, -122.779322],
  [45.469338, -122.779096],
  [45.469336, -122.778718],
  [45.469335, -122.778373],
  [45.469337, -122.778077],
  [45.469343, -122.777758],
  [45.469356, -122.777378],
  [45.469362, -122.776983],
  [45.469365, -122.776786],
  [45.469372, -122.776224],
  [45.469371, -122.775988],
  [45.46937, -122.775981],
  [45.469356, -122.775848],
  [45.469285, -122.775885],
  [45.46897, -122.77604],
  [45.468661, -122.776192],
  [45.468354, -122.776346],
  [45.467915, -122.776566],
  [45.467637, -122.776705],
  [45.467554, -122.776744],
  [45.467485, -122.776781],
  [45.467416, -122.776815],
  [45.467024, -122.777008],
  [45.466431, -122.777308],
  [45.465866, -122.777603],
  [45.465187, -122.777964],
  [45.465015, -122.778056],
  [45.464963, -122.778079],
  [45.464548, -122.778312],
  [45.464511, -122.778326],
  [45.464489, -122.778345],
  [45.463814, -122.778721],
  [45.463488, -122.778902],
  [45.463144, -122.779076],
  [45.462988, -122.779153],
  [45.462537, -122.779383],
  [45.462399, -122.779451],
  [45.462213, -122.77954],
  [45.46208, -122.779604],
  [45.461097, -122.78013],
  [45.460805, -122.780286],
  [45.460695, -122.780345],
  [45.460551, -122.780424],
  [45.460349, -122.780532],
  [45.460115, -122.780659],
  [45.459205, -122.78115],
  [45.458728, -122.781416],
  [45.458416, -122.781585],
  [45.457994, -122.781814],
  [45.457863, -122.781885],
  [45.457737, -122.781953],
  [45.457485, -122.782088],
  [45.45728, -122.782198],
  [45.456958, -122.782371],
  [45.456833, -122.782436],
  [45.456765, -122.782283],
  [45.456608, -122.781934],
  [45.456343, -122.781347],
  [45.456245, -122.781128],
  [45.456105, -122.780817],
  [45.456046, -122.780693],
  [45.455991, -122.780587],
  [45.455935, -122.780485],
  [45.45587, -122.78038],
  [45.455794, -122.780258],
  [45.455694, -122.780351],
  [45.455641, -122.780393],
  [45.455612, -122.780412],
  [45.455581, -122.780421],
  [45.455523, -122.780429],
  [45.455241, -122.780433],
  [45.455174, -122.780477],
  [45.455117, -122.780476],
  [45.455067, -122.780476],
  [45.454989, -122.780476],
  [45.45493, -122.780422],
  [45.45443, -122.780422],
  [45.454175, -122.780419],
  [45.45406, -122.78042],
  [45.453914, -122.780433],
  [45.453367, -122.780528],
  [45.453313, -122.780552],
  [45.453221, -122.780645],
  [45.453158, -122.780569],
  [45.453082, -122.780488],
  [45.453018, -122.780406],
  [45.452978, -122.780338],
  [45.452954, -122.780286],
  [45.452942, -122.780237],
  [45.452932, -122.780172],
  [45.452929, -122.779929],
  [45.452926, -122.779837],
  [45.452904, -122.77968],
  [45.45289, -122.779519],
  [45.452887, -122.779468],
  [45.452876, -122.779268],
  [45.452865, -122.77906],
  [45.452859, -122.778892],
  [45.452855, -122.778731],
  [45.452446, -122.778727],
  [45.452257, -122.778725],
  [45.452181, -122.77871],
  [45.452141, -122.778712],
  [45.452113, -122.778733],
  [45.452095, -122.778792],
  [45.452095, -122.77884],
  [45.452111, -122.778897],
  [45.452128, -122.77893],
  [45.452164, -122.778957],
  [45.45221, -122.778961],
  [45.452256, -122.77894],
  [45.452331, -122.778897],
  [45.452398, -122.778897],
  [45.452537, -122.778895],
  [45.45279, -122.778894],
  [45.452859, -122.778892],
  [45.452855, -122.778731],
  [45.452853, -122.778642],
  [45.452852, -122.778443],
  [45.452854, -122.778231],
  [45.452857, -122.778035],
  [45.452859, -122.77784],
  [45.452861, -122.777635],
  [45.452863, -122.777437],
  [45.452868, -122.776963],
  [45.452873, -122.776415],
  [45.452995, -122.776413],
  [45.453169, -122.776409],
  [45.453458, -122.776401],
  [45.453696, -122.776397],
  [45.453703, -122.776397],
  [45.453749, -122.77639],
  [45.4538, -122.776377],
  [45.453854, -122.776349],
  [45.453968, -122.776282],
  [45.453768, -122.775659],
  [45.453737, -122.775561],
  [45.453618, -122.775209],
  [45.453559, -122.775029],
  [45.453479, -122.774783],
  [45.453327, -122.774319],
  [45.45328, -122.774167],
  [45.453221, -122.773976],
  [45.453092, -122.773593],
  [45.45307, -122.773526],
  [45.452813, -122.772763],
  [45.452773, -122.772643],
  [45.452584, -122.772092],
  [45.452461, -122.771728],
  [45.452078, -122.770596],
  [45.451959, -122.770217],
  [45.451861, -122.769904],
  [45.45167, -122.769259],
  [45.451401, -122.768363],
  [45.451242, -122.767834],
  [45.451189, -122.767654],
  [45.450976, -122.76693],
  [45.4509, -122.766708],
  [45.450815, -122.76648],
  [45.450661, -122.766086],
  [45.450443, -122.76551],
  [45.45043, -122.765477],
  [45.450332, -122.76524],
  [45.450234, -122.765003],
  [45.450207, -122.764938],
  [45.450159, -122.764843],
  [45.450105, -122.764755],
  [45.450046, -122.764675],
  [45.449975, -122.764598],
  [45.449919, -122.764547],
  [45.449851, -122.764504],
  [45.44979, -122.764468],
  [45.449687, -122.76443],
  [45.44956, -122.76442],
  [45.449503, -122.764421],
  [45.449446, -122.764429],
  [45.449357, -122.764451],
  [45.449293, -122.764477],
  [45.449226, -122.764505],
  [45.449132, -122.764563],
  [45.448671, -122.764909],
  [45.448551, -122.765],
  [45.448442, -122.765075],
  [45.448263, -122.765208],
  [45.448137, -122.76529],
  [45.448046, -122.765347],
  [45.447855, -122.765457],
  [45.447779, -122.765496],
  [45.447773, -122.765499],
  [45.447708, -122.765531],
  [45.447636, -122.765557],
  [45.447513, -122.765595],
  [45.447397, -122.765616],
  [45.44722, -122.765623],
  [45.447111, -122.765627],
  [45.447001, -122.765628],
  [45.446694, -122.765634],
  [45.446596, -122.76563],
  [45.446595, -122.765763],
  [45.446594, -122.765993],
  [45.446593, -122.766172],
  [45.446593, -122.766256],
  [45.446594, -122.766367],
  [45.446595, -122.766595],
  [45.446596, -122.766635],
  [45.446598, -122.766814],
  [45.446607, -122.766942],
  [45.446631, -122.767094],
  [45.446658, -122.767216],
  [45.446717, -122.767414],
  [45.446773, -122.767591],
  [45.446845, -122.767825],
  [45.446869, -122.767952],
  [45.446883, -122.768049],
  [45.446891, -122.768218],
  [45.446894, -122.768485],
  [45.446887, -122.76936],
  [45.446885, -122.769645],
  [45.44687, -122.771586],
  [45.446867, -122.771806],
  [45.446866, -122.77195],
  [45.446865, -122.772376],
  [45.446861, -122.773145],
  [45.446857, -122.773732],
  [45.446854, -122.774333],
  [45.446847, -122.775038],
  [45.44684, -122.775848],
  [45.446846, -122.775892],
  [45.446873, -122.776004],
  [45.446815, -122.776107],
  [45.44645, -122.776269],
  [45.446292, -122.776257],
  [45.446044, -122.776374],
  [45.445997, -122.776396],
  [45.445887, -122.776442],
  [45.445447, -122.776606],
  [45.444804, -122.776845],
  [45.444702, -122.776883],
  [45.444646, -122.77701],
  [45.444376, -122.777111],
  [45.444265, -122.777078],
  [45.444126, -122.777116],
  [45.444023, -122.777156],
  [45.443926, -122.777198],
  [45.443363, -122.777431],
  [45.443169, -122.777526],
  [45.442997, -122.777607],
  [45.442904, -122.777658],
  [45.442716, -122.777791],
  [45.442558, -122.777937],
  [45.442316, -122.778197],
  [45.442162, -122.77836],
  [45.442042, -122.778485],
  [45.441937, -122.778594],
  [45.441911, -122.77862],
  [45.44171, -122.778848],
  [45.441471, -122.779122],
  [45.441431, -122.779168],
  [45.441374, -122.779234],
  [45.441344, -122.779268],
  [45.441312, -122.779303],
  [45.441247, -122.779372],
  [45.441104, -122.779495],
  [45.440997, -122.779575],
  [45.440901, -122.77964],
  [45.440852, -122.779667],
  [45.440798, -122.779698],
  [45.440652, -122.779764],
  [45.440588, -122.779785],
  [45.440527, -122.779806],
  [45.440473, -122.77982],
  [45.440426, -122.779831],
  [45.440257, -122.779865],
  [45.440152, -122.779879],
  [45.440061, -122.779878],
  [45.439981, -122.779874],
  [45.439876, -122.779861],
  [45.439767, -122.779843],
  [45.439735, -122.779835],
  [45.439644, -122.779812],
  [45.439448, -122.779736],
  [45.439418, -122.779724],
  [45.439401, -122.779717],
  [45.43929, -122.779662],
  [45.439013, -122.779525],
  [45.438855, -122.77945],
  [45.438793, -122.779422],
  [45.438608, -122.779335],
  [45.438551, -122.779308],
  [45.43827, -122.779179],
  [45.438214, -122.779148],
  [45.438143, -122.779097],
  [45.438075, -122.77904],
  [45.437956, -122.778929],
  [45.437928, -122.77889],
  [45.43784, -122.778773],
  [45.437792, -122.778692],
  [45.437738, -122.778594],
  [45.437685, -122.778471],
  [45.437647, -122.77837],
  [45.437614, -122.778258],
  [45.437586, -122.778151],
  [45.437526, -122.777906],
  [45.437417, -122.777444],
  [45.437262, -122.77678],
  [45.437252, -122.77674],
  [45.437186, -122.776471],
  [45.437167, -122.776376],
  [45.437132, -122.776192],
  [45.437106, -122.775999],
  [45.437067, -122.775707],
  [45.437062, -122.77567],
  [45.436917, -122.774624],
  [45.436899, -122.774507],
  [45.436867, -122.774369],
  [45.436631, -122.773492],
  [45.436617, -122.773441],
  [45.436532, -122.773131],
  [45.436486, -122.772992],
  [45.436433, -122.772831],
  [45.436355, -122.772636],
  [45.436204, -122.772307],
  [45.435817, -122.77148],
  [45.43563, -122.771079],
  [45.435533, -122.770885],
  [45.435485, -122.770794],
  [45.435135, -122.770168],
  [45.435069, -122.770049],
  [45.434876, -122.769707],
  [45.43478, -122.769536],
  [45.434706, -122.769413],
  [45.434638, -122.769303],
  [45.434599, -122.769247],
  [45.434579, -122.769218],
  [45.434399, -122.768957],
  [45.434263, -122.76876],
  [45.4342, -122.768667],
  [45.434185, -122.768647],
  [45.434084, -122.7685],
  [45.43404, -122.768436],
  [45.433937, -122.768286],
  [45.433896, -122.768232],
  [45.433864, -122.768189],
  [45.43371, -122.767972],
  [45.43367, -122.76792],
  [45.433616, -122.767848],
  [45.433476, -122.767651],
  [45.433428, -122.767585],
  [45.433408, -122.767556],
  [45.433292, -122.767383],
  [45.433221, -122.767291],
  [45.433114, -122.767167],
  [45.433011, -122.767167],
  [45.432963, -122.767143],
  [45.432913, -122.767143],
  [45.432847, -122.767174],
  [45.432781, -122.767233],
  [45.432753, -122.767276],
  [45.432734, -122.767313],
  [45.432722, -122.767355],
  [45.432709, -122.767419],
  [45.432701, -122.767484],
  [45.432695, -122.767554],
  [45.432684, -122.767648],
  [45.432658, -122.767765],
  [45.432585, -122.767993],
  [45.432529, -122.768147],
  [45.432479, -122.768254],
  [45.432429, -122.768333],
  [45.432382, -122.768406],
  [45.432297, -122.768449],
  [45.432247, -122.768525],
  [45.432211, -122.768583],
  [45.432048, -122.768849],
  [45.431939, -122.769025],
  [45.431857, -122.769157],
  [45.43181, -122.769235],
  [45.431705, -122.769403],
  [45.431683, -122.769438],
  [45.431608, -122.769557],
  [45.431566, -122.769624],
  [45.4315, -122.769731],
  [45.431329, -122.770003],
  [45.431214, -122.770187],
  [45.431162, -122.770118],
  [45.430876, -122.769707],
  [45.430758, -122.769537],
  [45.43067, -122.769411],
  [45.430568, -122.769506],
  [45.430514, -122.769539],
  [45.430435, -122.769577],
  [45.430379, -122.769585],
  [45.430322, -122.769575],
  [45.430256, -122.769529],
  [45.430223, -122.769482],
  [45.430215, -122.769472],
  [45.430173, -122.769413],
  [45.430089, -122.769295],
  [45.430051, -122.769209],
  [45.430041, -122.769153],
  [45.430033, -122.769094],
  [45.430041, -122.769036],
  [45.430096, -122.768939],
  [45.43021, -122.768764],
  [45.430189, -122.768732],
  [45.430137, -122.768661],
  [45.430108, -122.768619],
  [45.430037, -122.768519],
  [45.429979, -122.768435],
  [45.429816, -122.768204],
  [45.429679, -122.768011],
  [45.429614, -122.76792],
  [45.4294, -122.767618],
  [45.428931, -122.766951],
  [45.428853, -122.766841],
  [45.428818, -122.766794],
  [45.428621, -122.76653],
  [45.428355, -122.766175],
  [45.428288, -122.766088],
  [45.42834, -122.766034],
  [45.428403, -122.765953],
  [45.428618, -122.765679],
  [45.428865, -122.765367],
  [45.429026, -122.765159],
  [45.429078, -122.765092],
  [45.429119, -122.76504],
  [45.429277, -122.764838],
  [45.429295, -122.764816],
  [45.429351, -122.764757],
  [45.429429, -122.764693],
  [45.429445, -122.76468],
  [45.429523, -122.764652],
  [45.429597, -122.764638],
  [45.429741, -122.764641],
  [45.429819, -122.764647],
  [45.430095, -122.764652],
  [45.430094, -122.764502],
  [45.430091, -122.764464],
  [45.430086, -122.76443],
  [45.430066, -122.764363],
  [45.429814, -122.763709],
  [45.429812, -122.763704],
  [45.42979, -122.763645],
  [45.429785, -122.763633],
  [45.429671, -122.763339],
  [45.429442, -122.76275],
  [45.42923, -122.762206],
  [45.429157, -122.762016],
  [45.429095, -122.761856],
  [45.428971, -122.761539],
  [45.428926, -122.761423],
  [45.428845, -122.761213],
  [45.428642, -122.760693],
  [45.428496, -122.760318],
  [45.428276, -122.759754],
  [45.427954, -122.758927],
  [45.427944, -122.758901],
  [45.42779, -122.758503],
  [45.427771, -122.758455],
  [45.427545, -122.757874],
  [45.427515, -122.757782],
  [45.427497, -122.757713],
  [45.427399, -122.757287],
  [45.427366, -122.757147],
  [45.427288, -122.756769],
  [45.427011, -122.755561],
  [45.426987, -122.755446],
  [45.426973, -122.755342],
  [45.426972, -122.755306],
  [45.426971, -122.755262],
  [45.42697, -122.755167],
  [45.426969, -122.754946],
  [45.426969, -122.754769],
  [45.42697, -122.754671],
  [45.42697, -122.754634],
  [45.426968, -122.754375],
  [45.426962, -122.754253],
  [45.426952, -122.754094],
  [45.426941, -122.754014],
  [45.426931, -122.753962],
  [45.426914, -122.753865],
  [45.426899, -122.753796],
  [45.426857, -122.753639],
  [45.426799, -122.753465],
  [45.426742, -122.753334],
  [45.42667, -122.753195],
  [45.426625, -122.753114],
  [45.426575, -122.753035],
  [45.426481, -122.752906],
  [45.426374, -122.752789],
  [45.426253, -122.752676],
  [45.426048, -122.752511],
  [45.425829, -122.75236],
  [45.425821, -122.752354],
  [45.42577, -122.752316],
  [45.425644, -122.752219],
  [45.425601, -122.752179],
  [45.425563, -122.752124],
  [45.425538, -122.752071],
  [45.425517, -122.751999],
  [45.425507, -122.751915],
  [45.425497, -122.751797],
  [45.425492, -122.751664],
  [45.425937, -122.751662],
  [45.426689, -122.75164],
  [45.42678, -122.751632],
  [45.42688, -122.751627],
  [45.426966, -122.751619],
  [45.427137, -122.751606],
  [45.427169, -122.751606],
  [45.427482, -122.7516],
  [45.427537, -122.751512],
  [45.427577, -122.75141],
  [45.427585, -122.750354],
  [45.427585, -122.750326],
  [45.427629, -122.750217],
  [45.427629, -122.74996],
  [45.427629, -122.749621],
  [45.427626, -122.749538],
  [45.427612, -122.749442],
  [45.427572, -122.749229],
  [45.427549, -122.7491],
  [45.427522, -122.74895],
  [45.427509, -122.748863],
  [45.427507, -122.748793],
  [45.427501, -122.7486],
  [45.427461, -122.748515],
  [45.427456, -122.747961],
  [45.427455, -122.74789],
  [45.427455, -122.747688],
  [45.427454, -122.747034],
  [45.427457, -122.746943],
  [45.427461, -122.746848],
  [45.427537, -122.7469],
  [45.427576, -122.7469],
  [45.427926, -122.746887],
  [45.428331, -122.746872],
  [45.428889, -122.746857],
  [45.429389, -122.746843],
  [45.42948, -122.74684],
  [45.429572, -122.746838],
  [45.429803, -122.746832],
  [45.430163, -122.746824],
  [45.430302, -122.74682],
  [45.431706, -122.746787],
  [45.432522, -122.746774],
  [45.43259, -122.746773],
  [45.433224, -122.746772],
  [45.433516, -122.746768],
  [45.433725, -122.746765],
  [45.433892, -122.746748],
  [45.434303, -122.746733],
  [45.434495, -122.746727],
  [45.435257, -122.746706],
  [45.435475, -122.7467],
  [45.435818, -122.74669],
  [45.435897, -122.746688],
  [45.436291, -122.746679],
  [45.436382, -122.746672],
  [45.436423, -122.746664],
  [45.436472, -122.746645],
  [45.436535, -122.746618],
  [45.436639, -122.746546],
  [45.436694, -122.746432],
  [45.436733, -122.74638],
  [45.436771, -122.746317],
  [45.436795, -122.746272],
  [45.43682, -122.746218],
  [45.436842, -122.746156],
  [45.436866, -122.746069],
  [45.436882, -122.746001],
  [45.436896, -122.745911],
  [45.436907, -122.745879],
  [45.436941, -122.745812],
  [45.436935, -122.74462],
  [45.436928, -122.743625],
  [45.436926, -122.743548],
  [45.436922, -122.743248],
  [45.436913, -122.741298],
  [45.436912, -122.741159],
  [45.437014, -122.741159],
  [45.437283, -122.741164],
  [45.437567, -122.741166],
  [45.437784, -122.741166],
  [45.438181, -122.741164],
  [45.438294, -122.741164],
  [45.438395, -122.741164],
  [45.438565, -122.741159],
  [45.438645, -122.741153],
  [45.43872, -122.741146],
  [45.438776, -122.741134],
  [45.438841, -122.741114],
  [45.438901, -122.741092],
  [45.438956, -122.74107],
  [45.439009, -122.741044],
  [45.43905, -122.741017],
  [45.439095, -122.740986],
  [45.43913, -122.740958],
  [45.439174, -122.740917],
  [45.43921, -122.740881],
  [45.43924, -122.740846],
  [45.439288, -122.740793],
  [45.439319, -122.74075],
  [45.439351, -122.740702],
  [45.439397, -122.740627],
  [45.439511, -122.740414],
  [45.439625, -122.740195],
  [45.439819, -122.739797],
  [45.440085, -122.739278],
  [45.440327, -122.738764],
  [45.440358, -122.738694],
  [45.440406, -122.7386],
  [45.440446, -122.73853],
  [45.440486, -122.73846],
  [45.440535, -122.738379],
  [45.440582, -122.738314],
  [45.440653, -122.738237],
  [45.440608, -122.738123],
  [45.440544, -122.737916],
  [45.440527, -122.737823],
  [45.440509, -122.737712],
  [45.440501, -122.737544],
  [45.440494, -122.737024],
  [45.440496, -122.736231],
  [45.440504, -122.736083],
  [45.440524, -122.735953],
  [45.440563, -122.735792],
  [45.440602, -122.735674],
  [45.440651, -122.735571],
  [45.440719, -122.735451],
  [45.440909, -122.735139],
  [45.441109, -122.734809],
  [45.441167, -122.734692],
  [45.441207, -122.734594],
  [45.441237, -122.734511],
  [45.441278, -122.73435],
  [45.441302, -122.734213],
  [45.441313, -122.73415],
  [45.441322, -122.734052],
  [45.441323, -122.734046],
  [45.441326, -122.733888],
  [45.441324, -122.733828],
  [45.441323, -122.733346],
  [45.441325, -122.73105],
  [45.441324, -122.730229],
  [45.441317, -122.730098],
  [45.441298, -122.729969],
  [45.441244, -122.729802],
  [45.441195, -122.729709],
  [45.441142, -122.729643],
  [45.441089, -122.729586],
  [45.441038, -122.729534],
  [45.440998, -122.729504],
  [45.440944, -122.729482],
  [45.440839, -122.729452],
  [45.440737, -122.729445],
  [45.44055, -122.729445],
  [45.44048, -122.729431],
  [45.440432, -122.729419],
  [45.440332, -122.72938],
  [45.440227, -122.729317],
  [45.440139, -122.729249],
  [45.440082, -122.729189],
  [45.440003, -122.729105],
  [45.439931, -122.728994],
  [45.439868, -122.728871],
  [45.439852, -122.728832],
  [45.439806, -122.728722],
  [45.439759, -122.728573],
  [45.439603, -122.72848],
  [45.439266, -122.728252],
  [45.439184, -122.7282],
  [45.43898, -122.728067],
  [45.438907, -122.728074],
  [45.438885, -122.728076],
  [45.438853, -122.728099],
  [45.438834, -122.728131],
  [45.438812, -122.728195],
  [45.438771, -122.728309],
  [45.438702, -122.728528],
  [45.438633, -122.728742],
  [45.438566, -122.728951],
  [45.43845, -122.729307],
  [45.438381, -122.729521],
  [45.438312, -122.729733],
  [45.438243, -122.729949],
  [45.438187, -122.730121],
  [45.438176, -122.73014],
  [45.438155, -122.730149],
  [45.438135, -122.730146],
  [45.438, -122.730054],
  [45.437857, -122.729956],
  [45.437548, -122.72975],
  [45.437529, -122.729714],
  [45.437522, -122.729687],
  [45.437518, -122.729661],
  [45.437517, -122.729631],
  [45.437525, -122.729591],
  [45.437559, -122.729496],
  [45.437627, -122.729285],
  [45.437695, -122.729071],
  [45.437764, -122.728859],
  [45.437879, -122.728508],
  [45.437946, -122.728296],
  [45.437981, -122.728183],
  [45.438019, -122.728084],
  [45.438036, -122.728042],
  [45.438114, -122.72789],
  [45.438168, -122.727815],
  [45.438184, -122.727774],
  [45.438203, -122.727706],
  [45.438234, -122.727574],
  [45.438391, -122.727619],
  [45.438531, -122.727674],
  [45.438663, -122.72774],
  [45.438814, -122.727826],
  [45.438873, -122.727832],
  [45.439009, -122.727911],
  [45.439098, -122.727894],
  [45.43917, -122.727861],
  [45.43922, -122.727837],
  [45.439291, -122.727794],
  [45.439399, -122.727713],
  [45.439486, -122.727536],
  [45.439509, -122.727459],
  [45.439519, -122.727377],
  [45.439519, -122.727268],
  [45.439539, -122.727063],
  [45.439453, -122.727064],
  [45.439266, -122.727062],
  [45.439188, -122.727061],
  [45.438951, -122.727059],
  [45.438799, -122.72706],
  [45.438556, -122.727072],
  [45.438427, -122.727064],
  [45.438292, -122.727036],
  [45.438098, -122.726976],
  [45.438002, -122.726941],
  [45.437891, -122.72689],
  [45.437729, -122.726804],
  [45.437555, -122.726691],
  [45.437386, -122.726563],
  [45.43722, -122.726408],
  [45.437144, -122.726331],
  [45.436977, -122.726137],
  [45.436902, -122.726037],
  [45.436769, -122.725838],
  [45.436661, -122.725653],
  [45.436542, -122.725414],
  [45.436443, -122.725181],
  [45.436364, -122.724964],
  [45.436292, -122.724727],
  [45.436235, -122.724498],
  [45.436178, -122.724198],
  [45.43615, -122.723995],
  [45.436116, -122.72365],
  [45.435955, -122.721934],
  [45.435924, -122.721588],
  [45.435861, -122.720948],
  [45.435831, -122.720752],
  [45.435802, -122.720638],
  [45.435742, -122.72047],
  [45.435708, -122.720396],
  [45.435623, -122.720255],
  [45.435541, -122.720152],
  [45.435471, -122.720086],
  [45.435427, -122.720052],
  [45.435363, -122.720012],
  [45.435108, -122.719886],
  [45.434765, -122.719742],
  [45.434622, -122.71968],
  [45.434479, -122.719614],
  [45.43412, -122.719458],
  [45.434056, -122.719431],
  [45.433893, -122.719362],
  [45.433748, -122.719299],
  [45.433648, -122.71926],
  [45.433587, -122.719238],
  [45.433543, -122.719225],
  [45.433503, -122.719218],
  [45.433462, -122.719215],
  [45.433406, -122.719214],
  [45.433359, -122.719216],
  [45.433298, -122.719222],
  [45.433241, -122.719232],
  [45.433161, -122.719254],
  [45.433027, -122.719298],
  [45.432933, -122.719332],
  [45.432765, -122.719397],
  [45.432707, -122.719417],
  [45.432603, -122.719451],
  [45.432507, -122.719478],
  [45.432443, -122.719488],
  [45.432397, -122.719491],
  [45.432305, -122.719496],
  [45.43223, -122.719489],
  [45.432153, -122.719473],
  [45.432088, -122.719453],
  [45.432019, -122.719422],
  [45.431957, -122.719386],
  [45.431889, -122.719341],
  [45.431821, -122.719291],
  [45.431754, -122.719229],
  [45.43169, -122.719156],
  [45.431617, -122.71906],
  [45.431304, -122.718606],
  [45.431174, -122.718413],
  [45.431156, -122.71839],
  [45.431071, -122.718276],
  [45.431028, -122.718233],
  [45.430968, -122.718159],
  [45.430882, -122.718069],
  [45.430858, -122.718052],
  [45.430757, -122.717971],
  [45.430679, -122.71791],
  [45.430594, -122.717852],
  [45.430495, -122.717791],
  [45.429972, -122.7175],
  [45.429891, -122.717448],
  [45.429776, -122.717378],
  [45.429707, -122.717331],
  [45.429624, -122.717267],
  [45.429544, -122.717195],
  [45.429464, -122.717122],
  [45.429387, -122.717041],
  [45.429271, -122.716902],
  [45.42913, -122.716709],
  [45.428925, -122.716415],
  [45.428655, -122.716023],
  [45.428609, -122.715958],
  [45.428531, -122.715849],
  [45.428414, -122.71568],
  [45.428357, -122.715597],
  [45.428305, -122.715516],
  [45.428275, -122.715468],
  [45.428222, -122.715433],
  [45.428187, -122.715364],
  [45.428156, -122.715302],
  [45.428125, -122.715227],
  [45.428088, -122.715102],
  [45.42808, -122.715072],
  [45.428094, -122.714988],
  [45.428081, -122.714912],
  [45.428066, -122.714782],
  [45.428058, -122.714669],
  [45.428061, -122.714513],
  [45.428086, -122.714284],
  [45.428105, -122.714176],
  [45.428146, -122.71402],
  [45.428247, -122.713654],
  [45.428331, -122.713273],
  [45.428347, -122.713188],
  [45.42836, -122.713091],
  [45.428373, -122.71292],
  [45.428373, -122.712817],
  [45.428361, -122.712634],
  [45.428336, -122.712471],
  [45.428302, -122.712313],
  [45.428266, -122.712198],
  [45.428212, -122.712067],
  [45.428093, -122.71184],
  [45.427996, -122.711696],
  [45.427857, -122.711519],
  [45.427839, -122.711498],
  [45.427456, -122.711054],
  [45.427358, -122.710931],
  [45.427274, -122.710821],
  [45.427212, -122.710722],
  [45.427149, -122.710597],
  [45.427089, -122.710436],
  [45.427064, -122.710343],
  [45.427038, -122.71019],
  [45.427018, -122.709937],
  [45.427026, -122.709721],
  [45.42705, -122.709555],
  [45.427088, -122.709414],
  [45.427147, -122.709252],
  [45.427218, -122.709101],
  [45.427334, -122.708927],
  [45.427446, -122.708801],
  [45.427579, -122.70868],
  [45.427972, -122.708414],
  [45.4281, -122.708324],
  [45.428213, -122.70822],
  [45.428301, -122.708102],
  [45.428423, -122.707864],
  [45.428452, -122.707781],
  [45.428488, -122.707602],
  [45.428498, -122.707481],
  [45.42849, -122.707302],
  [45.428462, -122.707147],
  [45.428438, -122.707067],
  [45.428402, -122.706999],
  [45.428363, -122.706919],
  [45.428297, -122.706816],
  [45.428259, -122.706774],
  [45.428209, -122.706727],
  [45.428163, -122.706692],
  [45.428104, -122.706658],
  [45.428052, -122.706635],
  [45.428005, -122.706627],
  [45.427898, -122.70663],
  [45.427812, -122.706637],
  [45.427731, -122.706651],
  [45.427625, -122.706681],
  [45.427542, -122.70671],
  [45.427456, -122.706742],
  [45.42736, -122.706782],
  [45.427112, -122.706891],
  [45.426832, -122.707009],
  [45.426283, -122.707232],
  [45.426098, -122.707305],
  [45.425839, -122.707406],
  [45.425744, -122.707443],
  [45.425692, -122.707468],
  [45.425598, -122.707518],
  [45.425528, -122.707565],
  [45.425492, -122.707591],
  [45.425458, -122.707622],
  [45.425415, -122.707662],
  [45.42536, -122.707712],
  [45.425262, -122.707801],
  [45.425207, -122.707859],
  [45.425076, -122.707964],
  [45.425021, -122.708002],
  [45.424967, -122.708031],
  [45.424919, -122.708052],
  [45.424877, -122.708069],
  [45.424838, -122.708083],
  [45.424818, -122.70809],
  [45.424775, -122.708094],
  [45.424726, -122.70809],
  [45.424674, -122.708079],
  [45.424642, -122.708066],
  [45.424611, -122.708046],
  [45.424584, -122.708025],
  [45.424563, -122.708004],
  [45.424551, -122.707988],
  [45.424487, -122.707877],
  [45.424451, -122.707795],
  [45.424444, -122.707755],
  [45.424441, -122.70772],
  [45.424439, -122.707676],
  [45.424439, -122.707626],
  [45.424443, -122.707574],
  [45.424452, -122.707523],
  [45.424477, -122.707397],
  [45.424512, -122.707249],
  [45.424553, -122.707067],
  [45.424661, -122.706644],
  [45.424704, -122.706489],
  [45.424777, -122.706212],
  [45.424897, -122.705773],
  [45.424882, -122.705668],
  [45.424984, -122.705267],
  [45.42505, -122.705211],
  [45.425092, -122.705035],
  [45.425147, -122.704811],
  [45.425193, -122.704563],
  [45.425209, -122.704428],
  [45.425218, -122.704308],
  [45.425224, -122.704181],
  [45.425218, -122.704058],
  [45.425219, -122.703897],
  [45.425208, -122.703718],
  [45.425194, -122.703486],
  [45.425168, -122.70326],
  [45.425133, -122.703048],
  [45.425059, -122.702718],
  [45.425002, -122.702496],
  [45.424905, -122.702137],
  [45.42486, -122.701972],
  [45.424818, -122.70181],
  [45.424686, -122.701311],
  [45.424661, -122.701217],
  [45.424596, -122.700967],
  [45.424406, -122.700202],
  [45.424381, -122.700113],
  [45.42431, -122.700037],
  [45.424291, -122.699963],
  [45.424127, -122.699352],
  [45.42407, -122.69913],
  [45.424082, -122.698992],
  [45.424065, -122.698928],
  [45.423993, -122.698661],
  [45.423876, -122.698212],
  [45.423771, -122.697811],
  [45.423668, -122.697429],
  [45.423648, -122.697356],
  [45.423568, -122.697247],
  [45.423472, -122.696892],
  [45.423377, -122.696519],
  [45.423252, -122.695953],
  [45.423278, -122.695837],
  [45.423269, -122.695783],
  [45.423265, -122.695755],
  [45.423245, -122.695641],
  [45.423226, -122.695521],
  [45.423197, -122.695303],
  [45.423189, -122.695247],
  [45.423177, -122.695146],
  [45.423162, -122.69503],
  [45.423152, -122.69491],
  [45.423136, -122.694714],
  [45.423123, -122.694513],
  [45.423111, -122.694213],
  [45.423106, -122.694055],
  [45.423102, -122.693773],
  [45.423098, -122.69315],
  [45.423098, -122.69314],
  [45.423097, -122.692991],
  [45.423096, -122.69282],
  [45.423094, -122.692106],
  [45.423091, -122.690979],
  [45.42309, -122.690765],
  [45.423044, -122.690683],
  [45.423043, -122.690081],
  [45.423089, -122.689981],
  [45.423087, -122.689309],
  [45.423087, -122.689283],
  [45.423086, -122.689066],
  [45.423081, -122.688781],
  [45.423071, -122.688476],
  [45.423038, -122.68781],
  [45.423013, -122.687415],
  [45.423003, -122.687221],
  [45.422996, -122.687031],
  [45.422987, -122.68671],
  [45.422982, -122.685847],
  [45.422982, -122.685441],
  [45.422979, -122.684187],
  [45.422981, -122.68362],
  [45.42298, -122.682222],
  [45.422978, -122.681044],
  [45.422974, -122.680648],
  [45.42296, -122.679474],
  [45.422956, -122.67912],
  [45.422954, -122.67888],
  [45.422951, -122.678728],
  [45.42294, -122.678654],
  [45.422919, -122.678563],
  [45.422888, -122.678451],
  [45.422859, -122.678391],
  [45.422813, -122.678306],
  [45.422741, -122.678199],
  [45.42266, -122.678095],
  [45.421798, -122.677004],
  [45.421243, -122.67631],
  [45.420889, -122.675866],
  [45.420807, -122.675829],
  [45.420651, -122.675632],
  [45.420647, -122.675626],
  [45.42061, -122.675563],
  [45.420577, -122.675487],
  [45.420549, -122.675374],
  [45.420533, -122.675271],
  [45.420512, -122.675123],
  [45.420493, -122.674964],
  [45.420482, -122.674865],
  [45.420528, -122.67476],
  [45.420491, -122.674426],
  [45.420462, -122.674159],
  [45.420418, -122.673759],
  [45.420394, -122.673535],
  [45.420371, -122.673329],
  [45.42034, -122.673042],
  [45.420326, -122.672914],
  [45.420279, -122.672491],
  [45.420257, -122.672291],
  [45.420238, -122.672116],
  [45.42019, -122.671681],
  [45.420122, -122.671062],
  [45.420055, -122.670449],
  [45.420007, -122.670014],
  [45.419987, -122.669828],
  [45.419933, -122.669337],
  [45.419919, -122.669211],
  [45.421212, -122.668923],
  [45.421145, -122.668305],
  [45.421121, -122.668092]
];

const stopNames = {
  "2": "A Ave &amp; Chandler",
  "6": "A Ave &amp; 8th St",
  "672": "Kerr &amp; Jefferson Pkwy",
  "1123": "SW Commercial &amp; Hall",
  "1222": "Country Club &amp; Iron Mtn",
  "1224": "Country Club &amp; Knaus Rd",
  "1225": "2500 Block Country Club",
  "1228": "Country Club &amp; Bridge Ct",
  "1230": "Country Club &amp; Sundeleaf",
  "1232": "Country Club &amp; Uplands",
  "1234": "Country Club &amp; Wembley Park",
  "2233": "SW Greenburg &amp; Center",
  "2257": "SW Haines &amp; Lesser",
  "2282": "SW Hall &amp; Greenburg",
  "2299": "SW Hall &amp; Washington",
  "2308": "SW Hall &amp; 88th",
  "2312": "SW Hall &amp; 91st",
  "2494": "6900 Block SW Hampton",
  "2496": "SW Hampton &amp; 72nd",
  "2812": "8000 Block SW Hunziker",
  "2815": "SW Hunziker &amp; Hall",
  "2818": "SW Hunziker &amp; 72nd",
  "3125": "50 Block Kerr Parkway",
  "3127": "Kerr &amp; Boones Ferry Rd",
  "3134": "Kerr &amp; Tanglewood",
  "3137": "Kerr &amp; The Grotto",
  "3141": "Kerr &amp; Touchstone",
  "3387": "12100 Block SW Lesser",
  "3393": "SW Lesser &amp; 60th",
  "3454": "SW Lombard &amp; Allen",
  "3581": "SW Lombard &amp; 12th",
  "3584": "SW Lombard &amp; 5th",
  "3586": "SW Lombard &amp; 9th",
  "4427": "PCC Lower Drive (G St) &amp; H St",
  "4431": "PCC Sylvania Main Stop",
  "5159": "7700 Block SW Scholls Ferry",
  "5161": "8600 Block SW Scholls Ferry",
  "5167": "SW Scholls Ferry &amp; Crestwood",
  "5169": "SW Scholls Ferry &amp; Crystal",
  "5176": "SW Scholls Ferry &amp; Heather",
  "5180": "SW Scholls Ferry &amp; Marjorie",
  "6125": "SW Eliander &amp; One Embassy Centre",
  "7844": "SW 68th &amp; Baylor",
  "7847": "SW 68th &amp; Franklin",
  "7849": "SW 68th &amp; Clinton",
  "8209": "Tigard Transit Center",
  "8491": "SW Lombard &amp; 2nd",
  "9221": "SW Palmblad &amp; Hall Blvd",
  "9545": "Lake Oswego Transit Center",
  "9652": "Washington Square Transit Center",
  "9785": "SW Lombard &amp; Camden",
  "9981": "Beaverton Transit Center",
  "9985": "Beaverton Transit Center",
  "12404": "SW Greenburg &amp; Washington Square Rd",
  "12945": "SW Lombard &amp; Broadway",
  "12958": "7500 Block SW Hunziker",
  "13581": "9900 Block SW Hall",
  "13645": "Kerr &amp; Hidalgo",
  "13924": "SW Denney &amp; Queen",
  "13925": "SW Denney &amp; 111th",
  "13931": "SW Lombard &amp; Bruce Ln",
  "14003": "SW Denney &amp; 100th Ter",
  "14410": "SW Main between Scoffins and Commercial",
  "14466": "SW Locust &amp; 87th"
};

const stops = [
  { stop_id: "9985", name: "Beaverton Transit Center", lat: 45.491385, lon: -122.801308, times: ["5:56 AM", "7:00 AM", "7:27 AM"] },
  { stop_id: "9981", name: "Beaverton Transit Center", lat: 45.49093, lon: -122.801741, times: ["5:58 AM", "7:02 AM", "7:29 AM"] },
  { stop_id: "12945", name: "SW Lombard &amp; Broadway", lat: 45.488206, lon: -122.801264, times: ["5:58 AM", "7:02 AM", "7:30 AM"] },
  { stop_id: "8491", name: "SW Lombard &amp; 2nd", lat: 45.48529, lon: -122.800386, times: ["5:59 AM", "7:03 AM", "7:31 AM"] },
  { stop_id: "3584", name: "SW Lombard &amp; 5th", lat: 45.483046, lon: -122.800391, times: ["6:00 AM", "7:04 AM", "7:31 AM"] },
  { stop_id: "3586", name: "SW Lombard &amp; 9th", lat: 45.480798, lon: -122.800392, times: ["6:00 AM", "7:05 AM", "7:32 AM"] },
  { stop_id: "3581", name: "SW Lombard &amp; 12th", lat: 45.478516, lon: -122.800403, times: ["6:01 AM", "7:06 AM", "7:33 AM"] },
  { stop_id: "3454", name: "SW Lombard &amp; Allen", lat: 45.476717, lon: -122.8004, times: ["6:01 AM", "7:06 AM", "7:34 AM"] },
  { stop_id: "13931", name: "SW Lombard &amp; Bruce Ln", lat: 45.472845, lon: -122.800413, times: ["6:03 AM", "7:07 AM", "7:35 AM"] },
  { stop_id: "9785", name: "SW Lombard &amp; Camden", lat: 45.470155, lon: -122.800408, times: ["6:03 AM", "7:08 AM", "7:36 AM"] },
  { stop_id: "13924", name: "SW Denney &amp; Queen", lat: 45.469256, lon: -122.795208, times: ["6:04 AM", "7:10 AM", "7:38 AM"] },
  { stop_id: "13925", name: "SW Denney &amp; 111th", lat: 45.469268, lon: -122.790992, times: ["6:05 AM", "7:11 AM", "7:39 AM"] },
  { stop_id: "14003", name: "SW Denney &amp; 100th Ter", lat: 45.469298, lon: -122.780037, times: ["6:07 AM", "7:13 AM", "7:41 AM"] },
  { stop_id: "5176", name: "SW Scholls Ferry &amp; Heather", lat: 45.46744, lon: -122.776909, times: ["6:09 AM", "7:15 AM", "7:43 AM"] },
  { stop_id: "5180", name: "SW Scholls Ferry &amp; Marjorie", lat: 45.465214, lon: -122.778066, times: ["6:09 AM", "7:16 AM", "7:44 AM"] },
  { stop_id: "5159", name: "7700 Block SW Scholls Ferry", lat: 45.463841, lon: -122.778834, times: ["6:10 AM", "7:16 AM", "7:45 AM"] },
  { stop_id: "5169", name: "SW Scholls Ferry &amp; Crystal", lat: 45.462247, lon: -122.779673, times: ["6:10 AM", "7:17 AM", "7:45 AM"] },
  { stop_id: "5167", name: "SW Scholls Ferry &amp; Crestwood", lat: 45.460717, lon: -122.780441, times: ["6:11 AM", "7:17 AM", "7:46 AM"] },
  { stop_id: "5161", name: "8600 Block SW Scholls Ferry", lat: 45.458022, lon: -122.781936, times: ["6:11 AM", "7:18 AM", "7:47 AM"] },
  { stop_id: "6125", name: "SW Eliander &amp; One Embassy Centre", lat: 45.455116, lon: -122.780496, times: ["6:12 AM", "7:19 AM", "7:48 AM"] },
  { stop_id: "9652", name: "Washington Square Transit Center", lat: 45.452445, lon: -122.778785, times: ["6:14 AM", "7:21 AM", "7:50 AM"] },
  { stop_id: "9221", name: "SW Palmblad &amp; Hall Blvd", lat: 45.45369, lon: -122.776277, times: ["6:15 AM", "7:22 AM", "7:51 AM"] },
  { stop_id: "2282", name: "SW Hall &amp; Greenburg", lat: 45.453013, lon: -122.773643, times: ["6:15 AM", "7:22 AM", "7:51 AM"] },
  { stop_id: "2312", name: "SW Hall &amp; 91st", lat: 45.451909, lon: -122.770246, times: ["6:16 AM", "7:23 AM", "7:52 AM"] },
  { stop_id: "2308", name: "SW Hall &amp; 88th", lat: 45.451117, lon: -122.767695, times: ["6:16 AM", "7:24 AM", "7:53 AM"] },
  { stop_id: "2299", name: "SW Hall &amp; Washington", lat: 45.450363, lon: -122.765567, times: ["6:17 AM", "7:24 AM", "7:53 AM"] },
  { stop_id: "13581", name: "9900 Block SW Hall", lat: 45.447796, lon: -122.765609, times: ["6:18 AM", "7:25 AM", "7:54 AM"] },
  { stop_id: "14466", name: "SW Locust &amp; 87th", lat: 45.446679, lon: -122.766591, times: ["6:18 AM", "7:26 AM", "7:55 AM"] },
  { stop_id: "12404", name: "SW Greenburg &amp; Washington Square Rd", lat: 45.446077, lon: -122.77652, times: ["6:20 AM", "7:28 AM", "7:57 AM"] },
  { stop_id: "2233", name: "SW Greenburg &amp; Center", lat: 45.434029, lon: -122.76857, times: ["6:25 AM", "7:33 AM", "8:03 AM"] },
  { stop_id: "14410", name: "SW Main between Scoffins and Commercial", lat: 45.431698, lon: -122.769545, times: ["6:26 AM", "7:34 AM", "8:04 AM"] },
  { stop_id: "8209", name: "Tigard Transit Center", lat: 45.430182, lon: -122.769513, times: ["6:27 AM", "7:35 AM", "8:05 AM"] },
  { stop_id: "1123", name: "SW Commercial &amp; Hall", lat: 45.428566, lon: -122.766605, times: ["6:27 AM", "7:35 AM", "8:05 AM"] },
  { stop_id: "2815", name: "SW Hunziker &amp; Hall", lat: 45.429753, lon: -122.763744, times: ["6:28 AM", "7:36 AM", "8:06 AM"] },
  { stop_id: "2812", name: "8000 Block SW Hunziker", lat: 45.42772, lon: -122.758495, times: ["6:29 AM", "7:38 AM", "8:08 AM"] },
  { stop_id: "12958", name: "7500 Block SW Hunziker", lat: 45.426904, lon: -122.754632, times: ["6:29 AM", "7:38 AM", "8:09 AM"] },
  { stop_id: "2818", name: "SW Hunziker &amp; 72nd", lat: 45.42578, lon: -122.752445, times: ["6:30 AM", "7:39 AM", "8:09 AM"] },
  { stop_id: "2496", name: "SW Hampton &amp; 72nd", lat: 45.427546, lon: -122.750352, times: ["6:31 AM", "7:40 AM", "8:11 AM"] },
  { stop_id: "2494", name: "6900 Block SW Hampton", lat: 45.427399, lon: -122.748527, times: ["6:31 AM", "7:41 AM", "8:11 AM"] },
  { stop_id: "7847", name: "SW 68th &amp; Franklin", lat: 45.430157, lon: -122.746712, times: ["6:32 AM", "7:42 AM", "8:12 AM"] },
  { stop_id: "7849", name: "SW 68th &amp; Clinton", lat: 45.434302, lon: -122.746624, times: ["6:33 AM", "7:43 AM", "8:14 AM"] },
  { stop_id: "7844", name: "SW 68th &amp; Baylor", lat: 45.435812, lon: -122.746577, times: ["6:33 AM", "7:43 AM", "8:14 AM"] },
  { stop_id: "2257", name: "SW Haines &amp; Lesser", lat: 45.436879, lon: -122.741299, times: ["6:34 AM", "7:45 AM", "8:16 AM"] },
  { stop_id: "3387", name: "12100 Block SW Lesser", lat: 45.438295, lon: -122.741112, times: ["6:34 AM", "7:45 AM", "8:16 AM"] },
  { stop_id: "3393", name: "SW Lesser &amp; 60th", lat: 45.440392, lon: -122.738473, times: ["6:35 AM", "7:46 AM", "8:17 AM"] },
  { stop_id: "4427", name: "PCC Lower Drive (G St) &amp; H St", lat: 45.44128, lon: -122.734043, times: ["7:47 AM", "8:18 AM", "8:48 AM"] },
  { stop_id: "4431", name: "PCC Sylvania Main Stop", lat: 45.437955, lon: -122.730177, times: ["7:50 AM", "8:21 AM", "8:51 AM"] },
  { stop_id: "13645", name: "Kerr &amp; Hidalgo", lat: 45.439265, lon: -122.727191, times: ["6:38 AM", "7:51 AM", "8:22 AM"] },
  { stop_id: "3125", name: "50 Block Kerr Parkway", lat: 45.43411, lon: -122.719502, times: ["6:40 AM", "7:53 AM", "8:24 AM"] },
  { stop_id: "672", name: "Kerr &amp; Jefferson Pkwy", lat: 45.431094, lon: -122.718476, times: ["6:41 AM", "7:53 AM", "8:25 AM"] },
  { stop_id: "3141", name: "Kerr &amp; Touchstone", lat: 45.42801, lon: -122.715146, times: ["6:42 AM", "7:54 AM", "8:26 AM"] },
  { stop_id: "3134", name: "Kerr &amp; Tanglewood", lat: 45.427807, lon: -122.711553, times: ["6:42 AM", "7:55 AM", "8:26 AM"] },
  { stop_id: "3137", name: "Kerr &amp; The Grotto", lat: 45.426114, lon: -122.70739, times: ["6:44 AM", "7:57 AM", "8:28 AM"] },
  { stop_id: "3127", name: "Kerr &amp; Boones Ferry Rd", lat: 45.42485, lon: -122.708181, times: ["6:44 AM", "7:57 AM", "8:28 AM"] },
  { stop_id: "1230", name: "Country Club &amp; Sundeleaf", lat: 45.424909, lon: -122.705201, times: ["6:44 AM", "7:58 AM", "8:29 AM"] },
  { stop_id: "1225", name: "2500 Block Country Club", lat: 45.424538, lon: -122.701279, times: ["6:45 AM", "7:58 AM", "8:30 AM"] },
  { stop_id: "1234", name: "Country Club &amp; Wembley Park", lat: 45.423776, lon: -122.698261, times: ["6:45 AM", "7:59 AM", "8:30 AM"] },
  { stop_id: "1232", name: "Country Club &amp; Uplands", lat: 45.423161, lon: -122.69579, times: ["6:46 AM", "7:59 AM", "8:31 AM"] },
  { stop_id: "1228", name: "Country Club &amp; Bridge Ct", lat: 45.422983, lon: -122.693141, times: ["6:46 AM", "8:00 AM", "8:31 AM"] },
  { stop_id: "1224", name: "Country Club &amp; Knaus Rd", lat: 45.422962, lon: -122.689284, times: ["6:47 AM", "8:00 AM", "8:32 AM"] },
  { stop_id: "1222", name: "Country Club &amp; Iron Mtn", lat: 45.422846, lon: -122.679115, times: ["6:48 AM", "8:02 AM", "8:34 AM"] },
  { stop_id: "2", name: "A Ave &amp; Chandler", lat: 45.420609, lon: -122.675671, times: ["6:49 AM", "8:03 AM", "8:35 AM"] },
  { stop_id: "6", name: "A Ave &amp; 8th St", lat: 45.420217, lon: -122.67307, times: ["6:50 AM", "8:03 AM", "8:35 AM"] },
  { stop_id: "9545", name: "Lake Oswego Transit Center", lat: 45.421057, lon: -122.668105, times: ["6:51 AM", "8:05 AM", "8:37 AM"] },
]

  const polylineOut = L.polyline(shapeOutbound, {
    color: 'blue',
    weight: 4,
    opacity: 0.7
  }).addTo(map);

  map.fitBounds(polylineOut.getBounds());

  stops.forEach(stop => {
    const marker = L.circleMarker([stop.lat, stop.lon], {
      radius: 6,
      color: '#4dd0e1',
      fillColor: '#4dd0e1',
      fillOpacity: 0.9,
      weight: 1
    });

    const popupContent = `
      <strong>${stop.name}</strong><br>
      ${stop.times && stop.times.length ? stop.times.slice(0, 3).join("<br>") : "No scheduled times"}
    `;

    marker.bindPopup(popupContent);
    marker.addTo(map);
  });

  let busMarkers = {};

  async function fetchAndDisplay() {
    const res = await fetch(`https://developer.trimet.org/ws/v2/vehicles?route=${routeNumber}&appID=${apiKey}&json=true`);
    const data = await res.json();
    const buses = (data.resultSet.vehicle || []).filter(v =>
      v.routeNumber == routeNumber && v.direction == direction
    );

    Object.values(busMarkers).forEach(m => map.removeLayer(m));
    busMarkers = {};

    if (buses.length === 0) return;

    buses.forEach(bus => {
      if (!bus.latitude || !bus.longitude || !bus.blockID) return;

      const icon = L.divIcon({
        className: '',
        html: `
          <div style="text-align:center;">
            <div style="background:#0071CE;color:#fff;padding:2px 6px;border-radius:6px;font-weight:bold;">${bus.vehicleID}</div>
            <div style="width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:10px solid #00bfff;margin:auto;"></div>
          </div>
        `,
        iconSize: [40, 30],
        iconAnchor: [20, 30]
      });

      const marker = L.marker([bus.latitude, bus.longitude], { icon }).addTo(map);
      busMarkers[bus.vehicleID] = marker;
    });
  }

  fetchAndDisplay();
  setInterval(fetchAndDisplay, 15000);
  </script>

<footer class="site-footer">
  <a href="terms.html">Terms of Use</a> &nbsp;|&nbsp;
  <a href="contact.html">Contact Us</a> &nbsp;|&nbsp;
  <a href="report.html">Report a Problem</a> &nbsp;|&nbsp;
  <a href="privacy.html">Privacy Policy</a>
</footer>

<div id="cookie-banner" style="display: none; position: fixed; bottom: 0; width: 100%; background: #333; color: #fff; padding: 0.75rem; z-index: 1000; font-size: 0.85rem; line-height: 1.4; text-align: left; display: flex; flex-direction: column; align-items: center; gap: 0.5rem;">
  📢 We use cookies for personalized ads and analytics. By using MetroFeed, you agree to our 
  <a href="privacy.html" style="color: #4dd0e1; text-decoration: underline;">Privacy Policy</a>.
  <button onclick="acceptCookies()" style="background: #4dd0e1; color: #000; border: none; padding: 0.5rem 1rem; border-radius: 5px; cursor: pointer; font-weight: bold;">OK</button>
</div>

<script>
  function acceptCookies() {
    localStorage.setItem('cookieConsent', 'true');
    document.getElementById('cookie-banner').style.display = 'none';
  }

  window.onload = function() {
    if (!localStorage.getItem('cookieConsent')) {
      document.getElementById('cookie-banner').style.display = 'block';
    }
  }
</script>




</body>
</html>