<!DOCTYPE html>
<html lang="en">
<head>
  
<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-EL337T4JX4"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-EL337T4JX4');
</script>

<meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Route 12 - To Tigard Transit Center | MetroFeed Portland</title>
  <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
  <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
  <style>
    html, body {
      margin: 0;
      padding: 0;
      font-family: 'Segoe UI', sans-serif;
      background-color: #0d0d0d;
      color: #cccccc;
      overflow-y: auto;
    }

    body {
      padding-top: 120px;
    }

    .ad-banner {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      background: #222;
      padding: 0;
      z-index: 1000;
      box-shadow: 0 2px 2px rgba(0,0,0,0.5);
      text-align: center;
    }

    .ad-banner img {
      width: 100%;
      max-width: 728px;
      max-height: 120px;
      display: block;
      margin: 0 auto;
    }
    .home-button {
      position: fixed;
      top: 120px;
      left: 10px;
      background-color: #4dd0e1;
      color: #0d0d0d;
      padding: 0.5rem 1rem;
      font-weight: bold;
      border-radius: 8px;
      text-decoration: none;
      z-index: 1001;
      box-shadow: 0 0 10px #4dd0e1;
    }

    .home-button:hover {
      background-color: #00bcd4;
      color: #ffffff;
    }

    header {
      background-color: #0d0d0d;
      border-top: 4px solid #4dd0e1;
      border-bottom: 3px solid #4dd0e1;
      padding: 1rem;
      text-align: center;
    }

    header img {
      max-height: 60px;
    }

    h1 {
      text-align: center;
      margin: 1rem 0;
      font-size: 2rem;
      color: #f0f0f0;
    }

    .content-box {
      border-radius: 12px;
      padding: 0;
      margin: 0;
      background-color: #1e1e1e;
    }

    #map {
      width: 100%;
      height: 85vh;
      border: none;
      margin: 0 auto;
      display: block;
      border-radius: 8px;
    }

    .button-bar {
      display: flex;
      justify-content: center;
      margin: 1rem 0;
    }

    .button-bar a, .back-button {
      background: #4dd0e1;
      color: #0d0d0d;
      padding: 0.6rem 1.2rem;
      text-decoration: none;
      border-radius: 8px;
      font-weight: bold;
      border: none;
      cursor: pointer;
      box-shadow: 0 0 10px #4dd0e1;
    }

    .back-button:hover {
      background-color: #35c0d6;
    }

    .site-footer {
      text-align: center;
      margin-top: 3rem;
      margin-bottom: 120px;
      font-size: 0.85rem;
      color: #aaa;
    }

    .site-footer a {
      color: #00BFFF;
      text-decoration: none;
    }

    .site-footer a:hover {
      text-decoration: underline;
    }

    @media (max-width: 600px) {
      .ad-banner {
        padding-top: 1rem;
        padding-bottom: 0rem;
      }
    }
  </style>
</head>

<body>
  <div class="ad-banner">
    <iframe src="https://metrofeedus.com/portland/Ads/route-12-dir0-ad.html" style="border:none; width:100%; max-width: 728px; height:90px;"></iframe>
  </div>

  <header>
    <img src="MetroFeedPortlandLogo.png" alt="MetroFeed Portland">
  </header>

  <div class="disclaimer" style="margin: 1rem auto 0.5rem; max-width: 600px; font-size: 0.8rem; color: #bbb; text-align: center; padding: 0.5rem 1rem; background-color: #111; border: 1px dashed #444; border-radius: 6px;">
    ⚠️ This is a Beta program, work in progress. Please REPORT bugs and pretend to be impressed.
  </div>
  <div class="disclaimer" style="margin: 0 auto 1rem; max-width: 600px; font-size: 0.75rem; color: #888; text-align: center; padding: 0.25rem 1rem;">
    This tool is not affiliated with or endorsed by TriMet. For official schedules and service alerts, visit <a href="https://trimet.org" style="color:#4dd0e1;">trimet.org</a>.
  </div>

  <div style="margin: 2rem 0; text-align: center;">
    <button class="back-button" onclick="history.back()">Back</button>
  </div>

  <h1>Route 12 - To Tigard Transit Center</h1>

  <div class="content-box">
    <div id="map"></div>
    <div style="text-align:right; font-size: 0.7rem; color: #777; margin-top: 0.5rem;">
      Data courtesy of TriMet.
    </div>
  </div>

  <script>
    if (document.referrer === "" && performance.navigation.type === 0) {
      window.location.href = "/index.html";
    }

    const apiKey = "2C4447D4A42083BCD84DE3B8E";
    const routeNumber = 12;
    const direction = parseInt(0);

    const map = L.map('map', {
      center: [45.6, -122.7],
      zoom: 12,
      minZoom: 12,
      maxZoom: 18,
      maxBounds: [[45.3, -123.1], [45.9, -122.3]],
      maxBoundsViscosity: 1.0
    });
    L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', { maxZoom: 19 }).addTo(map);

    const shapeOutbound = [
  [45.558801, -122.564607],
  [45.558847, -122.56455],
  [45.558884, -122.56449],
  [45.558895, -122.564443],
  [45.558888, -122.564384],
  [45.558862, -122.564329],
  [45.558747, -122.564229],
  [45.558582, -122.564109],
  [45.558367, -122.563954],
  [45.558332, -122.564046],
  [45.558138, -122.564539],
  [45.557894, -122.565169],
  [45.557792, -122.565434],
  [45.557598, -122.565933],
  [45.557131, -122.567108],
  [45.55696, -122.567528],
  [45.556924, -122.567621],
  [45.556821, -122.567883],
  [45.556663, -122.568269],
  [45.556436, -122.568835],
  [45.556211, -122.56939],
  [45.555917, -122.570115],
  [45.555689, -122.570668],
  [45.555647, -122.570769],
  [45.555503, -122.571123],
  [45.555091, -122.572137],
  [45.555014, -122.572327],
  [45.554903, -122.5726],
  [45.554762, -122.572946],
  [45.554465, -122.573677],
  [45.554099, -122.574575],
  [45.554072, -122.57464],
  [45.553855, -122.575179],
  [45.553728, -122.575495],
  [45.553672, -122.575632],
  [45.553553, -122.575922],
  [45.553259, -122.576649],
  [45.553094, -122.577047],
  [45.552843, -122.577666],
  [45.552818, -122.577727],
  [45.552719, -122.577966],
  [45.552553, -122.578379],
  [45.552497, -122.578517],
  [45.552433, -122.578672],
  [45.552376, -122.578808],
  [45.552295, -122.57901],
  [45.552239, -122.579149],
  [45.552014, -122.579696],
  [45.551737, -122.580373],
  [45.551596, -122.580719],
  [45.551181, -122.581736],
  [45.551116, -122.581897],
  [45.551022, -122.582125],
  [45.550761, -122.582765],
  [45.550447, -122.58354],
  [45.550384, -122.583695],
  [45.550345, -122.58379],
  [45.550308, -122.58388],
  [45.549939, -122.584802],
  [45.549743, -122.585309],
  [45.54954, -122.585835],
  [45.549302, -122.586445],
  [45.549308, -122.586526],
  [45.549252, -122.58667],
  [45.54918, -122.586854],
  [45.549069, -122.587138],
  [45.549017, -122.587174],
  [45.548739, -122.587876],
  [45.548611, -122.588209],
  [45.548408, -122.588742],
  [45.548345, -122.588902],
  [45.548215, -122.589246],
  [45.548152, -122.589404],
  [45.547932, -122.589962],
  [45.547858, -122.590148],
  [45.547778, -122.590351],
  [45.54747, -122.591134],
  [45.547421, -122.591264],
  [45.547315, -122.591544],
  [45.547161, -122.591933],
  [45.547175, -122.592015],
  [45.547145, -122.592097],
  [45.547108, -122.592199],
  [45.547044, -122.592229],
  [45.546622, -122.593307],
  [45.546297, -122.59414],
  [45.546225, -122.594324],
  [45.546195, -122.5944],
  [45.545827, -122.595342],
  [45.545433, -122.596357],
  [45.54528, -122.596746],
  [45.54511, -122.597184],
  [45.545032, -122.597383],
  [45.544634, -122.5984],
  [45.544462, -122.598846],
  [45.544335, -122.599177],
  [45.544319, -122.599219],
  [45.544242, -122.599417],
  [45.544213, -122.59949],
  [45.544125, -122.599716],
  [45.543827, -122.600469],
  [45.543749, -122.600671],
  [45.543619, -122.601007],
  [45.543421, -122.601515],
  [45.543133, -122.602256],
  [45.543029, -122.602523],
  [45.542626, -122.60355],
  [45.542505, -122.603867],
  [45.542506, -122.603996],
  [45.542425, -122.60421],
  [45.542322, -122.604484],
  [45.542225, -122.604591],
  [45.542147, -122.604782],
  [45.542056, -122.605016],
  [45.541961, -122.605258],
  [45.541801, -122.60566],
  [45.541672, -122.606],
  [45.54165, -122.606056],
  [45.541413, -122.606661],
  [45.541166, -122.60728],
  [45.541042, -122.60759],
  [45.540943, -122.607827],
  [45.540789, -122.608188],
  [45.540516, -122.608846],
  [45.540421, -122.609087],
  [45.540361, -122.609252],
  [45.540284, -122.609477],
  [45.540215, -122.609686],
  [45.540151, -122.609868],
  [45.54011, -122.60999],
  [45.540012, -122.610283],
  [45.539985, -122.610362],
  [45.53979, -122.610939],
  [45.539656, -122.611339],
  [45.539448, -122.611958],
  [45.539375, -122.612175],
  [45.539118, -122.612939],
  [45.538987, -122.613334],
  [45.538823, -122.613821],
  [45.538767, -122.613985],
  [45.538724, -122.614109],
  [45.538678, -122.614229],
  [45.538617, -122.614395],
  [45.538498, -122.614668],
  [45.538464, -122.614745],
  [45.538406, -122.614875],
  [45.538355, -122.61498],
  [45.538302, -122.615087],
  [45.538094, -122.615538],
  [45.537897, -122.615977],
  [45.537821, -122.616144],
  [45.537704, -122.616415],
  [45.537519, -122.616837],
  [45.537467, -122.616945],
  [45.537374, -122.617141],
  [45.537279, -122.617343],
  [45.537204, -122.617506],
  [45.53702, -122.617907],
  [45.536956, -122.618055],
  [45.536907, -122.618167],
  [45.536807, -122.618396],
  [45.536651, -122.61875],
  [45.536576, -122.618918],
  [45.536533, -122.619013],
  [45.536106, -122.619932],
  [45.536056, -122.620043],
  [45.536001, -122.620169],
  [45.535887, -122.620434],
  [45.535745, -122.620775],
  [45.535699, -122.620882],
  [45.535656, -122.620981],
  [45.535251, -122.621968],
  [45.535149, -122.622228],
  [45.534956, -122.622683],
  [45.53491, -122.622791],
  [45.534866, -122.622899],
  [45.534709, -122.623296],
  [45.534486, -122.623813],
  [45.534445, -122.623913],
  [45.534405, -122.624009],
  [45.534315, -122.624216],
  [45.534245, -122.624373],
  [45.534178, -122.624537],
  [45.534052, -122.624854],
  [45.534044, -122.624969],
  [45.533748, -122.625712],
  [45.533686, -122.62586],
  [45.533617, -122.625937],
  [45.533509, -122.6262],
  [45.533358, -122.626567],
  [45.533062, -122.627304],
  [45.532715, -122.628159],
  [45.532626, -122.628379],
  [45.532279, -122.629237],
  [45.531963, -122.630017],
  [45.531882, -122.630208],
  [45.531804, -122.630393],
  [45.531761, -122.630496],
  [45.531689, -122.630664],
  [45.531643, -122.630773],
  [45.531518, -122.631086],
  [45.531454, -122.631244],
  [45.531343, -122.631522],
  [45.531153, -122.632024],
  [45.530828, -122.632823],
  [45.530796, -122.632901],
  [45.530697, -122.633177],
  [45.530618, -122.633398],
  [45.530184, -122.634516],
  [45.530087, -122.634766],
  [45.529919, -122.635198],
  [45.529866, -122.635337],
  [45.529759, -122.635615],
  [45.529682, -122.635814],
  [45.529638, -122.635918],
  [45.529612, -122.635979],
  [45.529538, -122.636168],
  [45.529297, -122.636796],
  [45.529289, -122.636818],
  [45.529194, -122.637066],
  [45.529156, -122.637165],
  [45.529088, -122.637347],
  [45.528939, -122.637731],
  [45.528722, -122.638288],
  [45.528642, -122.638491],
  [45.528557, -122.638707],
  [45.528318, -122.639329],
  [45.528157, -122.639741],
  [45.527935, -122.640315],
  [45.527781, -122.640739],
  [45.527637, -122.641109],
  [45.527621, -122.641151],
  [45.527554, -122.641322],
  [45.527522, -122.641409],
  [45.527487, -122.641503],
  [45.527438, -122.641618],
  [45.527321, -122.641879],
  [45.527103, -122.642428],
  [45.52675, -122.643348],
  [45.526715, -122.643438],
  [45.526684, -122.643517],
  [45.526543, -122.643861],
  [45.526316, -122.644397],
  [45.52625, -122.64458],
  [45.526082, -122.645032],
  [45.525959, -122.645366],
  [45.52592, -122.645474],
  [45.525887, -122.645565],
  [45.525711, -122.646034],
  [45.525546, -122.646495],
  [45.525168, -122.647516],
  [45.525132, -122.647613],
  [45.525037, -122.647872],
  [45.524991, -122.647998],
  [45.524793, -122.648536],
  [45.524506, -122.64931],
  [45.524459, -122.649439],
  [45.524409, -122.649568],
  [45.524364, -122.649684],
  [45.524175, -122.650158],
  [45.524013, -122.650563],
  [45.523941, -122.650743],
  [45.523924, -122.650887],
  [45.523725, -122.651392],
  [45.523724, -122.651393],
  [45.523671, -122.65153],
  [45.523649, -122.651585],
  [45.523636, -122.651629],
  [45.523625, -122.651671],
  [45.52362, -122.651711],
  [45.523617, -122.651738],
  [45.523613, -122.651794],
  [45.523612, -122.651824],
  [45.523614, -122.65198],
  [45.523615, -122.652597],
  [45.523617, -122.653125],
  [45.523617, -122.653392],
  [45.523617, -122.653461],
  [45.523618, -122.653618],
  [45.523622, -122.654623],
  [45.523625, -122.655638],
  [45.523628, -122.656651],
  [45.523632, -122.657665],
  [45.523634, -122.658544],
  [45.523635, -122.658679],
  [45.523636, -122.659241],
  [45.523638, -122.659695],
  [45.523639, -122.659793],
  [45.523641, -122.660653],
  [45.523641, -122.660712],
  [45.523641, -122.660853],
  [45.523644, -122.66153],
  [45.523644, -122.661622],
  [45.523649, -122.661758],
  [45.523651, -122.661819],
  [45.523654, -122.661902],
  [45.523652, -122.662001],
  [45.523644, -122.662056],
  [45.523632, -122.662096],
  [45.523618, -122.662137],
  [45.523596, -122.662177],
  [45.523574, -122.662208],
  [45.523548, -122.66224],
  [45.523522, -122.662259],
  [45.523491, -122.662275],
  [45.523453, -122.662287],
  [45.523419, -122.66229],
  [45.523224, -122.6623],
  [45.523178, -122.662306],
  [45.523142, -122.662314],
  [45.523102, -122.662332],
  [45.523073, -122.662356],
  [45.523066, -122.662362],
  [45.523052, -122.662382],
  [45.523032, -122.66242],
  [45.52302, -122.662453],
  [45.523005, -122.662512],
  [45.522994, -122.662582],
  [45.522958, -122.662697],
  [45.522972, -122.663399],
  [45.523001, -122.664882],
  [45.523046, -122.66711],
  [45.523055, -122.667564],
  [45.523063, -122.668014],
  [45.523105, -122.670109],
  [45.523112, -122.670436],
  [45.523125, -122.671121],
  [45.523127, -122.671198],
  [45.523135, -122.671597],
  [45.523173, -122.671693],
  [45.523183, -122.672247],
  [45.523196, -122.67238],
  [45.523178, -122.673389],
  [45.523159, -122.674404],
  [45.523141, -122.675403],
  [45.523025, -122.675386],
  [45.522962, -122.67538],
  [45.522922, -122.675383],
  [45.52288, -122.675394],
  [45.522703, -122.675478],
  [45.522612, -122.675527],
  [45.52258, -122.675542],
  [45.522549, -122.675556],
  [45.522214, -122.675716],
  [45.522184, -122.67573],
  [45.522128, -122.67575],
  [45.52206, -122.675774],
  [45.521534, -122.676064],
  [45.521457, -122.67611],
  [45.52137, -122.67616],
  [45.520857, -122.676429],
  [45.52079, -122.676466],
  [45.520181, -122.676796],
  [45.520125, -122.676825],
  [45.520048, -122.676865],
  [45.519566, -122.677133],
  [45.519507, -122.677166],
  [45.519457, -122.67719],
  [45.519358, -122.677239],
  [45.51891, -122.67748],
  [45.518833, -122.677521],
  [45.518798, -122.677543],
  [45.51877, -122.67756],
  [45.51874, -122.677579],
  [45.518179, -122.677878],
  [45.518142, -122.677899],
  [45.518112, -122.677916],
  [45.518045, -122.677953],
  [45.517539, -122.678221],
  [45.517462, -122.678283],
  [45.516795, -122.678644],
  [45.51613, -122.679004],
  [45.515658, -122.67926],
  [45.515462, -122.679366],
  [45.51479, -122.67973],
  [45.514133, -122.680086],
  [45.513466, -122.680448],
  [45.513249, -122.680565],
  [45.513019, -122.68069],
  [45.512929, -122.680738],
  [45.512796, -122.68081],
  [45.512727, -122.680848],
  [45.512371, -122.68104],
  [45.512133, -122.68117],
  [45.512001, -122.681241],
  [45.511705, -122.681401],
  [45.511595, -122.681461],
  [45.511468, -122.68153],
  [45.511448, -122.68154],
  [45.511222, -122.681664],
  [45.510879, -122.681849],
  [45.510797, -122.681893],
  [45.510523, -122.682043],
  [45.510426, -122.682095],
  [45.510251, -122.682189],
  [45.510239, -122.682195],
  [45.510133, -122.682253],
  [45.509636, -122.682522],
  [45.509467, -122.682613],
  [45.50905, -122.682839],
  [45.508858, -122.682943],
  [45.508787, -122.682973],
  [45.508748, -122.682988],
  [45.50871, -122.683002],
  [45.5086, -122.683042],
  [45.508501, -122.68312],
  [45.50835, -122.683227],
  [45.508307, -122.683256],
  [45.508169, -122.683345],
  [45.50788, -122.68351],
  [45.507751, -122.683576],
  [45.507612, -122.683648],
  [45.507516, -122.683697],
  [45.507414, -122.683729],
  [45.507325, -122.683748],
  [45.507231, -122.683756],
  [45.507125, -122.683761],
  [45.507087, -122.683758],
  [45.507027, -122.683754],
  [45.506949, -122.683751],
  [45.506823, -122.683727],
  [45.506629, -122.683681],
  [45.506376, -122.683419],
  [45.506262, -122.683313],
  [45.506195, -122.68326],
  [45.506131, -122.683221],
  [45.506035, -122.68318],
  [45.50597, -122.683176],
  [45.505902, -122.683177],
  [45.505835, -122.683176],
  [45.505684, -122.683182],
  [45.505564, -122.683187],
  [45.50539, -122.683193],
  [45.505325, -122.683192],
  [45.505261, -122.68318],
  [45.505234, -122.683162],
  [45.505199, -122.683121],
  [45.505182, -122.68306],
  [45.505174, -122.682992],
  [45.505167, -122.68253],
  [45.505156, -122.682384],
  [45.50513, -122.68231],
  [45.505097, -122.68225],
  [45.50506, -122.682203],
  [45.505025, -122.682167],
  [45.504996, -122.682143],
  [45.504929, -122.682102],
  [45.504841, -122.682066],
  [45.504568, -122.682068],
  [45.504464, -122.682071],
  [45.504158, -122.682073],
  [45.504035, -122.682074],
  [45.503858, -122.682078],
  [45.503753, -122.682081],
  [45.50353, -122.682086],
  [45.503237, -122.682089],
  [45.503009, -122.682065],
  [45.502887, -122.682033],
  [45.502754, -122.681989],
  [45.502712, -122.681971],
  [45.502661, -122.681949],
  [45.502538, -122.68188],
  [45.502515, -122.681867],
  [45.502284, -122.681739],
  [45.502206, -122.681688],
  [45.501905, -122.681521],
  [45.501611, -122.681357],
  [45.500972, -122.681008],
  [45.500865, -122.680954],
  [45.500574, -122.680792],
  [45.50044, -122.680721],
  [45.500131, -122.680551],
  [45.499478, -122.680185],
  [45.499345, -122.680115],
  [45.499201, -122.680039],
  [45.49917, -122.680059],
  [45.499004, -122.679969],
  [45.498977, -122.679914],
  [45.498847, -122.679842],
  [45.498821, -122.679827],
  [45.498717, -122.679769],
  [45.498627, -122.679719],
  [45.498371, -122.679578],
  [45.498301, -122.679539],
  [45.497699, -122.6792],
  [45.497521, -122.679106],
  [45.497462, -122.679073],
  [45.497272, -122.678966],
  [45.497228, -122.67894],
  [45.497039, -122.678837],
  [45.496318, -122.678441],
  [45.49615, -122.678338],
  [45.496107, -122.67831],
  [45.496035, -122.678313],
  [45.496017, -122.6783],
  [45.495919, -122.678234],
  [45.495884, -122.678154],
  [45.495737, -122.678028],
  [45.495589, -122.677901],
  [45.495498, -122.677825],
  [45.49538, -122.677703],
  [45.495335, -122.677669],
  [45.495212, -122.677575],
  [45.495112, -122.677509],
  [45.494964, -122.677413],
  [45.494857, -122.677347],
  [45.494733, -122.67728],
  [45.494612, -122.677231],
  [45.494539, -122.677205],
  [45.494472, -122.677185],
  [45.494352, -122.677155],
  [45.493846, -122.677033],
  [45.493379, -122.676926],
  [45.49327, -122.676904],
  [45.493117, -122.676882],
  [45.492984, -122.676912],
  [45.492931, -122.676911],
  [45.492865, -122.676912],
  [45.492788, -122.676917],
  [45.492622, -122.676943],
  [45.492542, -122.677006],
  [45.492406, -122.677055],
  [45.492249, -122.677124],
  [45.492146, -122.677179],
  [45.492049, -122.677234],
  [45.491943, -122.677306],
  [45.491848, -122.677375],
  [45.491728, -122.67747],
  [45.491624, -122.677566],
  [45.491529, -122.677668],
  [45.491404, -122.677828],
  [45.491237, -122.678039],
  [45.49116, -122.678154],
  [45.491113, -122.678228],
  [45.491067, -122.678306],
  [45.491016, -122.678395],
  [45.490967, -122.678493],
  [45.490944, -122.678537],
  [45.490843, -122.678593],
  [45.490757, -122.678814],
  [45.490705, -122.678954],
  [45.490673, -122.679056],
  [45.490642, -122.679164],
  [45.490611, -122.679292],
  [45.49058, -122.67943],
  [45.490417, -122.680215],
  [45.490372, -122.680423],
  [45.490331, -122.680598],
  [45.490308, -122.680691],
  [45.490279, -122.680794],
  [45.490231, -122.68095],
  [45.490162, -122.681142],
  [45.490097, -122.681312],
  [45.490026, -122.68147],
  [45.489957, -122.681607],
  [45.489873, -122.681753],
  [45.489853, -122.681786],
  [45.489796, -122.681875],
  [45.489722, -122.681983],
  [45.489639, -122.682088],
  [45.489548, -122.682194],
  [45.489447, -122.6823],
  [45.489389, -122.682355],
  [45.489333, -122.682404],
  [45.489259, -122.682466],
  [45.489185, -122.682521],
  [45.489125, -122.68256],
  [45.489054, -122.682604],
  [45.488991, -122.682638],
  [45.488938, -122.682665],
  [45.488894, -122.682684],
  [45.488831, -122.68271],
  [45.488775, -122.682728],
  [45.488718, -122.682742],
  [45.488656, -122.682755],
  [45.488594, -122.682765],
  [45.48853, -122.68277],
  [45.488459, -122.682772],
  [45.488325, -122.682767],
  [45.48786, -122.682743],
  [45.487733, -122.68273],
  [45.487587, -122.682711],
  [45.487484, -122.682759],
  [45.48724, -122.682709],
  [45.487076, -122.682667],
  [45.487005, -122.682581],
  [45.485587, -122.682089],
  [45.485476, -122.682057],
  [45.485344, -122.681997],
  [45.48527, -122.68196],
  [45.48519, -122.681915],
  [45.485111, -122.681864],
  [45.48499, -122.681773],
  [45.484806, -122.681621],
  [45.484592, -122.681433],
  [45.484301, -122.681187],
  [45.484074, -122.681016],
  [45.483951, -122.680935],
  [45.483856, -122.680876],
  [45.483746, -122.680825],
  [45.48364, -122.680779],
  [45.483509, -122.680738],
  [45.483312, -122.680693],
  [45.482285, -122.680532],
  [45.481433, -122.680393],
  [45.481004, -122.680326],
  [45.480631, -122.680269],
  [45.480322, -122.680224],
  [45.480235, -122.680205],
  [45.480131, -122.68019],
  [45.479148, -122.680042],
  [45.477115, -122.679732],
  [45.477017, -122.679713],
  [45.476814, -122.679684],
  [45.476758, -122.679674],
  [45.476739, -122.67967],
  [45.47538, -122.679476],
  [45.475204, -122.679441],
  [45.474658, -122.679354],
  [45.474135, -122.679283],
  [45.473954, -122.67926],
  [45.473806, -122.679239],
  [45.473688, -122.67923],
  [45.473546, -122.679229],
  [45.473374, -122.679241],
  [45.473232, -122.679272],
  [45.473062, -122.679311],
  [45.473004, -122.679394],
  [45.472896, -122.679437],
  [45.472778, -122.679493],
  [45.47266, -122.679561],
  [45.472585, -122.679605],
  [45.472523, -122.679648],
  [45.472406, -122.67974],
  [45.472298, -122.679831],
  [45.472138, -122.679984],
  [45.472041, -122.680095],
  [45.471952, -122.680199],
  [45.471878, -122.680289],
  [45.471788, -122.680409],
  [45.471708, -122.680529],
  [45.47163, -122.680656],
  [45.471562, -122.68078],
  [45.47152, -122.680864],
  [45.471494, -122.680914],
  [45.471433, -122.681051],
  [45.47139, -122.681165],
  [45.471291, -122.681486],
  [45.471252, -122.681617],
  [45.471219, -122.681755],
  [45.47119, -122.681894],
  [45.471166, -122.682016],
  [45.471135, -122.682214],
  [45.471115, -122.682373],
  [45.471098, -122.682531],
  [45.471088, -122.682718],
  [45.471088, -122.683044],
  [45.471094, -122.683386],
  [45.471102, -122.684034],
  [45.471107, -122.684293],
  [45.471111, -122.684538],
  [45.471125, -122.685351],
  [45.471128, -122.685587],
  [45.471133, -122.68616],
  [45.471136, -122.686607],
  [45.471135, -122.686816],
  [45.471105, -122.687231],
  [45.4711, -122.687277],
  [45.471052, -122.687645],
  [45.471006, -122.687901],
  [45.470949, -122.688155],
  [45.470876, -122.688393],
  [45.470801, -122.688611],
  [45.470714, -122.688874],
  [45.470606, -122.689132],
  [45.470501, -122.68936],
  [45.47042, -122.689521],
  [45.470411, -122.689536],
  [45.470306, -122.689722],
  [45.470089, -122.690099],
  [45.470031, -122.6902],
  [45.469685, -122.690801],
  [45.469452, -122.69122],
  [45.469258, -122.69157],
  [45.46918, -122.691717],
  [45.469, -122.692033],
  [45.468907, -122.692087],
  [45.468716, -122.692408],
  [45.468709, -122.692419],
  [45.468644, -122.692528],
  [45.468471, -122.69282],
  [45.468224, -122.693254],
  [45.46798, -122.693683],
  [45.467752, -122.694083],
  [45.467374, -122.694733],
  [45.467285, -122.694887],
  [45.467175, -122.695087],
  [45.467026, -122.695345],
  [45.466928, -122.695517],
  [45.466855, -122.695645],
  [45.466311, -122.696586],
  [45.466107, -122.696943],
  [45.466036, -122.697066],
  [45.465923, -122.697262],
  [45.465844, -122.697396],
  [45.465726, -122.697597],
  [45.465623, -122.697776],
  [45.465619, -122.697782],
  [45.465592, -122.697829],
  [45.465519, -122.69796],
  [45.465472, -122.698038],
  [45.465207, -122.698494],
  [45.4647, -122.699365],
  [45.464638, -122.699473],
  [45.464177, -122.700277],
  [45.464001, -122.700581],
  [45.463653, -122.701184],
  [45.463607, -122.701264],
  [45.463477, -122.701494],
  [45.463198, -122.701971],
  [45.463124, -122.702102],
  [45.463025, -122.70227],
  [45.462932, -122.70243],
  [45.462914, -122.702461],
  [45.46285, -122.702573],
  [45.462364, -122.703424],
  [45.462301, -122.703533],
  [45.46227, -122.703586],
  [45.462171, -122.70376],
  [45.462089, -122.703903],
  [45.462002, -122.704055],
  [45.461916, -122.704206],
  [45.461656, -122.704659],
  [45.461343, -122.705192],
  [45.461135, -122.705558],
  [45.460906, -122.705965],
  [45.460886, -122.706092],
  [45.460756, -122.706322],
  [45.460728, -122.706378],
  [45.460624, -122.706448],
  [45.460456, -122.70674],
  [45.460298, -122.707015],
  [45.460154, -122.707266],
  [45.460067, -122.707417],
  [45.459921, -122.707671],
  [45.459864, -122.707764],
  [45.459806, -122.707857],
  [45.459681, -122.708075],
  [45.459598, -122.708219],
  [45.459527, -122.708345],
  [45.459458, -122.708464],
  [45.459389, -122.708585],
  [45.459354, -122.708646],
  [45.459189, -122.708934],
  [45.458973, -122.709313],
  [45.458547, -122.710056],
  [45.458541, -122.710145],
  [45.458459, -122.710277],
  [45.45841, -122.710292],
  [45.458356, -122.710383],
  [45.458297, -122.710485],
  [45.458074, -122.71087],
  [45.457729, -122.711469],
  [45.457639, -122.711625],
  [45.457486, -122.711889],
  [45.457404, -122.712041],
  [45.457049, -122.712699],
  [45.456872, -122.713044],
  [45.456743, -122.713304],
  [45.456667, -122.713457],
  [45.456402, -122.714005],
  [45.45626, -122.71432],
  [45.456168, -122.714522],
  [45.45595, -122.715004],
  [45.455889, -122.715158],
  [45.455827, -122.715312],
  [45.455742, -122.715523],
  [45.455689, -122.715658],
  [45.455587, -122.715918],
  [45.455497, -122.716144],
  [45.455317, -122.716599],
  [45.455281, -122.716691],
  [45.455022, -122.717356],
  [45.454474, -122.718739],
  [45.454404, -122.718658],
  [45.454371, -122.718584],
  [45.454356, -122.718503],
  [45.454355, -122.718425],
  [45.45436, -122.718329],
  [45.454375, -122.718248],
  [45.454434, -122.718051],
  [45.454534, -122.717713],
  [45.454614, -122.717446],
  [45.454644, -122.717382],
  [45.454674, -122.717355],
  [45.454775, -122.717322],
  [45.45486, -122.717305],
  [45.454911, -122.717319],
  [45.455022, -122.717356],
  [45.454474, -122.718739],
  [45.454249, -122.71931],
  [45.454187, -122.719466],
  [45.454145, -122.719573],
  [45.454068, -122.719766],
  [45.45403, -122.719861],
  [45.453977, -122.720003],
  [45.453927, -122.720137],
  [45.453784, -122.720519],
  [45.453703, -122.720737],
  [45.453543, -122.721148],
  [45.453409, -122.721494],
  [45.453274, -122.721844],
  [45.453188, -122.722068],
  [45.453205, -122.722156],
  [45.453001, -122.722674],
  [45.452876, -122.722997],
  [45.452874, -122.723001],
  [45.45279, -122.723065],
  [45.452691, -122.723327],
  [45.452638, -122.723466],
  [45.45244, -122.723982],
  [45.452312, -122.724319],
  [45.452139, -122.724768],
  [45.452056, -122.724981],
  [45.451923, -122.725335],
  [45.451722, -122.725825],
  [45.451629, -122.726036],
  [45.451531, -122.726252],
  [45.451435, -122.726452],
  [45.451342, -122.726617],
  [45.451259, -122.726764],
  [45.451111, -122.726992],
  [45.450997, -122.727156],
  [45.450968, -122.727194],
  [45.450903, -122.727282],
  [45.450792, -122.727413],
  [45.450779, -122.727537],
  [45.450582, -122.72773],
  [45.45047, -122.727767],
  [45.450317, -122.727884],
  [45.450213, -122.727964],
  [45.450033, -122.728088],
  [45.449892, -122.728177],
  [45.449774, -122.728246],
  [45.449624, -122.72833],
  [45.449485, -122.7284],
  [45.449243, -122.728535],
  [45.44895, -122.728663],
  [45.448584, -122.728829],
  [45.448289, -122.72896],
  [45.447985, -122.729097],
  [45.447657, -122.72925],
  [45.447654, -122.729251],
  [45.447422, -122.729375],
  [45.447159, -122.729537],
  [45.447023, -122.729639],
  [45.446894, -122.729737],
  [45.446645, -122.729957],
  [45.446529, -122.730078],
  [45.446416, -122.730201],
  [45.446307, -122.730332],
  [45.446204, -122.730461],
  [45.446105, -122.730594],
  [45.446055, -122.730672],
  [45.44595, -122.730836],
  [45.445855, -122.730982],
  [45.445785, -122.731096],
  [45.44565, -122.73133],
  [45.445533, -122.731593],
  [45.445414, -122.731891],
  [45.445347, -122.732077],
  [45.445292, -122.732254],
  [45.445218, -122.73251],
  [45.445159, -122.73274],
  [45.445096, -122.733014],
  [45.445045, -122.733282],
  [45.445005, -122.733478],
  [45.444982, -122.733589],
  [45.444904, -122.733973],
  [45.444813, -122.734419],
  [45.444696, -122.734975],
  [45.444582, -122.735489],
  [45.444508, -122.735801],
  [45.444436, -122.736086],
  [45.444328, -122.736488],
  [45.444233, -122.736838],
  [45.444089, -122.737365],
  [45.443989, -122.737724],
  [45.443918, -122.737984],
  [45.443801, -122.738451],
  [45.443746, -122.73868],
  [45.443558, -122.739534],
  [45.443446, -122.740113],
  [45.443346, -122.740717],
  [45.443287, -122.741077],
  [45.443248, -122.741351],
  [45.443113, -122.742344],
  [45.443106, -122.74256],
  [45.443094, -122.742706],
  [45.443016, -122.743215],
  [45.442958, -122.743578],
  [45.442938, -122.743684],
  [45.442908, -122.743841],
  [45.442811, -122.744365],
  [45.44277, -122.744568],
  [45.442725, -122.744771],
  [45.442715, -122.744817],
  [45.442676, -122.74497],
  [45.442604, -122.745262],
  [45.442575, -122.745389],
  [45.442515, -122.745638],
  [45.442504, -122.745681],
  [45.442451, -122.745863],
  [45.442397, -122.746039],
  [45.442336, -122.74624],
  [45.442263, -122.746459],
  [45.442191, -122.746653],
  [45.442142, -122.746785],
  [45.442092, -122.746908],
  [45.442002, -122.747126],
  [45.441995, -122.747143],
  [45.441927, -122.747303],
  [45.441861, -122.747454],
  [45.44181, -122.747558],
  [45.441753, -122.747671],
  [45.441562, -122.74806],
  [45.441529, -122.748126],
  [45.441381, -122.748419],
  [45.441128, -122.748923],
  [45.440891, -122.749395],
  [45.440719, -122.749733],
  [45.440523, -122.750121],
  [45.440355, -122.750452],
  [45.439958, -122.751215],
  [45.439879, -122.751359],
  [45.439741, -122.751765],
  [45.439739, -122.751771],
  [45.439409, -122.75241],
  [45.439222, -122.752751],
  [45.439132, -122.752917],
  [45.439061, -122.753064],
  [45.439017, -122.753144],
  [45.438879, -122.753396],
  [45.438784, -122.753587],
  [45.438416, -122.754299],
  [45.438225, -122.754658],
  [45.438122, -122.754864],
  [45.43792, -122.755269],
  [45.437482, -122.756203],
  [45.437259, -122.75668],
  [45.437236, -122.756728],
  [45.437165, -122.756882],
  [45.436692, -122.757928],
  [45.436325, -122.758818],
  [45.436153, -122.75924],
  [45.435996, -122.759627],
  [45.435947, -122.759741],
  [45.435816, -122.760091],
  [45.435715, -122.760228],
  [45.435388, -122.76113],
  [45.43527, -122.761458],
  [45.434993, -122.762204],
  [45.434894, -122.762489],
  [45.434891, -122.76267],
  [45.434702, -122.763187],
  [45.434556, -122.763585],
  [45.4344, -122.764014],
  [45.434312, -122.76426],
  [45.434149, -122.76471],
  [45.434062, -122.764947],
  [45.433899, -122.764979],
  [45.433569, -122.76496],
  [45.433277, -122.764925],
  [45.433213, -122.76484],
  [45.433164, -122.764831],
  [45.433004, -122.764801],
  [45.432953, -122.764792],
  [45.432886, -122.764779],
  [45.432687, -122.764755],
  [45.432682, -122.764755],
  [45.43257, -122.764746],
  [45.432395, -122.764732],
  [45.432244, -122.76472],
  [45.431961, -122.764698],
  [45.431632, -122.764689],
  [45.431477, -122.764685],
  [45.431103, -122.764675],
  [45.431068, -122.764674],
  [45.430775, -122.764667],
  [45.430698, -122.764665],
  [45.430528, -122.764662],
  [45.430465, -122.76466],
  [45.430239, -122.764655],
  [45.430199, -122.764654],
  [45.430129, -122.764653],
  [45.430095, -122.764652],
  [45.429819, -122.764647],
  [45.429741, -122.764641],
  [45.429597, -122.764638],
  [45.429523, -122.764652],
  [45.429445, -122.76468],
  [45.429429, -122.764693],
  [45.429351, -122.764757],
  [45.429295, -122.764816],
  [45.429277, -122.764838],
  [45.429119, -122.76504],
  [45.429078, -122.765092],
  [45.429026, -122.765159],
  [45.428865, -122.765367],
  [45.428618, -122.765679],
  [45.428403, -122.765953],
  [45.42834, -122.766034],
  [45.428288, -122.766088],
  [45.428355, -122.766175],
  [45.428613, -122.76652],
  [45.428818, -122.766794],
  [45.428853, -122.766841],
  [45.428931, -122.766951],
  [45.4294, -122.767618],
  [45.429614, -122.76792],
  [45.429679, -122.768011],
  [45.429816, -122.768204],
  [45.429979, -122.768435],
  [45.430037, -122.768519],
  [45.430108, -122.768619],
  [45.430137, -122.768661],
  [45.430189, -122.768732],
  [45.43021, -122.768764],
  [45.43025, -122.768821],
  [45.430433, -122.769078],
  [45.43067, -122.769411],
  [45.430568, -122.769506],
  [45.430514, -122.769539],
  [45.430435, -122.769577],
  [45.430379, -122.769585],
  [45.430322, -122.769575],
  [45.430256, -122.769529],
  [45.430223, -122.769482],
  [45.430173, -122.769413],
  [45.430089, -122.769295],
  [45.430051, -122.769209],
  [45.430041, -122.769153],
  [45.430038, -122.76913]
];

const stopNames = {
  "152": "10700 Block SW Barbur",
  "153": "11100 Block SW Barbur",
  "155": "4900 Block SW Barbur",
  "163": "SW Barbur &amp; Alice",
  "165": "SW Barbur &amp; Barbur Ct",
  "170": "SW Barbur &amp; Capitol Hill",
  "173": "SW Barbur &amp; Hamilton",
  "175": "SW Barbur &amp; Hooker",
  "176": "SW Barbur &amp; Lane",
  "178": "SW Barbur &amp; Luradel",
  "181": "SW Barbur &amp; Parkhill Dr",
  "184": "11200 Block SW Barbur",
  "187": "SW Barbur &amp; Primrose",
  "191": "SW Barbur &amp; Terwilliger",
  "196": "SW Barbur &amp; Whitaker",
  "199": "SW Barbur &amp; Bertha",
  "200": "SW Barbur &amp; 13th",
  "201": "SW Barbur &amp; Evans",
  "207": "SW Barbur &amp; 3rd",
  "209": "SW Barbur &amp; 53rd",
  "689": "W Burnside &amp; Burnside Bridge",
  "1122": "SW Commercial &amp; Hall",
  "4249": "SW Pacific Hwy &amp; 72nd",
  "4305": "SW Pacific Hwy &amp; 78th",
  "4326": "SW Pacific Hwy &amp; 65th",
  "4328": "SW Pacific Hwy &amp; 69th",
  "5052": "NE Sandy &amp; Prescott",
  "5058": "NE Sandy &amp; 14th",
  "5060": "NE Sandy &amp; 16th",
  "5062": "NE Sandy &amp; 18th",
  "5063": "NE Sandy &amp; 20th",
  "5067": "NE Sandy &amp; 24th",
  "5068": "NE Sandy &amp; 26th",
  "5069": "NE Sandy &amp; 28th",
  "5077": "NE Sandy &amp; 31st",
  "5080": "NE Sandy &amp; 33rd",
  "5081": "NE Sandy &amp; 35th",
  "5093": "NE Sandy &amp; 47th",
  "5098": "NE Sandy &amp; 50th",
  "5100": "NE Sandy &amp; 52nd",
  "5103": "NE Sandy &amp; 54th",
  "5105": "NE Sandy &amp; 57th",
  "5107": "NE Sandy &amp; 59th",
  "5113": "NE Sandy &amp; 62nd",
  "5114": "NE Sandy &amp; 64th",
  "5119": "NE Sandy &amp; 67th",
  "5122": "NE Sandy &amp; 69th",
  "5125": "NE Sandy &amp; Fremont",
  "5127": "NE Sandy &amp; 74th",
  "5133": "NE Sandy &amp; 77th",
  "5136": "NE Sandy &amp; 79th",
  "5139": "NE Sandy &amp; 82nd",
  "5140": "NE Sandy &amp; 86th",
  "5144": "NE Sandy &amp; 88th",
  "5846": "Tigard Transit Center",
  "7588": "SW 5th &amp; Broadway",
  "7591": "SW 5th &amp; Caruthers",
  "7612": "SW 5th &amp; Madison",
  "7616": "SW 5th &amp; Market",
  "7625": "SW 5th &amp; Morrison",
  "7631": "SW 5th &amp; Pine",
  "7800": "SW 6th &amp; Taylor",
  "8209": "Tigard Transit Center",
  "8212": "Tigard Transit Center",
  "8213": "Barbur Transit Center ",
  "9756": "NE Sandy &amp; 42nd",
  "10491": "SW 5th &amp; Hall",
  "10834": "NE Sandy &amp; 44th",
  "10844": "SW Barbur &amp; Spring Garden",
  "10845": "SW Barbur &amp; Huber",
  "10856": "Parkrose/ Sumner Transit Center",
  "11313": "NE Sandy &amp; Cesar Chavez Blvd",
  "13328": "NE Couch &amp; 12th Ave",
  "13329": "NE Couch &amp; 7th Ave",
  "13330": "NE Couch &amp; M L King",
  "13930": "SW Hall &amp; Hunziker/Scoffins",
  "14411": "9200 Block SW Burnham",
  "14412": "12000 Block SW Hall"
};

const stops = [
  { stop_id: "10856", name: "Parkrose/ Sumner Transit Center", lat: 45.558736, lon: -122.564507, times: ["8:56 PM", "9:45 PM", "10:31 PM", "11:17 PM", "11:57 PM", "12:58 AM", "4:56 AM", "5:31 AM"] },
  { stop_id: "5052", name: "NE Sandy &amp; Prescott", lat: 45.555583, lon: -122.571189, times: ["8:10 PM", "8:57 PM", "9:46 PM", "10:32 PM", "11:18 PM", "11:58 PM", "12:59 AM", "4:57 AM"] },
  { stop_id: "5144", name: "NE Sandy &amp; 88th", lat: 45.554977, lon: -122.572663, times: ["8:10 PM", "8:57 PM", "9:46 PM", "10:32 PM", "11:18 PM", "11:58 PM", "12:59 AM", "4:57 AM"] },
  { stop_id: "5140", name: "NE Sandy &amp; 86th", lat: 45.553924, lon: -122.575235, times: ["8:11 PM", "8:58 PM", "9:47 PM", "10:33 PM", "11:19 PM", "11:59 PM", "12:59 AM", "4:58 AM"] },
  { stop_id: "5139", name: "NE Sandy &amp; 82nd", lat: 45.552618, lon: -122.578432, times: ["8:12 PM", "8:59 PM", "9:48 PM", "10:34 PM", "11:20 PM", "12:00 AM", "1:00 AM", "4:59 AM"] },
  { stop_id: "5136", name: "NE Sandy &amp; 79th", lat: 45.551186, lon: -122.581954, times: ["8:12 PM", "8:59 PM", "9:48 PM", "10:34 PM", "11:20 PM", "12:00 AM", "1:00 AM", "4:59 AM"] },
  { stop_id: "5133", name: "NE Sandy &amp; 77th", lat: 45.550508, lon: -122.583591, times: ["8:13 PM", "9:00 PM", "9:49 PM", "10:35 PM", "11:21 PM", "12:01 AM", "1:01 AM", "5:00 AM"] },
  { stop_id: "5127", name: "NE Sandy &amp; 74th", lat: 45.549292, lon: -122.586699, times: ["8:14 PM", "9:01 PM", "9:49 PM", "10:35 PM", "11:21 PM", "12:01 AM", "1:01 AM", "5:00 AM"] },
  { stop_id: "5125", name: "NE Sandy &amp; Fremont", lat: 45.548008, lon: -122.590018, times: ["8:14 PM", "9:01 PM", "9:50 PM", "10:36 PM", "11:22 PM", "12:02 AM", "1:02 AM", "5:01 AM"] },
  { stop_id: "5122", name: "NE Sandy &amp; 69th", lat: 45.547186, lon: -122.592127, times: ["8:15 PM", "9:02 PM", "9:51 PM", "10:37 PM", "11:22 PM", "12:02 AM", "1:02 AM", "5:02 AM"] },
  { stop_id: "5119", name: "NE Sandy &amp; 67th", lat: 45.546359, lon: -122.594189, times: ["8:15 PM", "9:02 PM", "9:51 PM", "10:37 PM", "11:23 PM", "12:03 AM", "1:03 AM", "5:02 AM"] },
  { stop_id: "5114", name: "NE Sandy &amp; 64th", lat: 45.545189, lon: -122.597247, times: ["8:16 PM", "9:03 PM", "9:52 PM", "10:38 PM", "11:23 PM", "12:03 AM", "1:03 AM", "5:03 AM"] },
  { stop_id: "5113", name: "NE Sandy &amp; 62nd", lat: 45.544391, lon: -122.599273, times: ["8:17 PM", "9:04 PM", "9:52 PM", "10:38 PM", "11:24 PM", "12:04 AM", "1:04 AM", "5:03 AM"] },
  { stop_id: "5107", name: "NE Sandy &amp; 59th", lat: 45.543213, lon: -122.602319, times: ["8:17 PM", "9:04 PM", "9:53 PM", "10:39 PM", "11:24 PM", "12:04 AM", "1:04 AM", "5:04 AM"] },
  { stop_id: "5105", name: "NE Sandy &amp; 57th", lat: 45.542137, lon: -122.605079, times: ["8:18 PM", "9:05 PM", "9:54 PM", "10:40 PM", "11:25 PM", "12:05 AM", "1:05 AM", "5:05 AM"] },
  { stop_id: "5103", name: "NE Sandy &amp; 54th", lat: 45.541247, lon: -122.607347, times: ["8:19 PM", "9:06 PM", "9:54 PM", "10:40 PM", "11:25 PM", "12:05 AM", "1:05 AM", "5:05 AM"] },
  { stop_id: "5100", name: "NE Sandy &amp; 52nd", lat: 45.540064, lon: -122.610418, times: ["8:19 PM", "9:06 PM", "9:55 PM", "10:41 PM", "11:26 PM", "12:06 AM", "1:06 AM", "5:06 AM"] },
  { stop_id: "5098", name: "NE Sandy &amp; 50th", lat: 45.539433, lon: -122.612217, times: ["8:20 PM", "9:07 PM", "9:55 PM", "10:41 PM", "11:26 PM", "12:06 AM", "1:06 AM", "5:06 AM"] },
  { stop_id: "5093", name: "NE Sandy &amp; 47th", lat: 45.538534, lon: -122.614806, times: ["8:20 PM", "9:07 PM", "9:56 PM", "10:42 PM", "11:27 PM", "12:07 AM", "1:07 AM", "5:07 AM"] },
  { stop_id: "10834", name: "NE Sandy &amp; 44th", lat: 45.536976, lon: -122.61823, times: ["8:21 PM", "9:08 PM", "9:56 PM", "10:42 PM", "11:28 PM", "12:08 AM", "1:08 AM", "5:07 AM"] },
  { stop_id: "9756", name: "NE Sandy &amp; 42nd", lat: 45.53605, lon: -122.620214, times: ["8:22 PM", "9:09 PM", "9:57 PM", "10:43 PM", "11:28 PM", "12:08 AM", "1:08 AM", "5:08 AM"] },
  { stop_id: "11313", name: "NE Sandy &amp; Cesar Chavez Blvd", lat: 45.535039, lon: -122.622754, times: ["8:23 PM", "9:10 PM", "9:58 PM", "10:44 PM", "11:29 PM", "12:09 AM", "1:09 AM", "5:09 AM"] },
  { stop_id: "5081", name: "NE Sandy &amp; 35th", lat: 45.532691, lon: -122.628436, times: ["8:24 PM", "9:11 PM", "9:59 PM", "10:45 PM", "11:30 PM", "12:10 AM", "1:10 AM", "5:10 AM"] },
  { stop_id: "5080", name: "NE Sandy &amp; 33rd", lat: 45.531875, lon: -122.63045, times: ["8:25 PM", "9:12 PM", "9:59 PM", "10:45 PM", "11:30 PM", "12:10 AM", "1:10 AM", "5:10 AM"] },
  { stop_id: "5077", name: "NE Sandy &amp; 31st", lat: 45.530785, lon: -122.63324, times: ["8:25 PM", "9:12 PM", "10:00 PM", "10:46 PM", "11:31 PM", "12:11 AM", "1:11 AM", "5:11 AM"] },
  { stop_id: "5069", name: "NE Sandy &amp; 28th", lat: 45.52938, lon: -122.63686, times: ["8:26 PM", "9:13 PM", "10:01 PM", "10:47 PM", "11:32 PM", "12:12 AM", "1:12 AM", "5:11 AM"] },
  { stop_id: "5068", name: "NE Sandy &amp; 26th", lat: 45.528232, lon: -122.6398, times: ["8:27 PM", "9:14 PM", "10:01 PM", "10:47 PM", "11:32 PM", "12:12 AM", "1:12 AM", "5:12 AM"] },
  { stop_id: "5067", name: "NE Sandy &amp; 24th", lat: 45.527695, lon: -122.641209, times: ["8:27 PM", "9:14 PM", "10:02 PM", "10:48 PM", "11:33 PM", "12:13 AM", "1:13 AM", "5:12 AM"] },
  { stop_id: "5063", name: "NE Sandy &amp; 20th", lat: 45.526155, lon: -122.645089, times: ["8:28 PM", "9:15 PM", "10:03 PM", "10:49 PM", "11:34 PM", "12:14 AM", "1:14 AM", "5:13 AM"] },
  { stop_id: "5062", name: "NE Sandy &amp; 18th", lat: 45.525106, lon: -122.647926, times: ["8:29 PM", "9:16 PM", "10:03 PM", "10:49 PM", "11:34 PM", "12:14 AM", "1:14 AM", "5:13 AM"] },
  { stop_id: "5060", name: "NE Sandy &amp; 16th", lat: 45.524581, lon: -122.649367, times: ["8:29 PM", "9:16 PM", "10:04 PM", "10:50 PM", "11:35 PM", "12:15 AM", "1:15 AM", "5:14 AM"] },
  { stop_id: "5058", name: "NE Sandy &amp; 14th", lat: 45.523767, lon: -122.651428, times: ["8:30 PM", "9:17 PM", "10:04 PM", "10:50 PM", "11:35 PM", "12:15 AM", "1:15 AM", "5:14 AM"] },
  { stop_id: "13328", name: "NE Couch &amp; 12th Ave", lat: 45.523661, lon: -122.653391, times: ["8:31 PM", "9:18 PM", "10:05 PM", "10:51 PM", "11:36 PM", "12:16 AM", "1:16 AM", "5:15 AM"] },
  { stop_id: "13329", name: "NE Couch &amp; 7th Ave", lat: 45.523691, lon: -122.658549, times: ["8:32 PM", "9:19 PM", "10:06 PM", "10:52 PM", "11:37 PM", "12:17 AM", "1:17 AM", "5:16 AM"] },
  { stop_id: "13330", name: "NE Couch &amp; M L King", lat: 45.523699, lon: -122.661535, times: ["8:32 PM", "9:19 PM", "10:06 PM", "10:52 PM", "11:37 PM", "12:17 AM", "1:17 AM", "5:16 AM"] },
  { stop_id: "689", name: "W Burnside &amp; Burnside Bridge", lat: 45.52325, lon: -122.671007, times: ["8:35 PM", "9:22 PM", "10:09 PM", "10:55 PM", "11:40 PM", "12:20 AM", "1:20 AM", "5:19 AM"] },
  { stop_id: "7631", name: "SW 5th &amp; Pine", lat: 45.522236, lon: -122.675827, times: ["8:18 PM", "8:38 PM", "9:05 PM", "9:25 PM", "9:49 PM", "10:12 PM", "10:35 PM", "10:58 PM"] },
  { stop_id: "7625", name: "SW 5th &amp; Morrison", lat: 45.518932, lon: -122.677571, times: ["8:21 PM", "8:41 PM", "9:08 PM", "9:28 PM", "9:52 PM", "10:15 PM", "10:38 PM", "11:01 PM"] },
  { stop_id: "7612", name: "SW 5th &amp; Madison", lat: 45.515682, lon: -122.679352, times: ["8:22 PM", "8:42 PM", "9:09 PM", "9:29 PM", "9:53 PM", "10:16 PM", "10:39 PM", "11:02 PM"] },
  { stop_id: "7616", name: "SW 5th &amp; Market", lat: 45.512954, lon: -122.680837, times: ["8:24 PM", "8:44 PM", "9:11 PM", "9:31 PM", "9:55 PM", "10:17 PM", "10:40 PM", "11:03 PM"] },
  { stop_id: "10491", name: "SW 5th &amp; Hall", lat: 45.510277, lon: -122.682286, times: ["8:25 PM", "8:45 PM", "9:12 PM", "9:32 PM", "9:56 PM", "10:18 PM", "10:41 PM", "11:04 PM"] },
  { stop_id: "7588", name: "SW 5th &amp; Broadway", lat: 45.507079, lon: -122.68385, times: ["8:27 PM", "8:47 PM", "9:14 PM", "9:34 PM", "9:58 PM", "10:20 PM", "10:43 PM", "11:06 PM"] },
  { stop_id: "7591", name: "SW 5th &amp; Caruthers", lat: 45.505566, lon: -122.68329, times: ["8:28 PM", "8:48 PM", "9:15 PM", "9:35 PM", "9:59 PM", "10:21 PM", "10:44 PM", "11:07 PM"] },
  { stop_id: "175", name: "SW Barbur &amp; Hooker", lat: 45.502494, lon: -122.68204, times: ["8:28 PM", "8:48 PM", "9:15 PM", "9:35 PM", "9:59 PM", "10:21 PM", "10:44 PM", "11:07 PM"] },
  { stop_id: "196", name: "SW Barbur &amp; Whitaker", lat: 45.498602, lon: -122.679812, times: ["8:29 PM", "8:49 PM", "9:16 PM", "9:36 PM", "10:00 PM", "10:22 PM", "10:45 PM", "11:08 PM"] },
  { stop_id: "176", name: "SW Barbur &amp; Lane", lat: 45.496002, lon: -122.678366, times: ["8:29 PM", "8:49 PM", "9:16 PM", "9:36 PM", "10:00 PM", "10:22 PM", "10:45 PM", "11:08 PM"] },
  { stop_id: "173", name: "SW Barbur &amp; Hamilton", lat: 45.491037, lon: -122.678566, times: ["8:30 PM", "8:50 PM", "9:17 PM", "9:37 PM", "10:01 PM", "10:23 PM", "10:46 PM", "11:09 PM"] },
  { stop_id: "155", name: "4900 Block SW Barbur", lat: 45.487059, lon: -122.682757, times: ["8:31 PM", "8:51 PM", "9:18 PM", "9:38 PM", "10:02 PM", "10:24 PM", "10:47 PM", "11:10 PM"] },
  { stop_id: "181", name: "SW Barbur &amp; Parkhill Dr", lat: 45.476747, lon: -122.679797, times: ["8:33 PM", "8:53 PM", "9:19 PM", "9:39 PM", "10:03 PM", "10:25 PM", "10:48 PM", "11:11 PM"] },
  { stop_id: "207", name: "SW Barbur &amp; 3rd", lat: 45.471567, lon: -122.680911, times: ["8:34 PM", "8:54 PM", "9:20 PM", "9:40 PM", "10:04 PM", "10:26 PM", "10:49 PM", "11:12 PM"] },
  { stop_id: "191", name: "SW Barbur &amp; Terwilliger", lat: 45.471217, lon: -122.686158, times: ["8:35 PM", "8:55 PM", "9:21 PM", "9:41 PM", "10:05 PM", "10:27 PM", "10:50 PM", "11:13 PM"] },
  { stop_id: "199", name: "SW Barbur &amp; Bertha", lat: 45.470468, lon: -122.689602, times: ["8:10 PM", "8:35 PM", "8:55 PM", "9:21 PM", "9:41 PM", "10:05 PM", "10:27 PM", "10:50 PM"] },
  { stop_id: "200", name: "SW Barbur &amp; 13th", lat: 45.468799, lon: -122.692526, times: ["8:11 PM", "8:36 PM", "8:56 PM", "9:22 PM", "9:42 PM", "10:06 PM", "10:28 PM", "10:51 PM"] },
  { stop_id: "201", name: "SW Barbur &amp; Evans", lat: 45.467022, lon: -122.695625, times: ["8:12 PM", "8:37 PM", "8:57 PM", "9:23 PM", "9:43 PM", "10:07 PM", "10:29 PM", "10:52 PM"] },
  { stop_id: "170", name: "SW Barbur &amp; Capitol Hill", lat: 45.465719, lon: -122.697895, times: ["8:13 PM", "8:38 PM", "8:58 PM", "9:24 PM", "9:44 PM", "10:08 PM", "10:30 PM", "10:53 PM"] },
  { stop_id: "10844", name: "SW Barbur &amp; Spring Garden", lat: 45.463752, lon: -122.701299, times: ["8:14 PM", "8:39 PM", "8:59 PM", "9:25 PM", "9:45 PM", "10:09 PM", "10:31 PM", "10:54 PM"] },
  { stop_id: "165", name: "SW Barbur &amp; Barbur Ct", lat: 45.462404, lon: -122.703653, times: ["8:14 PM", "8:39 PM", "8:59 PM", "9:25 PM", "9:45 PM", "10:09 PM", "10:31 PM", "10:54 PM"] },
  { stop_id: "187", name: "SW Barbur &amp; Primrose", lat: 45.45963, lon: -122.708465, times: ["8:16 PM", "8:41 PM", "9:01 PM", "9:27 PM", "9:47 PM", "10:11 PM", "10:33 PM", "10:56 PM"] },
  { stop_id: "163", name: "SW Barbur &amp; Alice", lat: 45.458449, lon: -122.710493, times: ["8:16 PM", "8:41 PM", "9:01 PM", "9:27 PM", "9:47 PM", "10:11 PM", "10:33 PM", "10:56 PM"] },
  { stop_id: "8213", name: "Barbur Transit Center ", lat: 45.454468, lon: -122.717673, times: ["8:19 PM", "8:44 PM", "9:04 PM", "9:30 PM", "9:50 PM", "10:14 PM", "10:36 PM", "10:59 PM"] },
  { stop_id: "10845", name: "SW Barbur &amp; Huber", lat: 45.452942, lon: -122.723053, times: ["8:20 PM", "8:45 PM", "9:05 PM", "9:31 PM", "9:51 PM", "10:15 PM", "10:37 PM", "11:00 PM"] },
  { stop_id: "178", name: "SW Barbur &amp; Luradel", lat: 45.45104, lon: -122.727302, times: ["8:21 PM", "8:46 PM", "9:06 PM", "9:32 PM", "9:51 PM", "10:16 PM", "10:38 PM", "11:01 PM"] },
  { stop_id: "152", name: "10700 Block SW Barbur", lat: 45.447685, lon: -122.729368, times: ["8:22 PM", "8:47 PM", "9:07 PM", "9:33 PM", "9:52 PM", "10:16 PM", "10:38 PM", "11:01 PM"] },
  { stop_id: "209", name: "SW Barbur &amp; 53rd", lat: 45.446006, lon: -122.730909, times: ["8:23 PM", "8:47 PM", "9:07 PM", "9:33 PM", "9:53 PM", "10:17 PM", "10:39 PM", "11:02 PM"] },
  { stop_id: "153", name: "11100 Block SW Barbur", lat: 45.445113, lon: -122.733645, times: ["8:23 PM", "8:48 PM", "9:08 PM", "9:34 PM", "9:53 PM", "10:17 PM", "10:39 PM", "11:02 PM"] },
  { stop_id: "184", name: "11200 Block SW Barbur", lat: 45.444329, lon: -122.736891, times: ["8:24 PM", "8:49 PM", "9:09 PM", "9:34 PM", "9:54 PM", "10:18 PM", "10:40 PM", "11:03 PM"] },
  { stop_id: "4326", name: "SW Pacific Hwy &amp; 65th", lat: 45.442846, lon: -122.744825, times: ["8:11 PM", "8:26 PM", "8:50 PM", "9:10 PM", "9:36 PM", "9:55 PM", "10:19 PM", "10:41 PM"] },
  { stop_id: "4328", name: "SW Pacific Hwy &amp; 69th", lat: 45.442067, lon: -122.747207, times: ["8:11 PM", "8:26 PM", "8:51 PM", "9:11 PM", "9:36 PM", "9:55 PM", "10:20 PM", "10:42 PM"] },
  { stop_id: "4249", name: "SW Pacific Hwy &amp; 72nd", lat: 45.439782, lon: -122.75182, times: ["8:12 PM", "8:27 PM", "8:52 PM", "9:12 PM", "9:37 PM", "9:56 PM", "10:21 PM", "10:43 PM"] },
  { stop_id: "4305", name: "SW Pacific Hwy &amp; 78th", lat: 45.437301, lon: -122.756719, times: ["8:14 PM", "8:29 PM", "8:53 PM", "9:13 PM", "9:38 PM", "9:57 PM", "10:22 PM", "10:44 PM"] },
  { stop_id: "14412", name: "12000 Block SW Hall", lat: 45.432686, lon: -122.764875, times: ["8:16 PM", "8:31 PM", "8:55 PM", "9:15 PM", "9:40 PM", "9:59 PM", "10:23 PM", "10:45 PM"] },
  { stop_id: "13930", name: "SW Hall &amp; Hunziker/Scoffins", lat: 45.430238, lon: -122.764749, times: ["8:17 PM", "8:32 PM", "8:56 PM", "9:16 PM", "9:41 PM", "10:00 PM", "10:24 PM", "10:46 PM"] },
  { stop_id: "14411", name: "9200 Block SW Burnham", lat: 45.429626, lon: -122.771624, times: ["10:02 PM", "12:17 AM", "1:03 AM", "6:01 AM"] },
  { stop_id: "8212", name: "Tigard Transit Center", lat: 45.430458, lon: -122.769278, times: ["10:03 PM", "12:18 AM", "1:04 AM", "6:02 AM"] },
  { stop_id: "1122", name: "SW Commercial &amp; Hall", lat: 45.428655, lon: -122.766448, times: ["8:18 PM", "8:32 PM", "8:57 PM", "9:17 PM", "9:42 PM", "10:25 PM", "10:47 PM", "11:10 PM"] },
  { stop_id: "5846", name: "Tigard Transit Center", lat: 45.429962, lon: -122.769151, times: ["8:34 PM", "9:18 PM", "10:26 PM", "10:48 PM", "11:11 PM", "11:34 PM", "6:32 AM", "6:48 AM"] },
  { stop_id: "7800", name: "SW 6th &amp; Taylor", lat: 45.517604, lon: -122.679316, times: ["1:30 AM", "5:29 AM"] },
  { stop_id: "8209", name: "Tigard Transit Center", lat: 45.430182, lon: -122.769513, times: ["8:19 PM", "8:58 PM", "9:43 PM"] },
]

    const polylineOut = L.polyline(shapeOutbound, { color: 'blue', weight: 4, opacity: 0.7 }).addTo(map);
    map.fitBounds(polylineOut.getBounds());

    const nowPT = new Date(new Date().toLocaleString('en-US', { timeZone: 'America/Los_Angeles' }));
    const nowMins = nowPT.getHours() * 60 + nowPT.getMinutes();

    stops.forEach(stop => {
      let highlightedTimes = [];
      let foundNext = false;
      stop.times.forEach(timeStr => {
        let cleanTime = timeStr.trim();
        let [h, m] = cleanTime.split(":");
        let schedMins = parseInt(h, 10) * 60 + parseInt(m, 10);
        if (schedMins < nowMins && nowMins - schedMins > 720) {
          schedMins += 1440;
        }
        if (!foundNext && schedMins >= nowMins) {
          highlightedTimes.push(`<span style="background:#4dd0e1; color:#000; padding:2px 6px; border-radius:6px; font-weight:bold;">${cleanTime}</span>`);
          foundNext = true;
        } else {
          highlightedTimes.push(cleanTime);
        }
      });

      L.circleMarker([stop.lat, stop.lon], {
        radius: 6,
        color: '#4dd0e1',
        fillColor: '#4dd0e1',
        fillOpacity: 0.9,
        weight: 1
      })
      .bindPopup(`<strong>${stop.name}</strong><br>${highlightedTimes.join("<br>") || 'No scheduled times'}`)
      .addTo(map);
    });

    let busMarkers = {};
    async function fetchAndDisplay() {
      const res = await fetch(`https://developer.trimet.org/ws/v2/vehicles?route=${routeNumber}&appID=${apiKey}&json=true`);
      const data = await res.json();
      const buses = (data.resultSet.vehicle || []).filter(v => v.routeNumber == routeNumber && v.direction == direction);

      Object.values(busMarkers).forEach(m => map.removeLayer(m));
      busMarkers = {};
      if (!buses.length) return;

      buses.forEach(bus => {
        if (!bus.latitude || !bus.longitude || !bus.blockID) return;
        const icon = L.divIcon({    
           className: '',
           html: `
            <div style="text-align:center;">
              <div style="background:#0071CE;color:#fff;padding:2px 6px;border-radius:6px;font-weight:bold;">${bus.vehicleID}</div>
              <div style="width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:10px solid #00bfff;margin:auto;"></div>
            </div>
          `,
          iconSize: [40, 30], iconAnchor: [20, 30]
        });
        const marker = L.marker([bus.latitude, bus.longitude], { icon }).addTo(map);
        busMarkers[bus.vehicleID] = marker;
      });
    }
    fetchAndDisplay();
    setInterval(fetchAndDisplay, 15000);
  </script>

  <footer class="site-footer">
    <a href="terms.html">Terms of Use</a> &nbsp;|&nbsp;
    <a href="contact.html">Contact Us</a> &nbsp;|&nbsp;
    <a href="report.html">Report a Problem</a> &nbsp;|&nbsp;
    <a href="dmca.html">DMCA</a> &nbsp;|&nbsp;
    <a href="privacy.html">Privacy Policy</a>
  </footer>

  <script>
    if (!localStorage.getItem('cookieConsent')) {
      document.write(`
        <div id="cookie-banner" style="position: fixed; bottom: 0; left: 0; right: 0; background: #333; color: #fff; padding: 1rem; z-index: 1000; font-size: 0.9rem; line-height: 1.4; text-align: center; box-sizing: border-box;">
          📢 We use cookies to improve functionality and analyze traffic.
          By using MetroFeed, you agree to our 
          <a href='privacy.html' style='color: #4dd0e1; text-decoration: underline;'>Privacy Policy</a>.<br>
          <button onclick='localStorage.setItem("cookieConsent", "true"); document.getElementById("cookie-banner").remove();' style='margin-top: 0.5rem; background: #4dd0e1; color: #000; border: none; padding: 0.5rem 1rem; border-radius: 5px; cursor: pointer; font-weight: bold;'>OK</button>
        </div>
      `);
    }
  </script>
</body>
</html>