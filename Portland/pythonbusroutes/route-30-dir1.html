<!DOCTYPE html>
<html lang="en">
<head>
  
<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-2219550569810489"
     crossorigin="anonymous"></script>

<meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Route 30 - To Clackamas Town Center | MetroFeed Portland</title>
  <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
  <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
  <style>
    body {
      margin: 0;
      font-family: 'Segoe UI', sans-serif;
      background-color: #0d0d0d;
      color: #cccccc;
    }
    header {
      background-color: #0d0d0d;
      border-bottom: 3px solid #4dd0e1;
      padding: 1rem;
      text-align: center;
    }
    header img {
      max-height: 60px;
    }
     .ad-banner {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      background: #222;
      padding: 0;
      z-index: 1000;
      box-shadow: 0 2px 2px rgba(0,0,0,0.5);
      text-align: center;
    }

    .ad-banner img {
      width: 100%;
      max-width: 728px;
      height: 90px;
      
      display: block;
      margin: 0 auto;
    }
    h1 {
      text-align: center;
      margin: 1rem 0;
      font-size: 2rem;
      color: #f0f0f0;
    }
    .content-box {
      border: 2px solid #4dd0e1;
      border-radius: 12px;
      padding: 1rem;
      margin: 1rem;
      background-color: #1e1e1e;
    }
    #map {
  width: 100vw;
  min-width: 100vw;
  height: 400px;
  border-radius: 0;
  margin-left: 50%;
  transform: translateX(-50%);
  border: none;
  box-shadow: none;
  padding: 0;
}
    .button-bar {
      display: flex;
      justify-content: center;
      margin: 1rem 0;
    }
    .button-bar a {
      background: #4dd0e1;
      color: #0d0d0d;
      padding: 0.5rem 1rem;
      text-decoration: none;
      border-radius: 8px;
      font-weight: bold;
    }

.back-button {
  background-color: #4dd0e1;
  color: #0d0d0d;
  border: none;
  padding: 0.6rem 1.2rem;
  font-size: 1rem;
  font-weight: bold;
  border-radius: 8px;
  cursor: pointer;
  box-shadow: 0 0 10px #4dd0e1;
  text-decoration: none;
}
.back-button:hover {
  background-color: #35c0d6;
}
.site-footer {
      text-align: center;
      margin-top: 3rem;
      margin-bottom: 120px;
      font-size: 0.85rem;
      color: #aaa;
    }
    .site-footer a {
      color: #00BFFF;
      text-decoration: none;
    }
    .site-footer a:hover {
      text-decoration: underline;
    }
  @media (max-width: 600px) {
      .ad-banner {
        padding-top: 1rem;
        padding-bottom: rem;
      }
    }
  </style>
</head>
<body>
 
  <!-- üü¶ Auto-Injected Banner Ad (route-specific) -->
  <div class="ad-banner">
    <iframe src="https://metrofeedus.com/portland/Ads/route-30-dir1-ad.html" style="border:none; width:100%; max-width 728px; height:90px;"></iframe>
  </div>


 <header>
    <img src="MetroFeedPortlandLogo.png" alt="MetroFeed Portland">
  </header>

  <div class="disclaimer" style="margin: 1rem auto 0.5rem; max-width: 600px; font-size: 0.8rem; color: #bbb; text-align: center; padding: 0.5rem 1rem; background-color: #111; border: 1px dashed #444; border-radius: 6px;">
    ‚ö†Ô∏è This is a Beta program, work in progress. Please REPORT bugs and pretend to be impressed.
  </div>
  <div class="disclaimer" style="margin: 0 auto 1rem; max-width: 600px; font-size: 0.75rem; color: #888; text-align: center; padding: 0.25rem 1rem;">
    This tool is not affiliated with or endorsed by TriMet. For official schedules and service alerts, visit <a href="https://trimet.org" style="color:#4dd0e1;">trimet.org</a>.
  </div>

  <div style="margin: 2rem 0; text-align: center;">
  <button class="back-button" onclick="history.back()">‚¨Ö Back</button>
  </div>

  <h1>Route 30 - To Clackamas Town Center</h1>

  <div class="content-box">
    <div id="map"></div>
    <div style="text-align:right; font-size: 0.7rem; color: #777; margin-top: 0.5rem;">
      Data courtesy of TriMet.
    </div>
  </div>

  
  <script>
  const apiKey = "2C4447D4A42083BCD84DE3B8E";
  const routeNumber = 30;
  const direction = parseInt(1);

  // --- Set map bounds and zoom limits ---
  const bounds = L.latLngBounds(
    [45.40, -122.85], // SW
    [45.65, -122.45]  // NE
  );

  const map = L.map('map', {
    maxBounds: bounds,
    maxBoundsViscosity: 1.0,
    minZoom: 12,   // Don't allow zooming out past city
    maxZoom: 19,   // Allow good zoom in
    zoomControl: true,
    scrollWheelZoom: true,
    dragging: true
  }).setView([45.52, -122.68], 13);

  map.setMaxBounds(bounds);

// Keep map locked in bounds if user somehow escapes
map.on('moveend', function() {
  if (!bounds.contains(map.getCenter())) {
    map.panInsideBounds(bounds, { animate: true });
  }
});

  L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
    maxZoom: 19
  }).addTo(map);

  const shapeOutbound = [
  [45.28607, -122.334063],
  [45.285719, -122.334072],
  [45.285706, -122.333504],
  [45.285694, -122.332951],
  [45.285226, -122.332969],
  [45.285143, -122.332973],
  [45.285101, -122.33299],
  [45.285077, -122.333004],
  [45.28495, -122.333109],
  [45.285111, -122.333362],
  [45.285226, -122.333559],
  [45.285384, -122.333843],
  [45.285479, -122.334033],
  [45.28556, -122.334209],
  [45.28566, -122.334116],
  [45.285719, -122.334072],
  [45.28615, -122.334061],
  [45.286297, -122.334057],
  [45.286514, -122.334051],
  [45.286625, -122.334048],
  [45.2867, -122.334045],
  [45.286891, -122.334038],
  [45.287022, -122.334033],
  [45.287347, -122.334019],
  [45.287367, -122.334018],
  [45.287508, -122.334011],
  [45.287692, -122.334004],
  [45.288524, -122.333977],
  [45.289162, -122.333952],
  [45.289596, -122.33392],
  [45.289663, -122.333916],
  [45.29065, -122.333875],
  [45.291648, -122.333843],
  [45.291836, -122.333837],
  [45.292635, -122.333807],
  [45.293031, -122.333795],
  [45.293613, -122.333777],
  [45.294469, -122.333753],
  [45.294518, -122.334355],
  [45.294549, -122.334738],
  [45.294564, -122.334929],
  [45.294609, -122.335474],
  [45.294638, -122.335843],
  [45.294654, -122.336052],
  [45.294697, -122.336597],
  [45.294738, -122.337127],
  [45.294748, -122.337234],
  [45.294761, -122.337306],
  [45.294785, -122.337393],
  [45.294807, -122.337463],
  [45.294835, -122.337516],
  [45.294867, -122.337566],
  [45.294935, -122.337636],
  [45.294994, -122.337679],
  [45.295047, -122.337708],
  [45.295123, -122.337735],
  [45.295193, -122.33775],
  [45.295246, -122.337758],
  [45.295473, -122.337781],
  [45.295486, -122.337782],
  [45.296193, -122.337856],
  [45.296365, -122.337873],
  [45.29673, -122.337913],
  [45.296783, -122.337919],
  [45.296908, -122.337933],
  [45.297026, -122.337946],
  [45.297206, -122.337966],
  [45.297279, -122.337973],
  [45.297386, -122.337984],
  [45.297657, -122.338011],
  [45.298005, -122.338044],
  [45.298039, -122.338047],
  [45.298616, -122.33811],
  [45.298687, -122.338118],
  [45.299002, -122.338153],
  [45.299124, -122.338166],
  [45.299592, -122.338213],
  [45.300933, -122.338358],
  [45.301345, -122.338402],
  [45.301623, -122.338432],
  [45.301904, -122.338463],
  [45.302038, -122.338479],
  [45.302503, -122.338525],
  [45.303269, -122.338605],
  [45.303694, -122.338648],
  [45.304094, -122.338688],
  [45.304255, -122.338704],
  [45.305435, -122.338824],
  [45.305868, -122.338877],
  [45.305985, -122.338902],
  [45.306074, -122.338927],
  [45.306215, -122.338978],
  [45.306347, -122.339037],
  [45.307208, -122.339468],
  [45.307403, -122.339566],
  [45.307688, -122.33971],
  [45.308187, -122.33996],
  [45.308738, -122.340231],
  [45.309994, -122.340842],
  [45.310278, -122.340975],
  [45.311038, -122.341326],
  [45.311418, -122.341499],
  [45.311737, -122.341644],
  [45.311827, -122.341682],
  [45.312277, -122.34189],
  [45.312459, -122.341973],
  [45.313495, -122.342453],
  [45.314247, -122.342799],
  [45.314627, -122.342975],
  [45.314742, -122.343026],
  [45.314839, -122.343066],
  [45.314968, -122.343114],
  [45.315076, -122.343149],
  [45.315218, -122.343185],
  [45.315265, -122.343195],
  [45.315289, -122.3432],
  [45.315374, -122.34321],
  [45.315533, -122.343218],
  [45.316704, -122.343221],
  [45.317276, -122.343216],
  [45.317629, -122.343213],
  [45.317921, -122.343214],
  [45.31881, -122.343209],
  [45.319268, -122.34321],
  [45.319564, -122.343229],
  [45.319679, -122.343249],
  [45.319758, -122.343268],
  [45.319829, -122.34329],
  [45.319896, -122.343318],
  [45.319978, -122.343358],
  [45.32036, -122.343569],
  [45.320471, -122.343614],
  [45.320568, -122.343641],
  [45.320643, -122.343653],
  [45.320811, -122.343674],
  [45.32089, -122.343672],
  [45.320989, -122.343664],
  [45.321149, -122.343638],
  [45.321297, -122.343603],
  [45.321699, -122.343499],
  [45.321969, -122.343447],
  [45.322047, -122.343438],
  [45.322082, -122.343434],
  [45.322233, -122.343432],
  [45.322405, -122.343439],
  [45.322652, -122.343449],
  [45.323007, -122.34346],
  [45.323186, -122.343455],
  [45.323434, -122.343437],
  [45.323708, -122.343428],
  [45.323768, -122.343431],
  [45.323831, -122.343435],
  [45.323952, -122.343449],
  [45.3241, -122.343478],
  [45.324281, -122.343515],
  [45.324647, -122.343592],
  [45.325979, -122.343879],
  [45.326211, -122.343938],
  [45.326527, -122.344048],
  [45.3273, -122.344338],
  [45.32806, -122.344613],
  [45.329062, -122.344981],
  [45.329714, -122.345222],
  [45.329962, -122.345333],
  [45.330074, -122.345389],
  [45.330243, -122.345488],
  [45.330904, -122.34592],
  [45.331019, -122.34598],
  [45.331134, -122.346028],
  [45.331257, -122.34607],
  [45.331661, -122.346189],
  [45.331786, -122.346226],
  [45.332317, -122.346375],
  [45.33248, -122.346415],
  [45.332495, -122.346419],
  [45.332652, -122.346452],
  [45.332785, -122.346472],
  [45.332901, -122.34648],
  [45.33306, -122.346473],
  [45.333294, -122.346459],
  [45.334687, -122.3463],
  [45.335604, -122.346198],
  [45.335891, -122.346164],
  [45.336035, -122.346145],
  [45.33617, -122.346127],
  [45.336205, -122.346123],
  [45.336518, -122.346089],
  [45.336633, -122.346081],
  [45.337343, -122.346005],
  [45.340152, -122.345689],
  [45.341376, -122.345574],
  [45.341749, -122.345522],
  [45.342052, -122.345477],
  [45.342157, -122.345467],
  [45.342278, -122.345461],
  [45.342501, -122.345459],
  [45.342742, -122.345461],
  [45.342822, -122.345463],
  [45.342887, -122.345467],
  [45.343076, -122.345487],
  [45.343303, -122.345518],
  [45.343541, -122.345569],
  [45.343735, -122.345631],
  [45.343905, -122.345688],
  [45.344177, -122.345804],
  [45.344394, -122.345909],
  [45.344652, -122.346049],
  [45.345509, -122.346549],
  [45.345989, -122.346839],
  [45.346518, -122.347159],
  [45.347416, -122.347683],
  [45.347986, -122.348043],
  [45.348389, -122.348283],
  [45.348892, -122.348582],
  [45.350841, -122.349741],
  [45.351619, -122.350211],
  [45.352861, -122.350956],
  [45.353112, -122.351094],
  [45.353377, -122.351228],
  [45.353659, -122.351362],
  [45.353963, -122.351497],
  [45.35423, -122.351613],
  [45.355146, -122.352021],
  [45.355577, -122.352195],
  [45.3557, -122.352246],
  [45.355994, -122.352356],
  [45.356362, -122.352494],
  [45.356576, -122.352576],
  [45.356731, -122.352642],
  [45.35688, -122.352722],
  [45.357015, -122.352807],
  [45.357123, -122.352886],
  [45.357221, -122.352966],
  [45.357494, -122.35322],
  [45.357671, -122.353386],
  [45.358373, -122.354041],
  [45.358627, -122.354281],
  [45.35888, -122.354521],
  [45.359201, -122.354824],
  [45.359046, -122.355215],
  [45.358776, -122.355888],
  [45.357736, -122.358481],
  [45.357563, -122.358914],
  [45.357666, -122.359029],
  [45.357894, -122.359257],
  [45.357917, -122.359281],
  [45.358127, -122.359502],
  [45.358551, -122.359945],
  [45.359119, -122.360617],
  [45.359236, -122.360774],
  [45.360349, -122.36226],
  [45.360759, -122.362808],
  [45.360802, -122.362866],
  [45.3616, -122.363951],
  [45.361688, -122.364071],
  [45.362002, -122.364536],
  [45.362226, -122.364886],
  [45.362325, -122.36504],
  [45.362989, -122.366027],
  [45.363341, -122.366554],
  [45.36366, -122.366997],
  [45.364116, -122.367597],
  [45.364193, -122.367695],
  [45.364791, -122.368456],
  [45.365153, -122.368917],
  [45.365308, -122.369101],
  [45.365438, -122.369245],
  [45.365586, -122.369391],
  [45.365747, -122.369543],
  [45.367225, -122.370887],
  [45.367704, -122.371322],
  [45.368767, -122.372288],
  [45.369785, -122.373221],
  [45.369933, -122.37337],
  [45.370049, -122.373505],
  [45.370175, -122.373657],
  [45.370417, -122.373973],
  [45.371448, -122.375297],
  [45.371509, -122.375376],
  [45.372799, -122.37705],
  [45.372904, -122.377186],
  [45.372908, -122.377192],
  [45.374364, -122.379107],
  [45.374673, -122.379514],
  [45.375717, -122.38088],
  [45.377532, -122.383265],
  [45.378233, -122.384184],
  [45.378273, -122.384236],
  [45.379029, -122.385232],
  [45.379761, -122.386191],
  [45.380227, -122.3868],
  [45.380445, -122.387087],
  [45.380697, -122.387438],
  [45.380737, -122.387503],
  [45.383246, -122.391571],
  [45.383619, -122.392182],
  [45.384256, -122.393225],
  [45.385023, -122.394466],
  [45.385435, -122.395133],
  [45.385652, -122.395493],
  [45.385776, -122.395708],
  [45.385971, -122.396051],
  [45.386016, -122.396147],
  [45.386034, -122.396185],
  [45.386096, -122.396338],
  [45.386186, -122.39663],
  [45.387344, -122.40104],
  [45.38741, -122.401288],
  [45.387475, -122.401537],
  [45.38748, -122.401554],
  [45.387515, -122.401688],
  [45.387831, -122.402888],
  [45.388031, -122.40365],
  [45.388407, -122.405094],
  [45.388539, -122.405514],
  [45.388714, -122.40602],
  [45.388977, -122.406745],
  [45.389079, -122.40703],
  [45.389146, -122.407217],
  [45.389265, -122.407537],
  [45.389368, -122.407844],
  [45.389427, -122.408019],
  [45.38947, -122.408156],
  [45.389584, -122.408558],
  [45.389668, -122.408875],
  [45.389763, -122.409267],
  [45.390227, -122.411158],
  [45.390488, -122.412223],
  [45.39097, -122.414158],
  [45.391045, -122.414443],
  [45.391148, -122.414742],
  [45.391235, -122.414963],
  [45.391354, -122.415197],
  [45.391485, -122.41545],
  [45.391734, -122.415946],
  [45.392245, -122.416929],
  [45.392375, -122.417264],
  [45.392429, -122.417447],
  [45.392516, -122.417807],
  [45.392597, -122.418208],
  [45.39268, -122.418572],
  [45.392733, -122.418819],
  [45.392805, -122.41909],
  [45.392856, -122.419262],
  [45.392908, -122.419385],
  [45.393007, -122.419576],
  [45.393086, -122.41969],
  [45.39316, -122.419788],
  [45.393228, -122.419861],
  [45.393339, -122.419966],
  [45.393476, -122.420088],
  [45.393704, -122.420343],
  [45.393854, -122.420563],
  [45.393976, -122.420749],
  [45.394026, -122.420837],
  [45.394115, -122.421009],
  [45.394199, -122.4212],
  [45.394263, -122.421385],
  [45.394308, -122.421553],
  [45.394346, -122.421713],
  [45.394376, -122.421901],
  [45.39439, -122.422048],
  [45.394408, -122.422242],
  [45.394409, -122.42243],
  [45.394404, -122.422536],
  [45.394402, -122.4226],
  [45.394382, -122.422771],
  [45.39436, -122.422932],
  [45.394337, -122.423055],
  [45.394277, -122.423321],
  [45.394168, -122.423746],
  [45.394128, -122.423886],
  [45.394093, -122.424002],
  [45.393985, -122.424314],
  [45.393876, -122.424615],
  [45.393648, -122.425182],
  [45.393454, -122.425639],
  [45.393254, -122.426085],
  [45.393029, -122.42662],
  [45.392974, -122.42678],
  [45.39293, -122.426962],
  [45.392897, -122.427118],
  [45.39288, -122.427258],
  [45.392873, -122.427385],
  [45.392876, -122.427504],
  [45.392891, -122.427641],
  [45.392912, -122.427777],
  [45.392978, -122.428177],
  [45.392994, -122.42834],
  [45.392999, -122.428522],
  [45.392994, -122.428689],
  [45.392968, -122.428887],
  [45.392928, -122.429072],
  [45.392877, -122.429248],
  [45.392792, -122.42946],
  [45.392562, -122.429951],
  [45.39256, -122.429956],
  [45.391851, -122.431447],
  [45.391547, -122.432101],
  [45.391315, -122.432592],
  [45.391158, -122.432956],
  [45.39107, -122.433178],
  [45.391001, -122.433408],
  [45.390944, -122.433633],
  [45.390908, -122.433813],
  [45.390886, -122.43395],
  [45.390706, -122.435154],
  [45.390661, -122.435352],
  [45.390623, -122.435484],
  [45.390572, -122.435616],
  [45.390523, -122.435717],
  [45.390509, -122.435747],
  [45.390462, -122.435827],
  [45.390367, -122.43597],
  [45.390213, -122.436158],
  [45.389026, -122.437559],
  [45.3888, -122.437825],
  [45.388579, -122.438073],
  [45.388444, -122.438209],
  [45.388326, -122.438304],
  [45.388165, -122.438404],
  [45.387996, -122.438499],
  [45.387831, -122.438608],
  [45.387718, -122.438696],
  [45.387624, -122.438785],
  [45.387511, -122.438935],
  [45.387395, -122.439154],
  [45.387329, -122.439333],
  [45.387134, -122.439792],
  [45.386637, -122.440908],
  [45.386054, -122.442216],
  [45.385958, -122.442457],
  [45.385869, -122.442675],
  [45.385814, -122.442841],
  [45.385753, -122.443063],
  [45.385704, -122.443315],
  [45.38567, -122.44354],
  [45.385585, -122.444416],
  [45.38555, -122.444686],
  [45.385503, -122.444916],
  [45.385464, -122.445077],
  [45.385393, -122.445301],
  [45.385293, -122.445553],
  [45.3852, -122.445779],
  [45.385069, -122.446086],
  [45.385022, -122.446241],
  [45.384984, -122.446406],
  [45.384968, -122.446527],
  [45.384956, -122.446663],
  [45.384954, -122.44678],
  [45.384957, -122.446895],
  [45.385004, -122.447289],
  [45.385026, -122.44744],
  [45.385045, -122.447626],
  [45.385048, -122.447813],
  [45.385033, -122.448044],
  [45.38498, -122.448473],
  [45.384881, -122.449206],
  [45.384849, -122.449505],
  [45.384836, -122.44972],
  [45.384839, -122.449936],
  [45.384858, -122.450179],
  [45.384889, -122.450413],
  [45.384936, -122.450663],
  [45.384969, -122.450811],
  [45.385012, -122.451006],
  [45.38507, -122.451254],
  [45.385099, -122.451474],
  [45.38511, -122.45163],
  [45.385115, -122.451751],
  [45.385113, -122.451919],
  [45.385093, -122.452241],
  [45.385094, -122.452434],
  [45.385104, -122.452598],
  [45.38515, -122.452938],
  [45.385176, -122.453102],
  [45.385216, -122.453308],
  [45.385258, -122.453487],
  [45.385304, -122.453657],
  [45.385321, -122.453724],
  [45.385557, -122.454647],
  [45.385624, -122.454896],
  [45.385686, -122.455069],
  [45.385744, -122.455198],
  [45.385811, -122.45531],
  [45.385912, -122.45544],
  [45.385989, -122.455527],
  [45.386113, -122.455638],
  [45.386529, -122.455934],
  [45.386734, -122.456081],
  [45.38687, -122.456185],
  [45.386969, -122.456283],
  [45.386996, -122.456311],
  [45.387053, -122.456375],
  [45.387118, -122.456462],
  [45.387184, -122.456566],
  [45.38725, -122.45669],
  [45.387329, -122.456874],
  [45.38742, -122.457123],
  [45.387712, -122.458005],
  [45.387834, -122.458327],
  [45.387915, -122.4585],
  [45.388001, -122.458653],
  [45.388301, -122.459138],
  [45.388451, -122.459428],
  [45.388505, -122.459556],
  [45.388692, -122.459999],
  [45.388763, -122.460145],
  [45.388854, -122.460305],
  [45.388938, -122.460419],
  [45.389004, -122.460494],
  [45.389095, -122.460568],
  [45.389215, -122.460641],
  [45.389372, -122.460699],
  [45.389682, -122.460786],
  [45.390062, -122.460876],
  [45.390385, -122.460924],
  [45.3909, -122.461001],
  [45.391285, -122.461028],
  [45.392308, -122.461103],
  [45.392954, -122.461138],
  [45.393388, -122.461161],
  [45.393559, -122.461183],
  [45.393693, -122.461209],
  [45.393853, -122.461254],
  [45.394006, -122.461324],
  [45.394145, -122.461417],
  [45.394255, -122.461505],
  [45.394473, -122.461687],
  [45.394601, -122.46181],
  [45.394716, -122.461934],
  [45.394867, -122.462102],
  [45.394993, -122.462263],
  [45.395039, -122.462333],
  [45.395141, -122.462489],
  [45.395455, -122.462973],
  [45.395647, -122.46328],
  [45.395863, -122.463651],
  [45.395921, -122.463782],
  [45.395992, -122.463995],
  [45.396113, -122.464335],
  [45.396228, -122.464638],
  [45.396319, -122.464909],
  [45.396508, -122.46545],
  [45.3966, -122.465741],
  [45.396637, -122.465891],
  [45.396665, -122.466025],
  [45.396683, -122.466153],
  [45.396701, -122.46637],
  [45.396708, -122.466526],
  [45.396711, -122.466767],
  [45.396717, -122.466968],
  [45.396728, -122.467072],
  [45.39674, -122.467153],
  [45.396782, -122.467329],
  [45.396813, -122.467448],
  [45.39687, -122.467638],
  [45.396984, -122.467988],
  [45.39702, -122.468096],
  [45.39728, -122.468765],
  [45.397411, -122.46906],
  [45.397505, -122.469281],
  [45.39756, -122.469431],
  [45.397607, -122.469593],
  [45.397641, -122.469727],
  [45.397669, -122.469863],
  [45.397686, -122.470022],
  [45.397696, -122.470156],
  [45.397701, -122.470321],
  [45.397702, -122.470445],
  [45.397695, -122.470622],
  [45.397678, -122.470932],
  [45.397638, -122.471614],
  [45.397505, -122.473857],
  [45.397475, -122.474402],
  [45.397461, -122.474685],
  [45.397437, -122.475029],
  [45.397418, -122.475247],
  [45.397396, -122.4754],
  [45.397357, -122.47557],
  [45.39733, -122.475685],
  [45.397278, -122.475824],
  [45.397184, -122.476045],
  [45.397139, -122.476141],
  [45.397027, -122.476369],
  [45.396895, -122.476642],
  [45.39678, -122.476867],
  [45.396709, -122.477019],
  [45.396628, -122.477171],
  [45.396527, -122.477316],
  [45.396305, -122.477553],
  [45.396245, -122.477621],
  [45.396202, -122.477683],
  [45.396129, -122.477823],
  [45.396013, -122.478104],
  [45.395961, -122.478279],
  [45.395926, -122.478434],
  [45.39586, -122.478749],
  [45.395772, -122.479209],
  [45.395574, -122.480185],
  [45.395503, -122.480551],
  [45.395426, -122.480951],
  [45.39539, -122.481179],
  [45.39538, -122.481306],
  [45.395377, -122.481447],
  [45.395384, -122.481584],
  [45.395401, -122.48173],
  [45.395439, -122.481912],
  [45.395497, -122.482091],
  [45.395535, -122.482183],
  [45.395581, -122.482278],
  [45.395633, -122.482373],
  [45.395699, -122.482483],
  [45.395786, -122.4826],
  [45.395967, -122.482836],
  [45.396033, -122.482937],
  [45.396146, -122.483154],
  [45.396203, -122.483293],
  [45.396281, -122.483516],
  [45.396325, -122.483633],
  [45.396384, -122.483789],
  [45.396729, -122.484794],
  [45.39676, -122.484905],
  [45.396783, -122.485008],
  [45.396794, -122.485057],
  [45.396803, -122.48512],
  [45.396805, -122.485136],
  [45.396813, -122.485206],
  [45.396814, -122.485264],
  [45.396814, -122.485376],
  [45.396802, -122.485539],
  [45.396781, -122.485728],
  [45.396764, -122.485866],
  [45.396702, -122.486265],
  [45.396648, -122.486535],
  [45.396606, -122.486711],
  [45.396555, -122.486845],
  [45.39651, -122.486953],
  [45.39649, -122.487002],
  [45.396377, -122.487272],
  [45.396103, -122.487936],
  [45.396012, -122.488159],
  [45.395866, -122.488527],
  [45.395779, -122.488795],
  [45.395748, -122.488938],
  [45.395648, -122.489482],
  [45.395603, -122.489664],
  [45.39555, -122.489808],
  [45.395502, -122.489912],
  [45.395435, -122.490019],
  [45.395367, -122.490117],
  [45.395294, -122.490201],
  [45.395199, -122.490297],
  [45.39467, -122.490735],
  [45.394565, -122.490846],
  [45.394483, -122.490945],
  [45.394399, -122.491059],
  [45.394344, -122.491157],
  [45.394311, -122.491222],
  [45.394243, -122.491414],
  [45.394197, -122.491579],
  [45.394165, -122.491758],
  [45.394108, -122.492315],
  [45.394069, -122.492917],
  [45.394092, -122.493293],
  [45.39411, -122.493449],
  [45.394143, -122.493677],
  [45.394187, -122.493963],
  [45.394256, -122.494419],
  [45.394373, -122.495188],
  [45.394623, -122.496697],
  [45.394636, -122.496768],
  [45.394655, -122.496882],
  [45.394685, -122.497029],
  [45.394717, -122.497161],
  [45.394758, -122.497292],
  [45.394804, -122.497374],
  [45.394864, -122.497452],
  [45.395012, -122.497614],
  [45.39527, -122.497868],
  [45.395596, -122.498187],
  [45.396001, -122.498566],
  [45.39625, -122.498792],
  [45.396365, -122.498874],
  [45.396499, -122.498952],
  [45.39665, -122.49902],
  [45.396663, -122.499024],
  [45.396947, -122.499124],
  [45.397789, -122.499377],
  [45.398617, -122.499629],
  [45.398774, -122.499673],
  [45.399353, -122.499822],
  [45.39995, -122.499956],
  [45.400828, -122.500138],
  [45.401231, -122.500226],
  [45.401385, -122.500261],
  [45.402234, -122.50043],
  [45.402839, -122.50056],
  [45.403071, -122.50061],
  [45.403874, -122.500775],
  [45.404058, -122.500826],
  [45.404098, -122.500839],
  [45.404151, -122.500858],
  [45.404241, -122.500899],
  [45.404293, -122.500929],
  [45.404358, -122.500968],
  [45.404492, -122.501056],
  [45.40459, -122.501131],
  [45.405084, -122.50153],
  [45.405696, -122.502037],
  [45.40575, -122.502082],
  [45.405854, -122.502178],
  [45.406244, -122.502495],
  [45.406659, -122.502837],
  [45.40706, -122.503166],
  [45.408116, -122.504032],
  [45.408436, -122.504288],
  [45.408746, -122.504532],
  [45.409061, -122.504786],
  [45.40924, -122.504929],
  [45.409349, -122.505002],
  [45.40939, -122.505025],
  [45.409399, -122.50503],
  [45.409417, -122.505038],
  [45.409432, -122.50504],
  [45.409453, -122.505038],
  [45.409474, -122.505031],
  [45.409591, -122.504982],
  [45.409695, -122.505287],
  [45.40971, -122.505388],
  [45.409719, -122.505469],
  [45.409725, -122.505553],
  [45.409734, -122.505841],
  [45.409741, -122.50611],
  [45.409749, -122.506749],
  [45.409755, -122.507214],
  [45.409755, -122.507575],
  [45.409755, -122.507753],
  [45.409699, -122.507914],
  [45.409709, -122.508869],
  [45.409727, -122.509331],
  [45.409752, -122.509704],
  [45.409782, -122.510096],
  [45.409826, -122.510666],
  [45.410082, -122.513739],
  [45.410109, -122.514076],
  [45.410132, -122.514338],
  [45.410141, -122.514455],
  [45.410157, -122.514661],
  [45.410179, -122.514953],
  [45.410195, -122.51529],
  [45.410199, -122.515468],
  [45.4102, -122.515643],
  [45.4102, -122.515829],
  [45.410197, -122.516094],
  [45.410179, -122.516604],
  [45.410153, -122.517337],
  [45.410148, -122.517456],
  [45.410144, -122.517633],
  [45.410139, -122.517824],
  [45.410135, -122.517994],
  [45.410135, -122.518207],
  [45.410141, -122.518432],
  [45.41015, -122.51871],
  [45.410154, -122.51883],
  [45.410161, -122.518969],
  [45.41017, -122.519109],
  [45.410194, -122.519415],
  [45.410212, -122.519587],
  [45.410242, -122.519877],
  [45.410355, -122.52093],
  [45.410419, -122.52151],
  [45.410447, -122.521795],
  [45.410473, -122.52207],
  [45.410491, -122.522289],
  [45.410505, -122.522479],
  [45.410517, -122.522646],
  [45.410526, -122.522802],
  [45.410532, -122.522939],
  [45.410537, -122.523152],
  [45.410538, -122.523322],
  [45.410536, -122.523512],
  [45.410531, -122.5237],
  [45.410522, -122.523859],
  [45.410507, -122.524081],
  [45.410479, -122.524348],
  [45.410478, -122.524363],
  [45.410467, -122.524478],
  [45.410448, -122.524628],
  [45.410426, -122.524808],
  [45.410393, -122.525021],
  [45.410362, -122.525194],
  [45.410327, -122.525375],
  [45.4103, -122.52551],
  [45.410272, -122.525646],
  [45.410263, -122.52569],
  [45.410213, -122.525902],
  [45.410164, -122.526103],
  [45.410098, -122.526368],
  [45.410041, -122.526588],
  [45.409805, -122.527503],
  [45.409773, -122.527626],
  [45.409601, -122.528291],
  [45.409444, -122.528899],
  [45.4091, -122.530227],
  [45.409056, -122.530396],
  [45.40899, -122.530652],
  [45.408807, -122.531333],
  [45.408576, -122.532247],
  [45.408508, -122.532523],
  [45.408462, -122.532721],
  [45.408418, -122.532919],
  [45.408404, -122.532978],
  [45.408377, -122.533097],
  [45.408316, -122.533388],
  [45.408271, -122.533624],
  [45.408227, -122.533862],
  [45.408224, -122.533876],
  [45.408178, -122.534148],
  [45.408135, -122.534425],
  [45.40808, -122.534813],
  [45.40806, -122.534974],
  [45.408033, -122.535209],
  [45.408006, -122.535472],
  [45.40799, -122.535634],
  [45.407977, -122.535794],
  [45.407961, -122.535987],
  [45.407956, -122.536067],
  [45.407948, -122.536207],
  [45.40794, -122.536355],
  [45.407932, -122.536529],
  [45.407921, -122.536804],
  [45.407917, -122.536935],
  [45.407913, -122.537054],
  [45.40791, -122.537174],
  [45.407905, -122.537424],
  [45.407901, -122.537751],
  [45.407901, -122.537813],
  [45.407898, -122.538462],
  [45.407896, -122.538711],
  [45.407892, -122.539473],
  [45.407888, -122.540043],
  [45.407886, -122.540353],
  [45.407884, -122.540691],
  [45.40788, -122.541448],
  [45.407879, -122.541625],
  [45.407879, -122.541637],
  [45.407872, -122.54266],
  [45.40786, -122.544741],
  [45.40786, -122.544801],
  [45.407858, -122.545135],
  [45.407857, -122.545307],
  [45.40785, -122.545947],
  [45.407849, -122.546304],
  [45.407845, -122.547088],
  [45.407838, -122.54844],
  [45.407834, -122.549243],
  [45.407828, -122.550505],
  [45.407822, -122.551327],
  [45.407822, -122.551445],
  [45.407821, -122.551882],
  [45.40782, -122.552215],
  [45.407818, -122.552386],
  [45.407813, -122.552981],
  [45.407805, -122.553875],
  [45.407802, -122.554429],
  [45.407799, -122.554845],
  [45.407799, -122.554862],
  [45.407794, -122.555875],
  [45.407792, -122.556221],
  [45.407789, -122.55657],
  [45.407787, -122.556948],
  [45.407784, -122.557414],
  [45.407783, -122.557466],
  [45.407777, -122.557844],
  [45.407776, -122.557949],
  [45.407771, -122.558147],
  [45.407763, -122.55852],
  [45.407758, -122.558746],
  [45.407803, -122.558892],
  [45.407781, -122.559267],
  [45.407756, -122.559712],
  [45.407727, -122.560141],
  [45.4077, -122.560546],
  [45.407666, -122.561164],
  [45.407614, -122.561826],
  [45.407579, -122.56236],
  [45.40756, -122.562749],
  [45.407541, -122.563108],
  [45.407518, -122.56387],
  [45.407508, -122.564524],
  [45.407505, -122.565265],
  [45.407503, -122.566201],
  [45.407504, -122.567227],
  [45.407505, -122.567391],
  [45.407506, -122.56866],
  [45.407505, -122.568857],
  [45.407503, -122.569098],
  [45.407503, -122.569159],
  [45.407504, -122.569816],
  [45.4076, -122.570136],
  [45.407636, -122.570225],
  [45.407688, -122.570335],
  [45.407732, -122.570398],
  [45.407791, -122.570471],
  [45.40789, -122.570572],
  [45.408621, -122.571096],
  [45.409198, -122.571464],
  [45.409699, -122.571712],
  [45.411198, -122.572399],
  [45.413591, -122.573249],
  [45.414634, -122.573454],
  [45.414909, -122.57349],
  [45.415205, -122.57351],
  [45.415415, -122.573514],
  [45.416035, -122.573507],
  [45.416293, -122.573521],
  [45.416546, -122.573558],
  [45.416837, -122.57364],
  [45.417096, -122.573751],
  [45.417227, -122.573831],
  [45.417812, -122.574283],
  [45.418308, -122.574637],
  [45.418654, -122.574898],
  [45.418757, -122.574971],
  [45.418934, -122.575116],
  [45.419075, -122.575221],
  [45.419319, -122.575365],
  [45.419531, -122.575466],
  [45.419703, -122.575526],
  [45.419964, -122.575602],
  [45.420255, -122.575672],
  [45.420358, -122.575696],
  [45.42088, -122.575837],
  [45.421364, -122.575982],
  [45.421975, -122.576211],
  [45.422621, -122.576472],
  [45.423045, -122.576656],
  [45.423407, -122.576816],
  [45.423944, -122.577025],
  [45.424427, -122.5772],
  [45.426107, -122.577811],
  [45.426472, -122.577931],
  [45.427495, -122.578288],
  [45.428509, -122.578638],
  [45.429034, -122.578792],
  [45.429657, -122.578948],
  [45.430053, -122.579027],
  [45.430241, -122.579139],
  [45.430332, -122.579153],
  [45.430657, -122.579197],
  [45.430717, -122.579203],
  [45.430848, -122.579216],
  [45.431114, -122.579237],
  [45.431437, -122.579259],
  [45.43169, -122.579267],
  [45.432125, -122.57926],
  [45.432197, -122.579259],
  [45.432492, -122.579254],
  [45.432599, -122.579252],
  [45.432691, -122.57925],
  [45.432967, -122.579236],
  [45.432992, -122.579235],
  [45.433178, -122.579225],
  [45.433596, -122.579205],
  [45.433629, -122.579203],
  [45.434729, -122.57915],
  [45.434996, -122.579135],
  [45.43513, -122.579127],
  [45.435239, -122.579124],
  [45.435331, -122.57912],
  [45.435543, -122.579109],
  [45.435764, -122.579098],
  [45.43582, -122.579095],
  [45.436707, -122.579052],
  [45.437125, -122.579044],
  [45.4373, -122.57904],
  [45.437687, -122.579025],
  [45.437936, -122.579017],
  [45.438197, -122.579008],
  [45.438278, -122.579004],
  [45.438279, -122.577925],
  [45.43828, -122.577252],
  [45.43828, -122.577059],
  [45.438279, -122.576351],
  [45.438279, -122.575771],
  [45.438279, -122.575642],
  [45.438135, -122.575645],
  [45.437361, -122.575662],
  [45.437263, -122.575656],
  [45.437261, -122.575546],
  [45.437255, -122.575444],
  [45.437262, -122.575233],
  [45.437277, -122.575122],
  [45.43731, -122.575012],
  [45.437375, -122.574795],
  [45.437398, -122.574718],
  [45.437412, -122.574635],
  [45.437415, -122.574575],
  [45.437416, -122.574539],
  [45.437414, -122.574347],
  [45.437414, -122.574259],
  [45.437402, -122.57331],
  [45.4374, -122.57317],
  [45.437398, -122.572993],
  [45.437386, -122.572789],
  [45.437284, -122.572368],
  [45.437243, -122.572174],
  [45.437236, -122.572096],
  [45.437225, -122.571976],
  [45.437224, -122.571863],
  [45.437222, -122.571679],
  [45.437221, -122.571651],
  [45.437216, -122.571433],
  [45.437212, -122.571197],
  [45.437206, -122.570998],
  [45.437202, -122.570785],
  [45.437198, -122.570562],
  [45.437193, -122.570335],
  [45.437189, -122.570119],
  [45.437184, -122.569903],
  [45.43718, -122.569685],
  [45.437176, -122.569469],
  [45.437175, -122.569407],
  [45.437162, -122.569347],
  [45.437139, -122.569296],
  [45.437114, -122.569251],
  [45.437081, -122.569233],
  [45.437007, -122.569226],
  [45.43683, -122.569231],
  [45.436637, -122.569217],
  [45.436537, -122.569201],
  [45.436415, -122.569182],
  [45.436264, -122.569157],
  [45.436107, -122.569129],
  [45.43607, -122.569123],
  [45.43595, -122.569104],
  [45.435618, -122.569051],
  [45.435528, -122.569036],
  [45.435508, -122.568883],
  [45.435533, -122.568653],
  [45.435564, -122.568572],
  [45.435568, -122.568479],
  [45.435599, -122.568167],
  [45.435602, -122.568142],
  [45.435613, -122.568101],
  [45.435626, -122.56807],
  [45.43567, -122.568073],
  [45.435735, -122.568086],
  [45.435757, -122.56809],
  [45.43581, -122.568136],
  [45.436148, -122.5682],
  [45.436575, -122.568281],
  [45.436566, -122.56838],
  [45.436554, -122.568507],
  [45.436532, -122.568749],
  [45.436108, -122.568667],
  [45.435763, -122.568601],
  [45.435689, -122.56859],
  [45.435678, -122.568589]
];

const stopNames = {
  "1252": "SE Currin &amp; Hwy 211-224",
  "1555": "SE Eagle Creek Rd &amp; Currin",
  "1557": "28400 Block SE Eagle Creek Rd",
  "1558": "25800 Block SE Eagle Creek Rd",
  "1561": "SE Eagle Creek Rd &amp; Heiple Rd",
  "1564": "SE Eagle Creek Rd &amp; Hwy 211",
  "1565": "SE Eagle Creek Rd &amp; Risberg",
  "1568": "SE Eagle Creek Rd &amp; Wildcat Mtn",
  "2819": "29800 Block SE Hwy 211",
  "2873": "15700 Block SE Hwy 224",
  "2874": "SE Hwy 224 &amp; Springwater Rd",
  "2876": "SE Hwy 224 &amp; Amisigger Rd",
  "2878": "SE Hwy 224 &amp; Bartlemay",
  "2880": "SE Hwy 224 &amp; Barton Church",
  "2882": "SE Hwy 224 &amp; Bakers Ferry Rd",
  "2884": "16400 Block SE Hwy 224",
  "2886": "16000 Block SE Hwy 224",
  "2889": "Hwy 212 &amp; SE 102nd",
  "2890": "Hwy 212/224 &amp; SE 130th",
  "2892": "11400 Block Hwy 212",
  "2896": "SE Hwy 224 &amp; Hwy 212",
  "2898": "SE Hwy 224 &amp; Marna",
  "2899": "10700 Block Hwy 212",
  "2905": "Hwy 212 &amp; SE 122nd",
  "2909": "Hwy 212/224 &amp; 142nd",
  "2911": "Hwy 212/224 &amp; SE 152nd",
  "2913": "SE Hwy 224 &amp; 197th",
  "2915": "SE Hwy 212 &amp; 82nd Dr",
  "3724": "400 Block SE Main (Estacada City Hall)",
  "7745": "29800 Block SE Eagle Creek Rd",
  "7750": "NE 6th &amp; N Broadway",
  "8005": "SE 82nd &amp; McBride",
  "8049": "SE 82nd &amp; Sunnyside",
  "8315": "SE Main &amp; 3rd",
  "8420": "SE Hwy 224 &amp; 232nd Dr",
  "8721": "21700 Block SE Hwy 224",
  "8722": "600 Block NW Wade",
  "8735": "20000 Block SE Hwy 224",
  "8736": "17300 Block SE Hwy 224",
  "8795": "17700 Block SE Hwy 224",
  "8824": "SE Hwy 224 &amp; Hwy 211",
  "8830": "Hwy 212/224 &amp; SE 135th",
  "8838": "NE Main &amp; 3rd Ave",
  "8857": "800 Block NW Wade",
  "8947": "28400 Block SE Hwy 224",
  "9312": "SE Hwy 224 &amp; Suttle Rd",
  "9322": "27600 Block SE Hwy 224",
  "9520": "SE Eagle Creek Rd &amp; Hinman",
  "9562": "29200 Block SE Eagle Creek Rd",
  "9641": "SE Hwy 224 &amp; Sherman Cooper",
  "10185": "22600 Block SE Hwy 224",
  "10275": "27500 Block SE Eagle Creek Rd",
  "10501": "26300 Block SE Hwy 224",
  "10647": "22000 Block SE Hwy 224",
  "10695": "SE Hwy 224 &amp; Eilers Circle",
  "10836": "SE Eagle Creek Rd &amp; Duus Rd",
  "11251": "SE 82nd &amp; Sunnybrook",
  "11931": "12600 Block Hwy 212/224",
  "12921": "Clackamas Town Center Mall",
  "12936": "19000 Block SE Hwy 224",
  "13113": "17500 Block SE Hwy 224",
  "13247": "Clackamas Town Center TC",
  "13248": "Clackamas Town Center Transit Center",
  "13496": "SE Hwy 224 &amp; Dowty Rd",
  "13632": "Hwy 224  &amp; SE Paul Bunyan Ln",
  "13654": "20300 Block SE Hwy 224",
  "13657": "SE Hwy 224 &amp; McPartland",
  "13662": "SE Hwy 224 &amp; Eckert Ln",
  "13663": "SE Hwy 224 &amp; Goosehollow",
  "14029": "SE Eagle Creek Rd &amp; Hill Way"
};

const stops = [
  { stop_id: "3724", name: "400 Block SE Main (Estacada City Hall)", lat: 45.286072, lon: -122.334179, times: ["6:42 PM", "7:41 PM", "6:24 AM", "7:22 AM", "8:23 AM", "9:23 AM", "10:23 AM", "11:24 AM"] },
  { stop_id: "1252", name: "SE Currin &amp; Hwy 211-224", lat: 45.285216, lon: -122.333048, times: ["6:42 PM", "7:41 PM", "6:24 AM", "7:22 AM", "8:23 AM", "9:23 AM", "10:23 AM", "11:24 AM"] },
  { stop_id: "8315", name: "SE Main &amp; 3rd", lat: 45.287344, lon: -122.333883, times: ["6:42 PM", "7:41 PM", "6:24 AM", "7:22 AM", "8:23 AM", "9:23 AM", "10:23 AM", "11:24 AM"] },
  { stop_id: "8838", name: "NE Main &amp; 3rd Ave", lat: 45.291834, lon: -122.333717, times: ["6:43 PM", "7:42 PM", "6:25 AM", "7:23 AM", "8:24 AM", "9:24 AM", "10:24 AM", "11:25 AM"] },
  { stop_id: "7750", name: "NE 6th &amp; N Broadway", lat: 45.294612, lon: -122.334728, times: ["6:43 PM", "7:42 PM", "6:25 AM", "7:23 AM", "8:24 AM", "9:24 AM", "10:24 AM", "11:25 AM"] },
  { stop_id: "8722", name: "600 Block NW Wade", lat: 45.295493, lon: -122.337676, times: ["6:44 PM", "7:43 PM", "6:26 AM", "7:24 AM", "8:25 AM", "9:25 AM", "10:25 AM", "11:26 AM"] },
  { stop_id: "8857", name: "800 Block NW Wade", lat: 45.296914, lon: -122.337823, times: ["6:44 PM", "7:43 PM", "6:26 AM", "7:24 AM", "8:25 AM", "9:25 AM", "10:25 AM", "11:26 AM"] },
  { stop_id: "14029", name: "SE Eagle Creek Rd &amp; Hill Way", lat: 45.301632, lon: -122.338309, times: ["6:45 PM", "7:44 PM", "6:27 AM", "7:25 AM", "8:26 AM", "9:26 AM", "10:26 AM", "11:27 AM"] },
  { stop_id: "9520", name: "SE Eagle Creek Rd &amp; Hinman", lat: 45.304096, lon: -122.338622, times: ["6:45 PM", "7:44 PM", "6:27 AM", "7:25 AM", "8:26 AM", "9:26 AM", "10:26 AM", "11:27 AM"] },
  { stop_id: "7745", name: "29800 Block SE Eagle Creek Rd", lat: 45.307436, lon: -122.339481, times: ["6:45 PM", "7:44 PM", "6:28 AM", "7:26 AM", "8:27 AM", "9:27 AM", "10:27 AM", "11:28 AM"] },
  { stop_id: "9562", name: "29200 Block SE Eagle Creek Rd", lat: 45.311441, lon: -122.341386, times: ["6:46 PM", "7:45 PM", "6:28 AM", "7:26 AM", "8:27 AM", "9:27 AM", "10:27 AM", "11:28 AM"] },
  { stop_id: "10836", name: "SE Eagle Creek Rd &amp; Duus Rd", lat: 45.315276, lon: -122.343088, times: ["6:47 PM", "7:46 PM", "6:29 AM", "7:27 AM", "8:28 AM", "9:28 AM", "10:28 AM", "11:29 AM"] },
  { stop_id: "1557", name: "28400 Block SE Eagle Creek Rd", lat: 45.317277, lon: -122.343125, times: ["6:47 PM", "7:46 PM", "6:29 AM", "7:27 AM", "8:28 AM", "9:28 AM", "10:28 AM", "11:29 AM"] },
  { stop_id: "1561", name: "SE Eagle Creek Rd &amp; Heiple Rd", lat: 45.32204, lon: -122.34333, times: ["6:47 PM", "7:46 PM", "6:30 AM", "7:28 AM", "8:29 AM", "9:29 AM", "10:29 AM", "11:30 AM"] },
  { stop_id: "10275", name: "27500 Block SE Eagle Creek Rd", lat: 45.323773, lon: -122.343288, times: ["6:48 PM", "7:47 PM", "6:30 AM", "7:28 AM", "8:29 AM", "9:29 AM", "10:29 AM", "11:30 AM"] },
  { stop_id: "1555", name: "SE Eagle Creek Rd &amp; Currin", lat: 45.332489, lon: -122.346339, times: ["6:49 PM", "7:48 PM", "6:32 AM", "7:30 AM", "8:31 AM", "9:31 AM", "10:31 AM", "11:32 AM"] },
  { stop_id: "1558", name: "25800 Block SE Eagle Creek Rd", lat: 45.336201, lon: -122.346039, times: ["6:50 PM", "7:49 PM", "6:32 AM", "7:30 AM", "8:31 AM", "9:31 AM", "10:31 AM", "11:32 AM"] },
  { stop_id: "1568", name: "SE Eagle Creek Rd &amp; Wildcat Mtn", lat: 45.346034, lon: -122.346691, times: ["6:51 PM", "7:50 PM", "6:34 AM", "7:32 AM", "8:33 AM", "9:33 AM", "10:33 AM", "11:34 AM"] },
  { stop_id: "1565", name: "SE Eagle Creek Rd &amp; Risberg", lat: 45.348429, lon: -122.348149, times: ["6:51 PM", "7:50 PM", "6:34 AM", "7:32 AM", "8:33 AM", "9:33 AM", "10:33 AM", "11:34 AM"] },
  { stop_id: "1564", name: "SE Eagle Creek Rd &amp; Hwy 211", lat: 45.358671, lon: -122.354188, times: ["6:53 PM", "7:52 PM", "6:36 AM", "7:34 AM", "8:35 AM", "9:35 AM", "10:35 AM", "11:36 AM"] },
  { stop_id: "2819", name: "29800 Block SE Hwy 211", lat: 45.358825, lon: -122.355927, times: ["6:53 PM", "7:52 PM", "6:36 AM", "7:34 AM", "8:35 AM", "9:35 AM", "10:35 AM", "11:36 AM"] },
  { stop_id: "8824", name: "SE Hwy 224 &amp; Hwy 211", lat: 45.357979, lon: -122.359087, times: ["6:54 PM", "7:53 PM", "6:37 AM", "7:35 AM", "8:36 AM", "9:36 AM", "10:36 AM", "11:37 AM"] },
  { stop_id: "13496", name: "SE Hwy 224 &amp; Dowty Rd", lat: 45.361685, lon: -122.363893, times: ["6:54 PM", "7:53 PM", "6:37 AM", "7:35 AM", "8:36 AM", "9:36 AM", "10:36 AM", "11:37 AM"] },
  { stop_id: "13657", name: "SE Hwy 224 &amp; McPartland", lat: 45.364259, lon: -122.367592, times: ["6:54 PM", "7:53 PM", "6:37 AM", "7:35 AM", "8:36 AM", "9:36 AM", "10:36 AM", "11:37 AM"] },
  { stop_id: "8947", name: "28400 Block SE Hwy 224", lat: 45.36726, lon: -122.370812, times: ["6:55 PM", "7:54 PM", "6:38 AM", "7:36 AM", "8:37 AM", "9:37 AM", "10:37 AM", "11:38 AM"] },
  { stop_id: "9312", name: "SE Hwy 224 &amp; Suttle Rd", lat: 45.371487, lon: -122.375232, times: ["6:55 PM", "7:54 PM", "6:38 AM", "7:36 AM", "8:37 AM", "9:37 AM", "10:37 AM", "11:38 AM"] },
  { stop_id: "13632", name: "Hwy 224  &amp; SE Paul Bunyan Ln", lat: 45.372943, lon: -122.377125, times: ["6:55 PM", "7:54 PM", "6:39 AM", "7:37 AM", "8:38 AM", "9:38 AM", "10:38 AM", "11:39 AM"] },
  { stop_id: "9322", name: "27600 Block SE Hwy 224", lat: 45.374408, lon: -122.379038, times: ["6:56 PM", "7:55 PM", "6:39 AM", "7:37 AM", "8:38 AM", "9:38 AM", "10:38 AM", "11:39 AM"] },
  { stop_id: "2878", name: "SE Hwy 224 &amp; Bartlemay", lat: 45.378327, lon: -122.384153, times: ["6:56 PM", "7:55 PM", "6:39 AM", "7:37 AM", "8:38 AM", "9:38 AM", "10:38 AM", "11:39 AM"] },
  { stop_id: "9641", name: "SE Hwy 224 &amp; Sherman Cooper", lat: 45.380772, lon: -122.387459, times: ["6:56 PM", "7:55 PM", "6:40 AM", "7:38 AM", "8:39 AM", "9:39 AM", "10:39 AM", "11:40 AM"] },
  { stop_id: "10501", name: "26300 Block SE Hwy 224", lat: 45.383648, lon: -122.392145, times: ["6:57 PM", "7:56 PM", "6:40 AM", "7:38 AM", "8:39 AM", "9:39 AM", "10:39 AM", "11:40 AM"] },
  { stop_id: "2876", name: "SE Hwy 224 &amp; Amisigger Rd", lat: 45.386078, lon: -122.396087, times: ["6:57 PM", "7:56 PM", "6:40 AM", "7:39 AM", "8:39 AM", "9:39 AM", "10:39 AM", "11:40 AM"] },
  { stop_id: "2880", name: "SE Hwy 224 &amp; Barton Church", lat: 45.387519, lon: -122.401515, times: ["6:58 PM", "7:57 PM", "6:41 AM", "7:39 AM", "8:40 AM", "9:40 AM", "10:40 AM", "11:41 AM"] },
  { stop_id: "2882", name: "SE Hwy 224 &amp; Bakers Ferry Rd", lat: 45.389457, lon: -122.407786, times: ["6:58 PM", "7:57 PM", "6:41 AM", "7:40 AM", "8:40 AM", "9:40 AM", "10:40 AM", "11:41 AM"] },
  { stop_id: "8420", name: "SE Hwy 224 &amp; 232nd Dr", lat: 45.39452, lon: -122.422542, times: ["6:59 PM", "7:58 PM", "6:43 AM", "7:41 AM", "8:42 AM", "9:42 AM", "10:42 AM", "11:43 AM"] },
  { stop_id: "10185", name: "22600 Block SE Hwy 224", lat: 45.392613, lon: -122.430007, times: ["7:00 PM", "7:59 PM", "6:43 AM", "7:42 AM", "8:42 AM", "9:42 AM", "10:42 AM", "11:43 AM"] },
  { stop_id: "10647", name: "22000 Block SE Hwy 224", lat: 45.390592, lon: -122.435781, times: ["7:00 PM", "7:59 PM", "6:44 AM", "7:42 AM", "8:43 AM", "9:43 AM", "10:43 AM", "11:44 AM"] },
  { stop_id: "8721", name: "21700 Block SE Hwy 224", lat: 45.386691, lon: -122.440957, times: ["7:01 PM", "8:00 PM", "6:44 AM", "7:43 AM", "8:43 AM", "9:43 AM", "10:43 AM", "11:44 AM"] },
  { stop_id: "13654", name: "20300 Block SE Hwy 224", lat: 45.385386, lon: -122.45369, times: ["7:02 PM", "8:01 PM", "6:45 AM", "7:44 AM", "8:44 AM", "9:44 AM", "10:44 AM", "11:45 AM"] },
  { stop_id: "8735", name: "20000 Block SE Hwy 224", lat: 45.386995, lon: -122.456229, times: ["7:02 PM", "8:01 PM", "6:45 AM", "7:44 AM", "8:44 AM", "9:44 AM", "10:44 AM", "11:45 AM"] },
  { stop_id: "2913", name: "SE Hwy 224 &amp; 197th", lat: 45.38861, lon: -122.459467, times: ["7:02 PM", "8:01 PM", "6:46 AM", "7:44 AM", "8:45 AM", "9:45 AM", "10:45 AM", "11:46 AM"] },
  { stop_id: "12936", name: "19000 Block SE Hwy 224", lat: 45.392956, lon: -122.461057, times: ["7:02 PM", "8:01 PM", "6:46 AM", "7:45 AM", "8:45 AM", "9:45 AM", "10:45 AM", "11:46 AM"] },
  { stop_id: "2898", name: "SE Hwy 224 &amp; Marna", lat: 45.395116, lon: -122.462227, times: ["7:03 PM", "8:02 PM", "6:46 AM", "7:45 AM", "8:45 AM", "9:45 AM", "10:45 AM", "11:46 AM"] },
  { stop_id: "8795", name: "17700 Block SE Hwy 224", lat: 45.395565, lon: -122.480577, times: ["7:04 PM", "8:03 PM", "6:48 AM", "7:47 AM", "8:47 AM", "9:47 AM", "10:47 AM", "11:48 AM"] },
  { stop_id: "13113", name: "17500 Block SE Hwy 224", lat: 45.396379, lon: -122.48359, times: ["7:04 PM", "8:03 PM", "6:48 AM", "7:47 AM", "8:47 AM", "9:47 AM", "10:47 AM", "11:48 AM"] },
  { stop_id: "8736", name: "17300 Block SE Hwy 224", lat: 45.396857, lon: -122.485125, times: ["7:04 PM", "8:03 PM", "6:48 AM", "7:47 AM", "8:47 AM", "9:47 AM", "10:47 AM", "11:48 AM"] },
  { stop_id: "10695", name: "SE Hwy 224 &amp; Eilers Circle", lat: 45.396557, lon: -122.486992, times: ["7:05 PM", "8:04 PM", "6:48 AM", "7:47 AM", "8:47 AM", "9:47 AM", "10:47 AM", "11:48 AM"] },
  { stop_id: "2884", name: "16400 Block SE Hwy 224", lat: 45.39433, lon: -122.494399, times: ["7:05 PM", "8:04 PM", "6:49 AM", "7:48 AM", "8:48 AM", "9:48 AM", "10:48 AM", "11:49 AM"] },
  { stop_id: "2874", name: "SE Hwy 224 &amp; Springwater Rd", lat: 45.394689, lon: -122.49675, times: ["7:05 PM", "8:04 PM", "6:49 AM", "7:48 AM", "8:48 AM", "9:48 AM", "10:48 AM", "11:49 AM"] },
  { stop_id: "2886", name: "16000 Block SE Hwy 224", lat: 45.396688, lon: -122.498877, times: ["7:06 PM", "8:05 PM", "6:50 AM", "7:49 AM", "8:49 AM", "9:49 AM", "10:49 AM", "11:50 AM"] },
  { stop_id: "2873", name: "15700 Block SE Hwy 224", lat: 45.40124, lon: -122.500129, times: ["7:06 PM", "8:05 PM", "6:50 AM", "7:49 AM", "8:49 AM", "9:49 AM", "10:49 AM", "11:50 AM"] },
  { stop_id: "13662", name: "SE Hwy 224 &amp; Eckert Ln", lat: 45.402851, lon: -122.500449, times: ["7:06 PM", "8:05 PM", "6:51 AM", "7:50 AM", "8:50 AM", "9:50 AM", "10:50 AM", "11:51 AM"] },
  { stop_id: "13663", name: "SE Hwy 224 &amp; Goosehollow", lat: 45.405736, lon: -122.501939, times: ["7:07 PM", "8:06 PM", "6:51 AM", "7:50 AM", "8:50 AM", "9:50 AM", "10:50 AM", "11:51 AM"] },
  { stop_id: "2896", name: "SE Hwy 224 &amp; Hwy 212", lat: 45.409407, lon: -122.504885, times: ["7:08 PM", "8:06 PM", "6:52 AM", "7:51 AM", "8:51 AM", "9:51 AM", "10:51 AM", "11:52 AM"] },
  { stop_id: "2911", name: "Hwy 212/224 &amp; SE 152nd", lat: 45.409831, lon: -122.507575, times: ["7:08 PM", "8:07 PM", "6:52 AM", "7:52 AM", "8:51 AM", "9:51 AM", "10:51 AM", "11:52 AM"] },
  { stop_id: "2909", name: "Hwy 212/224 &amp; 142nd", lat: 45.4103, lon: -122.517349, times: ["7:09 PM", "8:08 PM", "6:53 AM", "7:53 AM", "8:53 AM", "9:53 AM", "10:53 AM", "11:54 AM"] },
  { stop_id: "8830", name: "Hwy 212/224 &amp; SE 135th", lat: 45.410615, lon: -122.524389, times: ["7:10 PM", "8:08 PM", "6:54 AM", "7:54 AM", "8:54 AM", "9:54 AM", "10:54 AM", "11:55 AM"] },
  { stop_id: "2890", name: "Hwy 212/224 &amp; SE 130th", lat: 45.409199, lon: -122.530279, times: ["6:11 PM", "7:10 PM", "8:09 PM", "6:55 AM", "7:55 AM", "8:55 AM", "9:55 AM", "10:55 AM"] },
  { stop_id: "11931", name: "12600 Block Hwy 212/224", lat: 45.408509, lon: -122.533027, times: ["6:11 PM", "7:11 PM", "8:09 PM", "6:55 AM", "7:56 AM", "8:55 AM", "9:55 AM", "10:55 AM"] },
  { stop_id: "2905", name: "Hwy 212 &amp; SE 122nd", lat: 45.408046, lon: -122.538713, times: ["6:12 PM", "7:11 PM", "8:10 PM", "6:56 AM", "7:56 AM", "8:56 AM", "9:56 AM", "10:56 AM"] },
  { stop_id: "2892", name: "11400 Block Hwy 212", lat: 45.408009, lon: -122.544816, times: ["6:13 PM", "7:12 PM", "8:10 PM", "6:57 AM", "7:57 AM", "8:57 AM", "9:57 AM", "10:57 AM"] },
  { stop_id: "2899", name: "10700 Block Hwy 212", lat: 45.407973, lon: -122.551883, times: ["6:13 PM", "7:13 PM", "8:11 PM", "6:58 AM", "7:58 AM", "8:57 AM", "9:57 AM", "10:57 AM"] },
  { stop_id: "2889", name: "Hwy 212 &amp; SE 102nd", lat: 45.407884, lon: -122.55928, times: ["6:14 PM", "7:14 PM", "8:12 PM", "6:59 AM", "7:59 AM", "8:58 AM", "9:58 AM", "10:58 AM"] },
  { stop_id: "2915", name: "SE Hwy 212 &amp; 82nd Dr", lat: 45.407616, lon: -122.567389, times: ["6:16 PM", "7:15 PM", "8:13 PM", "7:00 AM", "8:01 AM", "9:00 AM", "10:00 AM", "11:00 AM"] },
  { stop_id: "11251", name: "SE 82nd &amp; Sunnybrook", lat: 45.430727, lon: -122.578972, times: ["6:24 PM", "7:23 PM", "8:20 PM", "7:06 AM", "8:08 AM", "9:06 AM", "10:06 AM", "11:07 AM"] },
  { stop_id: "8049", name: "SE 82nd &amp; Sunnyside", lat: 45.432957, lon: -122.579035, times: ["6:24 PM", "7:23 PM", "8:21 PM", "7:07 AM", "8:09 AM", "9:07 AM", "10:07 AM", "11:08 AM"] },
  { stop_id: "8005", name: "SE 82nd &amp; McBride", lat: 45.435764, lon: -122.578916, times: ["6:25 PM", "7:24 PM", "8:21 PM", "7:08 AM", "8:09 AM", "9:08 AM", "10:08 AM", "11:08 AM"] },
  { stop_id: "12921", name: "Clackamas Town Center Mall", lat: 45.43731, lon: -122.573312, times: ["6:28 PM", "7:27 PM", "8:24 PM", "7:10 AM", "8:12 AM", "9:10 AM", "10:10 AM", "11:11 AM"] },
  { stop_id: "13247", name: "Clackamas Town Center TC", lat: 45.435538, lon: -122.568155, times: ["6:30 PM", "7:29 PM", "8:26 PM", "7:12 AM", "8:14 AM", "9:12 AM", "10:12 AM", "11:13 AM"] },
  { stop_id: "13248", name: "Clackamas Town Center Transit Center", lat: 45.435666, lon: -122.568707, times: ["6:31 PM", "7:30 PM", "8:27 PM", "7:13 AM", "8:15 AM", "9:13 AM", "10:13 AM", "11:14 AM"] },
]

  const polylineOut = L.polyline(shapeOutbound, {
    color: 'blue',
    weight: 4,
    opacity: 0.7
  }).addTo(map);

  map.fitBounds(polylineOut.getBounds());

  stops.forEach(stop => {
    const marker = L.circleMarker([stop.lat, stop.lon], {
      radius: 6,
      color: '#4dd0e1',
      fillColor: '#4dd0e1',
      fillOpacity: 0.9,
      weight: 1
    });

    const popupContent = `
      <strong>${stop.name}</strong><br>
      ${stop.times && stop.times.length ? stop.times.join("<br>") : "No scheduled times"}
    `;

    marker.bindPopup(popupContent);
    marker.addTo(map);
  });

  let busMarkers = {};

  async function fetchAndDisplay() {
    const res = await fetch(`https://developer.trimet.org/ws/v2/vehicles?route=${routeNumber}&appID=${apiKey}&json=true`);
    const data = await res.json();
    const buses = (data.resultSet.vehicle || []).filter(v =>
      v.routeNumber == routeNumber && v.direction == direction
    );

    Object.values(busMarkers).forEach(m => map.removeLayer(m));
    busMarkers = {};

    if (buses.length === 0) return;

    buses.forEach(bus => {
      if (!bus.latitude || !bus.longitude || !bus.blockID) return;

      const icon = L.divIcon({
        className: '',
        html: `
          <div style="text-align:center;">
            <div style="background:#0071CE;color:#fff;padding:2px 6px;border-radius:6px;font-weight:bold;">${bus.vehicleID}</div>
            <div style="width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:10px solid #00bfff;margin:auto;"></div>
          </div>
        `,
        iconSize: [40, 30],
        iconAnchor: [20, 30]
      });

      const marker = L.marker([bus.latitude, bus.longitude], { icon }).addTo(map);
      busMarkers[bus.vehicleID] = marker;
    });
  }

  fetchAndDisplay();
  setInterval(fetchAndDisplay, 15000);
  </script>

<footer class="site-footer">
  <a href="terms.html">Terms of Use</a> &nbsp;|&nbsp;
  <a href="contact.html">Contact Us</a> &nbsp;|&nbsp;
  <a href="report.html">Report a Problem</a> &nbsp;|&nbsp;
  <a href="privacy.html">Privacy Policy</a>
</footer>

  <script>
    if (!localStorage.getItem('cookieConsent')) {
      document.write(`
        <div id="cookie-banner" style="position: fixed; bottom: 0; left: 0; right: 0; background: #333; color: #fff; padding: 1rem; z-index: 1000; font-size: 0.9rem; line-height: 1.4; text-align: center; box-sizing: border-box;">
          üì¢ We use cookies to improve functionality and analyze traffic.
          By using MetroFeed, you agree to our 
          <a href='privacy.html' style='color: #4dd0e1; text-decoration: underline;'>Privacy Policy</a>.<br>
          <button onclick='localStorage.setItem("cookieConsent", "true"); document.getElementById("cookie-banner").remove();' style='margin-top: 0.5rem; background: #4dd0e1; color: #000; border: none; padding: 0.5rem 1rem; border-radius: 5px; cursor: pointer; font-weight: bold;'>OK</button>
        </div>
      `);
    }
</script>


</body>
</html>