<!DOCTYPE html>
<html lang="en">
<head>
  
<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-EL337T4JX4"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-EL337T4JX4');
</script>

<meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Route 71 - To Parkrose Transit Center | MetroFeed Portland</title>
  <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
  <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
  <style>
    html, body {
      margin: 0;
      padding: 0;
      font-family: 'Segoe UI', sans-serif;
      background-color: #0d0d0d;
      color: #cccccc;
      overflow-y: auto;
    }

    .home-button {
      position: fixed;
      top: 120px;
      left: 10px;
      background-color: #4dd0e1;
      color: #0d0d0d;
      padding: 0.5rem 1rem;
      font-weight: bold;
      border-radius: 8px;
      text-decoration: none;
      z-index: 1001;
      box-shadow: 0 0 10px #4dd0e1;
    }

    .home-button:hover {
      background-color: #00bcd4;
      color: #ffffff;
    }

    header {
      background-color: #0d0d0d;
      border-top: 4px solid #4dd0e1;
      border-bottom: 3px solid #4dd0e1;
      padding: 1rem;
      text-align: center;
    }

    header img {
      max-height: 60px;
    }

    h1 {
      text-align: center;
      margin: 1rem 0;
      font-size: 2rem;
      color: #f0f0f0;
    }

    .content-box {
      border-radius: 12px;
      padding: 0;
      margin: 0;
      background-color: #1e1e1e;
    }

    #map {
      width: 100%;
      height: 85vh;
      border: none;
      margin: 0 auto;
      display: block;
      border-radius: 8px;
    }

    .button-bar {
      display: flex;
      justify-content: center;
      margin: 1rem 0;
    }

    .button-bar a, .back-button {
      background: #4dd0e1;
      color: #0d0d0d;
      padding: 0.6rem 1.2rem;
      text-decoration: none;
      border-radius: 8px;
      font-weight: bold;
      border: none;
      cursor: pointer;
      box-shadow: 0 0 10px #4dd0e1;
    }

    .back-button:hover {
      background-color: #35c0d6;
    }

    .site-footer {
      text-align: center;
      margin-top: 3rem;
      margin-bottom: 120px;
      font-size: 0.85rem;
      color: #aaa;
    }

    .site-footer a {
      color: #00BFFF;
      text-decoration: none;
    }

    .site-footer a:hover {
      text-decoration: underline;
    }

    
    }
  </style>
</head>

<body>
  

  <header>
    <img src="MetroFeedPortlandLogo.png" alt="MetroFeed Portland">
  </header>

  <div class="disclaimer" style="margin: 1rem auto 0.5rem; max-width: 600px; font-size: 0.8rem; color: #bbb; text-align: center; padding: 0.5rem 1rem; background-color: #111; border: 1px dashed #444; border-radius: 6px;">
    ‚ö†Ô∏è This is a Beta program, work in progress. Please REPORT bugs and pretend to be impressed.
  </div>
  <div class="disclaimer" style="margin: 0 auto 1rem; max-width: 600px; font-size: 0.75rem; color: #888; text-align: center; padding: 0.25rem 1rem;">
    This tool is not affiliated with or endorsed by TriMet. For official schedules and service alerts, visit <a href="https://trimet.org" style="color:#4dd0e1;">trimet.org</a>.
  </div>

  <div style="margin: 2rem 0; text-align: center;">
    <button class="back-button" onclick="history.back()">Back</button>
  </div>

  <h1>Route 71 - To Parkrose Transit Center</h1>

  <div class="content-box">
    <div id="map"></div>
    <div style="text-align:right; font-size: 0.7rem; color: #777; margin-top: 0.5rem;">
      Data courtesy of TriMet.
    </div>
  </div>

  <script>
    if (document.referrer === "" && performance.navigation.type === 0) {
      window.location.href = "/index.html";
    }

    const apiKey = "2C4447D4A42083BCD84DE3B8E";
    const routeNumber = 71;
    const direction = parseInt(1);

    const map = L.map('map', {
      center: [45.6, -122.7],
      zoom: 12,
      minZoom: 12,
      maxZoom: 18,
      maxBounds: [[45.3, -123.1], [45.9, -122.3]],
      maxBoundsViscosity: 1.0
    });
    L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', { maxZoom: 19 }).addTo(map);

    const shapeOutbound = [
  [45.435678, -122.568589],
  [45.435564, -122.568572],
  [45.435588, -122.568668],
  [45.435572, -122.568822],
  [45.435565, -122.568898],
  [45.435528, -122.569036],
  [45.43595, -122.569104],
  [45.43607, -122.569123],
  [45.436107, -122.569129],
  [45.436264, -122.569157],
  [45.436415, -122.569182],
  [45.436537, -122.569201],
  [45.436637, -122.569217],
  [45.43683, -122.569231],
  [45.437007, -122.569226],
  [45.437081, -122.569233],
  [45.437114, -122.569251],
  [45.437139, -122.569296],
  [45.437162, -122.569347],
  [45.437175, -122.569407],
  [45.437176, -122.569469],
  [45.43718, -122.569685],
  [45.437184, -122.569903],
  [45.437189, -122.570119],
  [45.437193, -122.570335],
  [45.437198, -122.570562],
  [45.437202, -122.570785],
  [45.437206, -122.570998],
  [45.437212, -122.571197],
  [45.437216, -122.571433],
  [45.437221, -122.571651],
  [45.437222, -122.571679],
  [45.437224, -122.571863],
  [45.437225, -122.571976],
  [45.437236, -122.572096],
  [45.437243, -122.572174],
  [45.437284, -122.572368],
  [45.437386, -122.572789],
  [45.437398, -122.572993],
  [45.4374, -122.57317],
  [45.437411, -122.574006],
  [45.437414, -122.574259],
  [45.437414, -122.574347],
  [45.437416, -122.574539],
  [45.437415, -122.574575],
  [45.437412, -122.574635],
  [45.437398, -122.574718],
  [45.437375, -122.574795],
  [45.43731, -122.575012],
  [45.437277, -122.575122],
  [45.437262, -122.575233],
  [45.437255, -122.575444],
  [45.437261, -122.575546],
  [45.437263, -122.575656],
  [45.437361, -122.575662],
  [45.438135, -122.575645],
  [45.438279, -122.575642],
  [45.438279, -122.57478],
  [45.43828, -122.574742],
  [45.438278, -122.573529],
  [45.43828, -122.572969],
  [45.438281, -122.572732],
  [45.438278, -122.572139],
  [45.438276, -122.571584],
  [45.438274, -122.570955],
  [45.438384, -122.570951],
  [45.438553, -122.57095],
  [45.438645, -122.57095],
  [45.438683, -122.570952],
  [45.438713, -122.570955],
  [45.438744, -122.570958],
  [45.438772, -122.570962],
  [45.438784, -122.570964],
  [45.438819, -122.570972],
  [45.438841, -122.57098],
  [45.43893, -122.571018],
  [45.438981, -122.57104],
  [45.439151, -122.571103],
  [45.439194, -122.571119],
  [45.439362, -122.571163],
  [45.439518, -122.571196],
  [45.439566, -122.571203],
  [45.439668, -122.571211],
  [45.439727, -122.571213],
  [45.440056, -122.571213],
  [45.440488, -122.571214],
  [45.440811, -122.571209],
  [45.441029, -122.571203],
  [45.441168, -122.571198],
  [45.44124, -122.57119],
  [45.44125, -122.573122],
  [45.441251, -122.573323],
  [45.441252, -122.573492],
  [45.441258, -122.574803],
  [45.44126, -122.574901],
  [45.441262, -122.575668],
  [45.44126, -122.575766],
  [45.441258, -122.57591],
  [45.441264, -122.576731],
  [45.441265, -122.577037],
  [45.441265, -122.577263],
  [45.441269, -122.577752],
  [45.441271, -122.578042],
  [45.441274, -122.5786],
  [45.441274, -122.578704],
  [45.441274, -122.578929],
  [45.441956, -122.578928],
  [45.44225, -122.578928],
  [45.442938, -122.578927],
  [45.443581, -122.578922],
  [45.443648, -122.578921],
  [45.443899, -122.57892],
  [45.444013, -122.578919],
  [45.444168, -122.578919],
  [45.444401, -122.578917],
  [45.444533, -122.57892],
  [45.444649, -122.578922],
  [45.444861, -122.578924],
  [45.445098, -122.578926],
  [45.445221, -122.578925],
  [45.445523, -122.578922],
  [45.44563, -122.578921],
  [45.445924, -122.578916],
  [45.446049, -122.57891],
  [45.446311, -122.578896],
  [45.446495, -122.578896],
  [45.446912, -122.578897],
  [45.447028, -122.578904],
  [45.447028, -122.579222],
  [45.447029, -122.579393],
  [45.447029, -122.579453],
  [45.447029, -122.579535],
  [45.447029, -122.57957],
  [45.44703, -122.579907],
  [45.447031, -122.580065],
  [45.447034, -122.580525],
  [45.447035, -122.58078],
  [45.447035, -122.580934],
  [45.447037, -122.581234],
  [45.447038, -122.581478],
  [45.447039, -122.581885],
  [45.447041, -122.582238],
  [45.447042, -122.582545],
  [45.447044, -122.583039],
  [45.447044, -122.583298],
  [45.447047, -122.58408],
  [45.447048, -122.584246],
  [45.44705, -122.585145],
  [45.44705, -122.585782],
  [45.447053, -122.586326],
  [45.447061, -122.587197],
  [45.447061, -122.587301],
  [45.44706, -122.588192],
  [45.447062, -122.588619],
  [45.447062, -122.588753],
  [45.447067, -122.590161],
  [45.447069, -122.590421],
  [45.447088, -122.59064],
  [45.44711, -122.590787],
  [45.447129, -122.590893],
  [45.44716, -122.591015],
  [45.447211, -122.591184],
  [45.447314, -122.591414],
  [45.447587, -122.591926],
  [45.447673, -122.592084],
  [45.447738, -122.592224],
  [45.447803, -122.592391],
  [45.44785, -122.592544],
  [45.447862, -122.592596],
  [45.447892, -122.592722],
  [45.447905, -122.592823],
  [45.44798, -122.592812],
  [45.448182, -122.5928],
  [45.448422, -122.5928],
  [45.448731, -122.592834],
  [45.448917, -122.592847],
  [45.449653, -122.592856],
  [45.449812, -122.592857],
  [45.44988, -122.592858],
  [45.450471, -122.592859],
  [45.450597, -122.59286],
  [45.451132, -122.592853],
  [45.45147, -122.592857],
  [45.451832, -122.592856],
  [45.452188, -122.592855],
  [45.45246, -122.592855],
  [45.452554, -122.592855],
  [45.452583, -122.592855],
  [45.452897, -122.592858],
  [45.45316, -122.592855],
  [45.453239, -122.592853],
  [45.453295, -122.592856],
  [45.453592, -122.592866],
  [45.454287, -122.592854],
  [45.454888, -122.592858],
  [45.455026, -122.592855],
  [45.455424, -122.592849],
  [45.455497, -122.592848],
  [45.455653, -122.592845],
  [45.455715, -122.592844],
  [45.455847, -122.592842],
  [45.455865, -122.592841],
  [45.455962, -122.592845],
  [45.456055, -122.592848],
  [45.456168, -122.592848],
  [45.456204, -122.592847],
  [45.45682, -122.592846],
  [45.457719, -122.592843],
  [45.458597, -122.59285],
  [45.458591, -122.592014],
  [45.45859, -122.591944],
  [45.458564, -122.589834],
  [45.458567, -122.589665],
  [45.458574, -122.589588],
  [45.458584, -122.589531],
  [45.458606, -122.589475],
  [45.458633, -122.589438],
  [45.458679, -122.589396],
  [45.458737, -122.589371],
  [45.458796, -122.589359],
  [45.45894, -122.589356],
  [45.459338, -122.589359],
  [45.46004, -122.589369],
  [45.460764, -122.589375],
  [45.461099, -122.589377],
  [45.461448, -122.589377],
  [45.461495, -122.589376],
  [45.4617, -122.589374],
  [45.462359, -122.589366],
  [45.463272, -122.589372],
  [45.463657, -122.589371],
  [45.46412, -122.589371],
  [45.46417, -122.589371],
  [45.464261, -122.589371],
  [45.464331, -122.589372],
  [45.464851, -122.589371],
  [45.465056, -122.589369],
  [45.46542, -122.58937],
  [45.465843, -122.589367],
  [45.46609, -122.589366],
  [45.46634, -122.589365],
  [45.46639, -122.589365],
  [45.466473, -122.589364],
  [45.466836, -122.589363],
  [45.467033, -122.589363],
  [45.467874, -122.589362],
  [45.468231, -122.589362],
  [45.468576, -122.589362],
  [45.468654, -122.589358],
  [45.468652, -122.589459],
  [45.46865, -122.589815],
  [45.468646, -122.590333],
  [45.468645, -122.591319],
  [45.468644, -122.592081],
  [45.468644, -122.592289],
  [45.468641, -122.593256],
  [45.468642, -122.594226],
  [45.468637, -122.594886],
  [45.468638, -122.595115],
  [45.468638, -122.595207],
  [45.468636, -122.595418],
  [45.468636, -122.595865],
  [45.468636, -122.59618],
  [45.468633, -122.596835],
  [45.468633, -122.597152],
  [45.468633, -122.597807],
  [45.468632, -122.598124],
  [45.468628, -122.598558],
  [45.468628, -122.598882],
  [45.468628, -122.599091],
  [45.468628, -122.599569],
  [45.468628, -122.599824],
  [45.468631, -122.602069],
  [45.468631, -122.602183],
  [45.468633, -122.604794],
  [45.468634, -122.605011],
  [45.468635, -122.605307],
  [45.468635, -122.606457],
  [45.468635, -122.606675],
  [45.468636, -122.60698],
  [45.468637, -122.607351],
  [45.468637, -122.607641],
  [45.468636, -122.608053],
  [45.468638, -122.60851],
  [45.468638, -122.608607],
  [45.468639, -122.608672],
  [45.468639, -122.60922],
  [45.46864, -122.609722],
  [45.468641, -122.610009],
  [45.468861, -122.610009],
  [45.469335, -122.610008],
  [45.469806, -122.610007],
  [45.470025, -122.610003],
  [45.470476, -122.610002],
  [45.471095, -122.610004],
  [45.471179, -122.610004],
  [45.471878, -122.609997],
  [45.47194, -122.609994],
  [45.472065, -122.609979],
  [45.472218, -122.609959],
  [45.472361, -122.60993],
  [45.472489, -122.609899],
  [45.472626, -122.609857],
  [45.473107, -122.609691],
  [45.473568, -122.609526],
  [45.473792, -122.609446],
  [45.473944, -122.609392],
  [45.474431, -122.60922],
  [45.475303, -122.608914],
  [45.475732, -122.60876],
  [45.475751, -122.608754],
  [45.47583, -122.608735],
  [45.475904, -122.608726],
  [45.476075, -122.608727],
  [45.476281, -122.608737],
  [45.476541, -122.608742],
  [45.477006, -122.60874],
  [45.477425, -122.608741],
  [45.477488, -122.608741],
  [45.477711, -122.608743],
  [45.47788, -122.608743],
  [45.478126, -122.608743],
  [45.47842, -122.608741],
  [45.478581, -122.608734],
  [45.478696, -122.608734],
  [45.478774, -122.608734],
  [45.479059, -122.608733],
  [45.479161, -122.608735],
  [45.479254, -122.608736],
  [45.479543, -122.608736],
  [45.479559, -122.608736],
  [45.479902, -122.608735],
  [45.480067, -122.608736],
  [45.480493, -122.608737],
  [45.480617, -122.608736],
  [45.480942, -122.608737],
  [45.481359, -122.608738],
  [45.481713, -122.608741],
  [45.481823, -122.608742],
  [45.48204, -122.608739],
  [45.482081, -122.608739],
  [45.482751, -122.608741],
  [45.482942, -122.60874],
  [45.483045, -122.608739],
  [45.483452, -122.608744],
  [45.483852, -122.608744],
  [45.484252, -122.608746],
  [45.484379, -122.608747],
  [45.48452, -122.608748],
  [45.484666, -122.60875],
  [45.485012, -122.608747],
  [45.485416, -122.60875],
  [45.48568, -122.608747],
  [45.486607, -122.608753],
  [45.486674, -122.608755],
  [45.486812, -122.60876],
  [45.487149, -122.608783],
  [45.487827, -122.608831],
  [45.487905, -122.608836],
  [45.488476, -122.608876],
  [45.489103, -122.608919],
  [45.489694, -122.608958],
  [45.489978, -122.608979],
  [45.490077, -122.608987],
  [45.49023, -122.608998],
  [45.490294, -122.609001],
  [45.490357, -122.609005],
  [45.490589, -122.609006],
  [45.491348, -122.609],
  [45.491965, -122.609003],
  [45.492296, -122.609006],
  [45.492378, -122.609007],
  [45.492737, -122.609009],
  [45.493146, -122.609008],
  [45.493514, -122.60901],
  [45.493895, -122.609011],
  [45.494419, -122.609019],
  [45.494585, -122.609021],
  [45.495154, -122.609034],
  [45.49521, -122.609035],
  [45.495348, -122.609036],
  [45.495462, -122.609037],
  [45.495712, -122.609038],
  [45.496145, -122.609041],
  [45.496315, -122.609042],
  [45.496348, -122.609042],
  [45.496626, -122.609044],
  [45.496722, -122.609045],
  [45.49683, -122.609045],
  [45.497003, -122.609046],
  [45.497162, -122.609048],
  [45.497171, -122.609048],
  [45.49749, -122.609049],
  [45.497841, -122.609049],
  [45.498915, -122.609047],
  [45.499245, -122.609044],
  [45.500284, -122.609036],
  [45.501425, -122.609033],
  [45.501579, -122.609032],
  [45.501798, -122.60903],
  [45.502018, -122.609027],
  [45.502457, -122.60902],
  [45.503045, -122.60901],
  [45.503085, -122.60901],
  [45.503437, -122.609004],
  [45.504252, -122.609002],
  [45.504365, -122.609001],
  [45.504826, -122.609001],
  [45.505143, -122.609001],
  [45.505317, -122.609002],
  [45.505363, -122.608965],
  [45.50546, -122.608967],
  [45.505507, -122.609008],
  [45.505901, -122.609022],
  [45.506682, -122.609048],
  [45.507236, -122.609061],
  [45.50789, -122.60905],
  [45.508029, -122.609048],
  [45.508032, -122.608776],
  [45.50804, -122.608118],
  [45.508047, -122.607608],
  [45.508047, -122.607085],
  [45.508047, -122.606591],
  [45.508031, -122.606562],
  [45.508024, -122.606524],
  [45.508024, -122.606464],
  [45.50801, -122.606176],
  [45.508008, -122.6061],
  [45.508018, -122.606044],
  [45.508051, -122.606011],
  [45.508053, -122.605529],
  [45.508059, -122.605107],
  [45.508061, -122.604962],
  [45.508059, -122.604451],
  [45.508059, -122.603896],
  [45.508053, -122.603897],
  [45.508047, -122.603896],
  [45.508042, -122.603894],
  [45.508031, -122.603889],
  [45.508026, -122.603884],
  [45.508021, -122.603879],
  [45.508018, -122.603873],
  [45.508014, -122.603866],
  [45.508011, -122.603859],
  [45.508008, -122.603843],
  [45.508007, -122.603828],
  [45.508009, -122.60381],
  [45.508011, -122.603803],
  [45.508014, -122.603795],
  [45.508018, -122.603789],
  [45.508021, -122.603783],
  [45.508026, -122.603778],
  [45.508031, -122.603773],
  [45.508042, -122.603767],
  [45.508053, -122.603765],
  [45.508063, -122.603766],
  [45.508065, -122.603501],
  [45.50807, -122.602819],
  [45.508071, -122.602652],
  [45.508073, -122.601765],
  [45.508141, -122.601766],
  [45.508499, -122.601774],
  [45.508605, -122.601777],
  [45.509431, -122.601796],
  [45.511842, -122.601859],
  [45.511905, -122.60186],
  [45.512612, -122.601882],
  [45.512903, -122.601892],
  [45.51326, -122.601899],
  [45.513998, -122.601915],
  [45.514034, -122.601915],
  [45.514086, -122.601919],
  [45.514143, -122.601923],
  [45.514862, -122.601946],
  [45.515245, -122.601954],
  [45.515372, -122.601958],
  [45.515512, -122.601962],
  [45.516116, -122.60198],
  [45.516682, -122.602003],
  [45.516759, -122.602014],
  [45.516825, -122.602023],
  [45.517067, -122.60203],
  [45.517156, -122.602033],
  [45.519004, -122.602089],
  [45.519189, -122.602095],
  [45.519255, -122.602098],
  [45.519255, -122.602364],
  [45.519329, -122.602368],
  [45.519373, -122.602377],
  [45.519406, -122.602379],
  [45.519608, -122.602378],
  [45.519845, -122.602373],
  [45.520124, -122.602354],
  [45.521634, -122.60233],
  [45.522211, -122.60232],
  [45.52259, -122.602337],
  [45.522737, -122.602336],
  [45.522787, -122.602336],
  [45.522868, -122.602334],
  [45.522955, -122.602332],
  [45.523143, -122.60233],
  [45.523376, -122.602317],
  [45.523771, -122.602295],
  [45.524215, -122.602288],
  [45.52491, -122.602278],
  [45.525031, -122.602276],
  [45.525363, -122.602272],
  [45.525639, -122.60228],
  [45.525718, -122.602279],
  [45.525822, -122.602277],
  [45.526348, -122.602268],
  [45.526481, -122.602265],
  [45.526582, -122.602264],
  [45.526952, -122.602262],
  [45.527219, -122.602274],
  [45.527957, -122.602265],
  [45.528217, -122.602259],
  [45.528312, -122.602257],
  [45.528642, -122.602246],
  [45.52895, -122.602239],
  [45.528987, -122.602238],
  [45.529559, -122.602224],
  [45.530319, -122.602214],
  [45.531001, -122.602207],
  [45.531299, -122.6022],
  [45.531637, -122.602193],
  [45.532284, -122.602184],
  [45.533011, -122.602173],
  [45.533461, -122.602167],
  [45.533633, -122.602165],
  [45.533707, -122.602163],
  [45.533707, -122.602281],
  [45.533707, -122.602656],
  [45.533708, -122.603123],
  [45.533708, -122.603182],
  [45.533709, -122.603702],
  [45.53371, -122.60406],
  [45.533712, -122.604539],
  [45.533713, -122.604648],
  [45.533714, -122.604754],
  [45.533782, -122.604752],
  [45.533893, -122.604747],
  [45.534067, -122.604725],
  [45.534149, -122.604723],
  [45.534372, -122.604719],
  [45.535058, -122.604703],
  [45.536419, -122.604683],
  [45.536441, -122.604683],
  [45.536536, -122.604681],
  [45.536632, -122.604678],
  [45.537725, -122.604664],
  [45.538732, -122.604651],
  [45.538815, -122.604645],
  [45.538904, -122.604639],
  [45.538949, -122.604638],
  [45.539002, -122.604633],
  [45.539029, -122.60463],
  [45.53912, -122.604622],
  [45.539376, -122.604619],
  [45.539771, -122.604614],
  [45.539937, -122.604603],
  [45.540138, -122.604598],
  [45.540465, -122.604594],
  [45.540645, -122.604586],
  [45.540951, -122.604581],
  [45.541164, -122.604573],
  [45.54167, -122.604564],
  [45.541901, -122.604564],
  [45.542113, -122.604567],
  [45.542225, -122.604591],
  [45.542387, -122.604605],
  [45.542671, -122.604597],
  [45.542676, -122.604597],
  [45.542859, -122.604594],
  [45.543706, -122.604591],
  [45.544193, -122.604587],
  [45.544621, -122.604588],
  [45.54528, -122.604581],
  [45.545377, -122.60458],
  [45.546915, -122.604568],
  [45.547536, -122.604562],
  [45.547938, -122.604558],
  [45.548027, -122.604558],
  [45.548178, -122.604558],
  [45.548244, -122.60456],
  [45.548311, -122.604563],
  [45.548958, -122.604567],
  [45.549668, -122.60456],
  [45.550387, -122.604547],
  [45.550954, -122.604535],
  [45.551014, -122.604529],
  [45.551028, -122.604526],
  [45.551095, -122.604512],
  [45.551164, -122.604476],
  [45.551219, -122.604441],
  [45.551495, -122.60421],
  [45.551829, -122.603928],
  [45.552493, -122.60337],
  [45.552717, -122.603181],
  [45.553889, -122.602194],
  [45.554428, -122.601741],
  [45.554665, -122.601542],
  [45.554805, -122.601422],
  [45.554987, -122.601267],
  [45.555061, -122.601211],
  [45.555359, -122.600984],
  [45.555373, -122.600974],
  [45.555466, -122.600891],
  [45.555468, -122.600679],
  [45.555465, -122.600137],
  [45.555464, -122.599959],
  [45.555456, -122.599272],
  [45.555453, -122.598302],
  [45.555452, -122.597393],
  [45.555452, -122.597288],
  [45.555451, -122.596278],
  [45.55545, -122.595778],
  [45.555448, -122.595249],
  [45.555447, -122.594044],
  [45.555446, -122.593351],
  [45.555446, -122.593232],
  [45.555446, -122.592645],
  [45.555445, -122.592214],
  [45.555443, -122.591198],
  [45.555441, -122.590182],
  [45.55544, -122.589274],
  [45.55544, -122.589177],
  [45.55544, -122.589001],
  [45.555439, -122.588743],
  [45.555439, -122.587745],
  [45.555437, -122.586767],
  [45.555436, -122.585718],
  [45.555435, -122.584706],
  [45.555432, -122.583834],
  [45.555432, -122.583688],
  [45.555431, -122.582678],
  [45.555429, -122.581629],
  [45.555429, -122.580641],
  [45.555427, -122.579632],
  [45.555423, -122.578806],
  [45.555423, -122.57876],
  [45.555425, -122.578617],
  [45.555428, -122.578477],
  [45.555422, -122.57763],
  [45.555419, -122.576655],
  [45.555417, -122.575768],
  [45.555416, -122.575671],
  [45.555413, -122.574702],
  [45.555413, -122.574205],
  [45.555418, -122.574058],
  [45.555428, -122.573933],
  [45.55544, -122.57384],
  [45.555458, -122.573726],
  [45.555589, -122.573023],
  [45.555697, -122.572448],
  [45.555718, -122.572333],
  [45.5558, -122.571893],
  [45.555818, -122.571767],
  [45.55583, -122.571653],
  [45.555834, -122.571562],
  [45.555835, -122.571467],
  [45.555833, -122.571346],
  [45.555819, -122.571219],
  [45.555802, -122.571108],
  [45.555781, -122.571006],
  [45.555689, -122.570668],
  [45.555917, -122.570115],
  [45.556058, -122.569766],
  [45.556211, -122.56939],
  [45.556436, -122.568835],
  [45.556663, -122.568269],
  [45.556821, -122.567883],
  [45.556924, -122.567621],
  [45.55696, -122.567528],
  [45.557131, -122.567108],
  [45.557598, -122.565933],
  [45.557792, -122.565434],
  [45.557894, -122.565169],
  [45.558138, -122.564539],
  [45.558332, -122.564046],
  [45.558367, -122.563954],
  [45.558582, -122.564109],
  [45.558747, -122.564229],
  [45.558862, -122.564329],
  [45.558888, -122.564384],
  [45.558895, -122.564443],
  [45.558884, -122.56449],
  [45.558847, -122.56455],
  [45.558797, -122.564613],
  [45.558637, -122.564812],
  [45.55842, -122.565084],
  [45.558312, -122.565188],
  [45.558262, -122.565211]
];

const stopNames = {
  "67": "SE Alberta &amp; 70th",
  "394": "SE Bell &amp; Our Ct",
  "395": "SE Bell &amp; Johnson Creek",
  "397": "SE Bell &amp; Pierce",
  "984": "8600 Block SE Causey",
  "989": "SE Causey &amp; 82nd",
  "1240": "NE Cully &amp; Prescott",
  "1244": "NE Cully &amp; Mason",
  "1731": "SE Flavel &amp; 52nd",
  "1737": "SE Flavel &amp; 57th",
  "1740": "SE Flavel &amp; 60th",
  "1743": "SE Flavel &amp; 62nd",
  "1749": "SE Flavel &amp; 66th",
  "1755": "SE Flavel &amp; 72nd",
  "2432": "NE Halsey &amp; 57th",
  "3228": "SE King &amp; Fuller",
  "3229": "SE King &amp; Bell",
  "3254": "SE King &amp; 77th",
  "3403": "SE Lincoln &amp; 57th",
  "4744": "NE Prescott &amp; 64th",
  "4748": "NE Prescott &amp; 68th",
  "4752": "NE Prescott &amp; 72nd",
  "4756": "NE Prescott &amp; 77th",
  "4760": "NE Prescott &amp; 82nd",
  "4762": "NE Prescott &amp; 85th",
  "4764": "NE Prescott &amp; 88th",
  "5051": "NE Sandy &amp; Prescott",
  "7669": "SE 52nd &amp; Boise",
  "7675": "SE 52nd &amp; Cooper",
  "7678": "SE 52nd &amp; Division",
  "7680": "SE 52nd &amp; Duke",
  "7683": "SE 52nd &amp; Foster",
  "7685": "SE 52nd &amp; Franklin",
  "7690": "SE 52nd &amp; Harold",
  "7692": "SE 52nd &amp; Holgate",
  "7695": "SE 52nd &amp; Lincoln",
  "7702": "SE 52nd &amp; Ogden",
  "7704": "SE 52nd &amp; Powell",
  "7708": "SE 52nd &amp; Reedway",
  "7713": "SE 52nd &amp; Schiller",
  "7714": "SE 52nd &amp; Steele",
  "7719": "SE 52nd &amp; Tolman",
  "7721": "SE 52nd &amp; Woodstock",
  "7722": "SE 52nd &amp; Taggart Ct",
  "7732": "NE 57th &amp; Fremont",
  "7734": "NE 57th &amp; Hancock",
  "7737": "NE 57th &amp; Sandy",
  "7740": "NE 57th &amp; Siskiyou",
  "7743": "NE 57th &amp; Thompson",
  "7812": "SE 60th &amp; Belmont",
  "7815": "SE 60th &amp; E Burnside",
  "7818": "NE 60th &amp; Glisan",
  "7820": "NE 60th &amp; Halsey",
  "7821": "NE 60th &amp; Hassalo",
  "7823": "SE 60th &amp; Hawthorne",
  "7827": "NE 60th &amp; 60th Ave MAX Stn/I-84",
  "7830": "SE 60th &amp; Salmon",
  "7832": "SE 60th &amp; Stark",
  "7881": "SE 72nd &amp; Lexington",
  "7891": "SE 72nd &amp; Tenino",
  "7920": "SE 82nd &amp; Boyer Drive",
  "8659": "SE 90th &amp; Monterey",
  "8677": "SE 90th &amp; Causey",
  "9611": "NE 57th &amp; Failing",
  "10850": "Parkrose/ Sumner Transit Center ",
  "10853": "Parkrose/ Sumner Transit Center",
  "12922": "Clackamas Town Center Mall",
  "12956": "SE King &amp; Cook Ct",
  "13024": "SE Flavel &amp; 69th",
  "13248": "Clackamas Town Center Transit Center",
  "13249": "SE 60th &amp; Harrison",
  "13904": "SE 72nd &amp; Clatsop"
};

const stops = [
  { stop_id: "13248", name: "Clackamas Town Center Transit Center", lat: 45.435666, lon: -122.568707, times: ["5:12 AM", "5:44 AM", "6:14 AM", "6:43 AM", "7:13 AM", "7:43 AM", "8:14 AM", "8:43 AM"] },
  { stop_id: "12922", name: "Clackamas Town Center Mall", lat: 45.437504, lon: -122.574003, times: ["5:15 AM", "5:47 AM", "6:17 AM", "6:46 AM", "7:16 AM", "7:46 AM", "8:17 AM", "8:46 AM"] },
  { stop_id: "8659", name: "SE 90th &amp; Monterey", lat: 45.438792, lon: -122.570899, times: ["5:16 AM", "5:48 AM", "6:18 AM", "6:47 AM", "7:17 AM", "7:47 AM", "8:18 AM", "8:47 AM"] },
  { stop_id: "8677", name: "SE 90th &amp; Causey", lat: 45.441028, lon: -122.571117, times: ["5:16 AM", "5:48 AM", "6:18 AM", "6:47 AM", "7:17 AM", "7:47 AM", "8:18 AM", "8:47 AM"] },
  { stop_id: "984", name: "8600 Block SE Causey", lat: 45.441306, lon: -122.573491, times: ["5:16 AM", "5:48 AM", "6:18 AM", "6:47 AM", "7:17 AM", "7:47 AM", "8:18 AM", "8:47 AM"] },
  { stop_id: "989", name: "SE Causey &amp; 82nd", lat: 45.441362, lon: -122.5786, times: ["5:17 AM", "5:49 AM", "6:19 AM", "6:48 AM", "7:18 AM", "7:48 AM", "8:19 AM", "8:48 AM"] },
  { stop_id: "7920", name: "SE 82nd &amp; Boyer Drive", lat: 45.443648, lon: -122.578692, times: ["5:17 AM", "5:49 AM", "6:19 AM", "6:48 AM", "7:18 AM", "7:48 AM", "8:19 AM", "8:49 AM"] },
  { stop_id: "3228", name: "SE King &amp; Fuller", lat: 45.447107, lon: -122.580065, times: ["5:18 AM", "5:50 AM", "6:20 AM", "6:49 AM", "7:19 AM", "7:49 AM", "8:20 AM", "8:49 AM"] },
  { stop_id: "3254", name: "SE King &amp; 77th", lat: 45.447127, lon: -122.584081, times: ["5:19 AM", "5:51 AM", "6:21 AM", "6:50 AM", "7:20 AM", "7:50 AM", "8:21 AM", "8:50 AM"] },
  { stop_id: "12956", name: "SE King &amp; Cook Ct", lat: 45.44718, lon: -122.588618, times: ["5:19 AM", "5:51 AM", "6:21 AM", "6:50 AM", "7:20 AM", "7:50 AM", "8:21 AM", "8:51 AM"] },
  { stop_id: "3229", name: "SE King &amp; Bell", lat: 45.447919, lon: -122.592566, times: ["5:20 AM", "5:52 AM", "6:22 AM", "6:51 AM", "7:21 AM", "7:51 AM", "8:22 AM", "8:51 AM"] },
  { stop_id: "394", name: "SE Bell &amp; Our Ct", lat: 45.449812, lon: -122.592753, times: ["5:20 AM", "5:52 AM", "6:22 AM", "6:51 AM", "7:21 AM", "7:51 AM", "8:22 AM", "8:52 AM"] },
  { stop_id: "397", name: "SE Bell &amp; Pierce", lat: 45.452461, lon: -122.592761, times: ["5:21 AM", "5:53 AM", "6:23 AM", "6:52 AM", "7:22 AM", "7:52 AM", "8:23 AM", "8:52 AM"] },
  { stop_id: "395", name: "SE Bell &amp; Johnson Creek", lat: 45.455846, lon: -122.592743, times: ["5:21 AM", "5:53 AM", "6:23 AM", "6:52 AM", "7:22 AM", "7:52 AM", "8:23 AM", "8:53 AM"] },
  { stop_id: "67", name: "SE Alberta &amp; 70th", lat: 45.45854, lon: -122.592013, times: ["5:22 AM", "5:54 AM", "6:24 AM", "6:53 AM", "7:23 AM", "7:53 AM", "8:24 AM", "8:53 AM"] },
  { stop_id: "13904", name: "SE 72nd &amp; Clatsop", lat: 45.461699, lon: -122.589282, times: ["5:23 AM", "5:55 AM", "6:25 AM", "6:54 AM", "7:24 AM", "7:54 AM", "8:25 AM", "8:54 AM"] },
  { stop_id: "7891", name: "SE 72nd &amp; Tenino", lat: 45.464261, lon: -122.589278, times: ["5:24 AM", "5:56 AM", "6:26 AM", "6:55 AM", "7:25 AM", "7:55 AM", "8:26 AM", "8:55 AM"] },
  { stop_id: "7881", name: "SE 72nd &amp; Lexington", lat: 45.466473, lon: -122.589263, times: ["5:25 AM", "5:57 AM", "6:27 AM", "6:56 AM", "7:26 AM", "7:56 AM", "8:27 AM", "8:56 AM"] },
  { stop_id: "1755", name: "SE Flavel &amp; 72nd", lat: 45.468723, lon: -122.589815, times: ["5:25 AM", "5:57 AM", "6:27 AM", "6:56 AM", "7:26 AM", "7:56 AM", "8:27 AM", "8:57 AM"] },
  { stop_id: "13024", name: "SE Flavel &amp; 69th", lat: 45.468718, lon: -122.592095, times: ["5:26 AM", "5:58 AM", "6:28 AM", "6:57 AM", "7:27 AM", "7:57 AM", "8:28 AM", "8:58 AM"] },
  { stop_id: "1749", name: "SE Flavel &amp; 66th", lat: 45.468712, lon: -122.595115, times: ["5:27 AM", "5:59 AM", "6:29 AM", "6:58 AM", "7:28 AM", "7:58 AM", "8:29 AM", "8:59 AM"] },
  { stop_id: "1743", name: "SE Flavel &amp; 62nd", lat: 45.468697, lon: -122.599821, times: ["5:28 AM", "6:00 AM", "6:30 AM", "6:59 AM", "7:29 AM", "7:59 AM", "8:30 AM", "9:00 AM"] },
  { stop_id: "1740", name: "SE Flavel &amp; 60th", lat: 45.468713, lon: -122.602068, times: ["5:29 AM", "6:01 AM", "6:31 AM", "7:00 AM", "7:30 AM", "8:00 AM", "8:31 AM", "9:00 AM"] },
  { stop_id: "1737", name: "SE Flavel &amp; 57th", lat: 45.468701, lon: -122.605008, times: ["5:29 AM", "6:01 AM", "6:31 AM", "7:00 AM", "7:30 AM", "8:00 AM", "8:31 AM", "9:01 AM"] },
  { stop_id: "1731", name: "SE Flavel &amp; 52nd", lat: 45.468722, lon: -122.609721, times: ["5:31 AM", "6:03 AM", "6:33 AM", "7:02 AM", "7:32 AM", "8:02 AM", "8:33 AM", "9:03 AM"] },
  { stop_id: "7702", name: "SE 52nd &amp; Ogden", lat: 45.471092, lon: -122.609875, times: ["5:31 AM", "6:03 AM", "6:33 AM", "7:02 AM", "7:32 AM", "8:02 AM", "8:33 AM", "9:03 AM"] },
  { stop_id: "7675", name: "SE 52nd &amp; Cooper", lat: 45.473767, lon: -122.609328, times: ["5:32 AM", "6:04 AM", "6:34 AM", "7:03 AM", "7:33 AM", "8:03 AM", "8:34 AM", "9:04 AM"] },
  { stop_id: "7680", name: "SE 52nd &amp; Duke", lat: 45.475706, lon: -122.60864, times: ["5:33 AM", "6:05 AM", "6:35 AM", "7:04 AM", "7:34 AM", "8:04 AM", "8:35 AM", "9:05 AM"] },
  { stop_id: "7719", name: "SE 52nd &amp; Tolman", lat: 45.477421, lon: -122.608633, times: ["5:33 AM", "6:05 AM", "6:35 AM", "7:04 AM", "7:34 AM", "8:04 AM", "8:35 AM", "9:05 AM"] },
  { stop_id: "7721", name: "SE 52nd &amp; Woodstock", lat: 45.479539, lon: -122.60864, times: ["5:34 AM", "6:06 AM", "6:36 AM", "7:05 AM", "7:35 AM", "8:05 AM", "8:36 AM", "9:06 AM"] },
  { stop_id: "7708", name: "SE 52nd &amp; Reedway", lat: 45.481709, lon: -122.608641, times: ["5:34 AM", "6:06 AM", "6:36 AM", "7:05 AM", "7:35 AM", "8:05 AM", "8:36 AM", "9:06 AM"] },
  { stop_id: "7690", name: "SE 52nd &amp; Harold", lat: 45.482938, lon: -122.608653, times: ["5:35 AM", "6:07 AM", "6:37 AM", "7:06 AM", "7:36 AM", "8:06 AM", "8:37 AM", "9:07 AM"] },
  { stop_id: "7714", name: "SE 52nd &amp; Steele", lat: 45.484516, lon: -122.608639, times: ["5:35 AM", "6:07 AM", "6:37 AM", "7:06 AM", "7:36 AM", "8:06 AM", "8:37 AM", "9:07 AM"] },
  { stop_id: "7713", name: "SE 52nd &amp; Schiller", lat: 45.48783, lon: -122.608748, times: ["5:36 AM", "6:08 AM", "6:38 AM", "7:07 AM", "7:37 AM", "8:07 AM", "8:38 AM", "9:08 AM"] },
  { stop_id: "7692", name: "SE 52nd &amp; Holgate", lat: 45.489981, lon: -122.608898, times: ["5:37 AM", "6:09 AM", "6:39 AM", "7:08 AM", "7:38 AM", "8:08 AM", "8:39 AM", "9:09 AM"] },
  { stop_id: "7669", name: "SE 52nd &amp; Boise", lat: 45.492294, lon: -122.608924, times: ["5:38 AM", "6:10 AM", "6:40 AM", "7:09 AM", "7:39 AM", "8:09 AM", "8:40 AM", "9:10 AM"] },
  { stop_id: "7683", name: "SE 52nd &amp; Foster", lat: 45.495348, lon: -122.608942, times: ["11:01 PM", "5:39 AM", "6:11 AM", "6:41 AM", "7:10 AM", "7:40 AM", "8:10 AM", "8:41 AM"] },
  { stop_id: "7704", name: "SE 52nd &amp; Powell", lat: 45.497162, lon: -122.608957, times: ["11:02 PM", "5:40 AM", "6:12 AM", "6:42 AM", "7:11 AM", "7:41 AM", "8:11 AM", "8:42 AM"] },
  { stop_id: "7685", name: "SE 52nd &amp; Franklin", lat: 45.499245, lon: -122.608956, times: ["11:03 PM", "5:41 AM", "6:13 AM", "6:43 AM", "7:12 AM", "7:42 AM", "8:12 AM", "8:43 AM"] },
  { stop_id: "7722", name: "SE 52nd &amp; Taggart Ct", lat: 45.501797, lon: -122.608938, times: ["11:03 PM", "5:41 AM", "6:13 AM", "6:43 AM", "7:12 AM", "7:42 AM", "8:12 AM", "8:43 AM"] },
  { stop_id: "7678", name: "SE 52nd &amp; Division", lat: 45.505143, lon: -122.608907, times: ["11:05 PM", "5:43 AM", "6:15 AM", "6:45 AM", "7:14 AM", "7:44 AM", "8:14 AM", "8:45 AM"] },
  { stop_id: "7695", name: "SE 52nd &amp; Lincoln", lat: 45.507889, lon: -122.608977, times: ["11:05 PM", "5:43 AM", "6:15 AM", "6:45 AM", "7:14 AM", "7:44 AM", "8:14 AM", "8:45 AM"] },
  { stop_id: "3403", name: "SE Lincoln &amp; 57th", lat: 45.508005, lon: -122.605104, times: ["11:06 PM", "5:44 AM", "6:16 AM", "6:46 AM", "7:15 AM", "7:45 AM", "8:15 AM", "8:46 AM"] },
  { stop_id: "13249", name: "SE 60th &amp; Harrison", lat: 45.508498, lon: -122.601722, times: ["11:07 PM", "5:45 AM", "6:17 AM", "6:47 AM", "7:16 AM", "7:46 AM", "8:16 AM", "8:47 AM"] },
  { stop_id: "7823", name: "SE 60th &amp; Hawthorne", lat: 45.511844, lon: -122.601801, times: ["11:09 PM", "5:47 AM", "6:19 AM", "6:49 AM", "7:18 AM", "7:48 AM", "8:18 AM", "8:49 AM"] },
  { stop_id: "7830", name: "SE 60th &amp; Salmon", lat: 45.514, lon: -122.601853, times: ["11:09 PM", "5:47 AM", "6:19 AM", "6:49 AM", "7:18 AM", "7:48 AM", "8:18 AM", "8:49 AM"] },
  { stop_id: "7812", name: "SE 60th &amp; Belmont", lat: 45.517144, lon: -122.601945, times: ["11:10 PM", "5:48 AM", "6:20 AM", "6:50 AM", "7:19 AM", "7:49 AM", "8:19 AM", "8:50 AM"] },
  { stop_id: "7832", name: "SE 60th &amp; Stark", lat: 45.519005, lon: -122.602, times: ["11:11 PM", "5:49 AM", "6:21 AM", "6:51 AM", "7:20 AM", "7:50 AM", "8:20 AM", "8:51 AM"] },
  { stop_id: "7815", name: "SE 60th &amp; E Burnside", lat: 45.522737, lon: -122.602228, times: ["11:12 PM", "5:50 AM", "6:22 AM", "6:52 AM", "7:21 AM", "7:51 AM", "8:21 AM", "8:52 AM"] },
  { stop_id: "7818", name: "NE 60th &amp; Glisan", lat: 45.526344, lon: -122.602177, times: ["11:14 PM", "5:52 AM", "6:24 AM", "6:54 AM", "7:23 AM", "7:53 AM", "8:23 AM", "8:54 AM"] },
  { stop_id: "7827", name: "NE 60th &amp; 60th Ave MAX Stn/I-84", lat: 45.528971, lon: -122.602113, times: ["11:15 PM", "5:53 AM", "6:25 AM", "6:55 AM", "7:24 AM", "7:54 AM", "8:24 AM", "8:55 AM"] },
  { stop_id: "7821", name: "NE 60th &amp; Hassalo", lat: 45.531295, lon: -122.602096, times: ["11:15 PM", "5:53 AM", "6:25 AM", "6:55 AM", "7:24 AM", "7:54 AM", "8:24 AM", "8:55 AM"] },
  { stop_id: "7820", name: "NE 60th &amp; Halsey", lat: 45.533457, lon: -122.602064, times: ["11:16 PM", "5:54 AM", "6:26 AM", "6:56 AM", "7:25 AM", "7:55 AM", "8:25 AM", "8:56 AM"] },
  { stop_id: "2432", name: "NE Halsey &amp; 57th", lat: 45.533767, lon: -122.604539, times: ["11:16 PM", "5:55 AM", "6:27 AM", "6:57 AM", "7:26 AM", "7:56 AM", "8:26 AM", "8:57 AM"] },
  { stop_id: "7734", name: "NE 57th &amp; Hancock", lat: 45.536427, lon: -122.604612, times: ["11:17 PM", "5:55 AM", "6:27 AM", "6:57 AM", "7:26 AM", "7:56 AM", "8:26 AM", "8:57 AM"] },
  { stop_id: "7743", name: "NE 57th &amp; Thompson", lat: 45.538996, lon: -122.604517, times: ["11:18 PM", "5:56 AM", "6:28 AM", "6:58 AM", "7:27 AM", "7:57 AM", "8:27 AM", "8:58 AM"] },
  { stop_id: "7737", name: "NE 57th &amp; Sandy", lat: 45.542668, lon: -122.604509, times: ["11:19 PM", "5:58 AM", "6:30 AM", "7:00 AM", "7:29 AM", "7:59 AM", "8:29 AM", "9:00 AM"] },
  { stop_id: "7740", name: "NE 57th &amp; Siskiyou", lat: 45.545272, lon: -122.604507, times: ["11:19 PM", "5:58 AM", "6:30 AM", "7:00 AM", "7:29 AM", "7:59 AM", "8:29 AM", "9:00 AM"] },
  { stop_id: "7732", name: "NE 57th &amp; Fremont", lat: 45.548022, lon: -122.604462, times: ["11:20 PM", "5:59 AM", "6:31 AM", "7:01 AM", "7:30 AM", "8:00 AM", "8:30 AM", "9:01 AM"] },
  { stop_id: "9611", name: "NE 57th &amp; Failing", lat: 45.551015, lon: -122.604401, times: ["11:20 PM", "5:59 AM", "6:31 AM", "7:01 AM", "7:30 AM", "8:00 AM", "8:30 AM", "9:01 AM"] },
  { stop_id: "1244", name: "NE Cully &amp; Mason", lat: 45.552674, lon: -122.603054, times: ["11:21 PM", "6:00 AM", "6:32 AM", "7:02 AM", "7:31 AM", "8:01 AM", "8:31 AM", "9:02 AM"] },
  { stop_id: "1240", name: "NE Cully &amp; Prescott", lat: 45.555313, lon: -122.600863, times: ["11:21 PM", "6:00 AM", "6:32 AM", "7:02 AM", "7:31 AM", "8:01 AM", "8:31 AM", "9:02 AM"] },
  { stop_id: "4744", name: "NE Prescott &amp; 64th", lat: 45.55538, lon: -122.597392, times: ["11:22 PM", "6:01 AM", "6:33 AM", "7:03 AM", "7:32 AM", "8:02 AM", "8:32 AM", "9:03 AM"] },
  { stop_id: "4748", name: "NE Prescott &amp; 68th", lat: 45.5554, lon: -122.593351, times: ["11:22 PM", "6:01 AM", "6:33 AM", "7:03 AM", "7:32 AM", "8:02 AM", "8:32 AM", "9:03 AM"] },
  { stop_id: "4752", name: "NE Prescott &amp; 72nd", lat: 45.555384, lon: -122.589272, times: ["11:23 PM", "6:02 AM", "6:34 AM", "7:04 AM", "7:33 AM", "8:03 AM", "8:33 AM", "9:04 AM"] },
  { stop_id: "4756", name: "NE Prescott &amp; 77th", lat: 45.555382, lon: -122.583835, times: ["11:24 PM", "6:03 AM", "6:35 AM", "7:05 AM", "7:34 AM", "8:04 AM", "8:34 AM", "9:05 AM"] },
  { stop_id: "4760", name: "NE Prescott &amp; 82nd", lat: 45.555369, lon: -122.578808, times: ["11:25 PM", "6:04 AM", "6:36 AM", "7:06 AM", "7:35 AM", "8:05 AM", "8:35 AM", "9:06 AM"] },
  { stop_id: "4762", name: "NE Prescott &amp; 85th", lat: 45.555344, lon: -122.575768, times: ["11:25 PM", "6:04 AM", "6:36 AM", "7:06 AM", "7:36 AM", "8:06 AM", "8:36 AM", "9:06 AM"] },
  { stop_id: "4764", name: "NE Prescott &amp; 88th", lat: 45.555631, lon: -122.572423, times: ["11:26 PM", "6:05 AM", "6:37 AM", "7:07 AM", "7:36 AM", "8:06 AM", "8:36 AM", "9:07 AM"] },
  { stop_id: "5051", name: "NE Sandy &amp; Prescott", lat: 45.555982, lon: -122.569704, times: ["11:27 PM", "6:06 AM", "6:38 AM", "7:08 AM", "7:37 AM", "8:07 AM", "8:37 AM", "9:08 AM"] },
  { stop_id: "10850", name: "Parkrose/ Sumner Transit Center ", lat: 45.558282, lon: -122.565304, times: ["6:08 AM", "6:40 AM", "7:10 AM", "7:40 AM", "8:10 AM", "8:40 AM", "9:10 AM", "9:40 AM"] },
  { stop_id: "10853", name: "Parkrose/ Sumner Transit Center", lat: 45.558368, lon: -122.564954, times: ["11:29 PM", "1:16 PM", "1:37 PM", "2:19 PM", "2:40 PM"] },
]

    const polylineOut = L.polyline(shapeOutbound, { color: 'blue', weight: 4, opacity: 0.7 }).addTo(map);
    map.fitBounds(polylineOut.getBounds());

    const nowPT = new Date(new Date().toLocaleString('en-US', { timeZone: 'America/Los_Angeles' }));
    const nowMins = nowPT.getHours() * 60 + nowPT.getMinutes();

    stops.forEach(stop => {
      let highlightedTimes = [];
      let foundNext = false;
      stop.times.forEach(timeStr => {
        let cleanTime = timeStr.trim();
        let [h, m] = cleanTime.split(":");
        let schedMins = parseInt(h, 10) * 60 + parseInt(m, 10);
        if (schedMins < nowMins && nowMins - schedMins > 720) {
          schedMins += 1440;
        }
        if (!foundNext && schedMins >= nowMins) {
          highlightedTimes.push(`<span style="background:#4dd0e1; color:#000; padding:2px 6px; border-radius:6px; font-weight:bold;">${cleanTime}</span>`);
          foundNext = true;
        } else {
          highlightedTimes.push(cleanTime);
        }
      });

      L.circleMarker([stop.lat, stop.lon], {
        radius: 6,
        color: '#4dd0e1',
        fillColor: '#4dd0e1',
        fillOpacity: 0.9,
        weight: 1
      })
      .bindPopup(`<strong>${stop.name}</strong><br>${highlightedTimes.join("<br>") || 'No scheduled times'}`)
      .addTo(map);
    });

    let busMarkers = {};
    async function fetchAndDisplay() {
      const res = await fetch(`https://developer.trimet.org/ws/v2/vehicles?route=${routeNumber}&appID=${apiKey}&json=true`);
      const data = await res.json();
      const buses = (data.resultSet.vehicle || []).filter(v => v.routeNumber == routeNumber && v.direction == direction);

      Object.values(busMarkers).forEach(m => map.removeLayer(m));
      busMarkers = {};
      if (!buses.length) return;

      buses.forEach(bus => {
        if (!bus.latitude || !bus.longitude || !bus.blockID) return;
        const icon = L.divIcon({    
           className: '',
           html: `
            <div style="text-align:center;">
              <div style="background:#0071CE;color:#fff;padding:2px 6px;border-radius:6px;font-weight:bold;">${bus.vehicleID}</div>
              <div style="width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:10px solid #00bfff;margin:auto;"></div>
            </div>
          `,
          iconSize: [40, 30], iconAnchor: [20, 30]
        });
        const marker = L.marker([bus.latitude, bus.longitude], { icon }).addTo(map);
        busMarkers[bus.vehicleID] = marker;
      });
    }
    fetchAndDisplay();
    setInterval(fetchAndDisplay, 15000);
  </script>

  <footer class="site-footer">
    <a href="terms.html">Terms of Use</a> &nbsp;|&nbsp;
    <a href="contact.html">Contact Us</a> &nbsp;|&nbsp;
    <a href="report.html">Report a Problem</a> &nbsp;|&nbsp;
    <a href="dmca.html">DMCA</a> &nbsp;|&nbsp;
    <a href="privacy.html">Privacy Policy</a>
  </footer>

  <script>
    if (!localStorage.getItem('cookieConsent')) {
      document.write(`
        <div id="cookie-banner" style="position: fixed; bottom: 0; left: 0; right: 0; background: #333; color: #fff; padding: 1rem; z-index: 1000; font-size: 0.9rem; line-height: 1.4; text-align: center; box-sizing: border-box;">
          üì¢ We use cookies to improve functionality and analyze traffic.
          By using MetroFeed, you agree to our 
          <a href='privacy.html' style='color: #4dd0e1; text-decoration: underline;'>Privacy Policy</a>.<br>
          <button onclick='localStorage.setItem("cookieConsent", "true"); document.getElementById("cookie-banner").remove();' style='margin-top: 0.5rem; background: #4dd0e1; color: #000; border: none; padding: 0.5rem 1rem; border-radius: 5px; cursor: pointer; font-weight: bold;'>OK</button>
        </div>
      `);
    }
  </script>
</body>
</html>