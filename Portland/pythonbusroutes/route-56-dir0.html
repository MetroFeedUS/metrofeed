<!DOCTYPE html>
<html lang="en">
<head>
  
<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-EL337T4JX4"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-EL337T4JX4');
</script>

<meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Route 56 - To Washington Square Transit Center | MetroFeed Portland</title>
  <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
  <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
  <style>
    html, body {
      margin: 0;
      padding: 0;
      font-family: 'Segoe UI', sans-serif;
      background-color: #0d0d0d;
      color: #cccccc;
      overflow-y: auto;
    }

    .home-button {
      position: fixed;
      top: 120px;
      left: 10px;
      background-color: #4dd0e1;
      color: #0d0d0d;
      padding: 0.5rem 1rem;
      font-weight: bold;
      border-radius: 8px;
      text-decoration: none;
      z-index: 1001;
      box-shadow: 0 0 10px #4dd0e1;
    }

    .home-button:hover {
      background-color: #00bcd4;
      color: #ffffff;
    }

    header {
      background-color: #0d0d0d;
      border-top: 4px solid #4dd0e1;
      border-bottom: 3px solid #4dd0e1;
      padding: 1rem;
      text-align: center;
    }

    header img {
      max-height: 60px;
    }

    h1 {
      text-align: center;
      margin: 1rem 0;
      font-size: 2rem;
      color: #f0f0f0;
    }

    .content-box {
      border-radius: 12px;
      padding: 0;
      margin: 0;
      background-color: #1e1e1e;
    }

    #map {
      width: 100%;
      height: 85vh;
      border: none;
      margin: 0 auto;
      display: block;
      border-radius: 8px;
    }

    .button-bar {
      display: flex;
      justify-content: center;
      margin: 1rem 0;
    }

    .button-bar a, .back-button {
      background: #4dd0e1;
      color: #0d0d0d;
      padding: 0.6rem 1.2rem;
      text-decoration: none;
      border-radius: 8px;
      font-weight: bold;
      border: none;
      cursor: pointer;
      box-shadow: 0 0 10px #4dd0e1;
    }

    .back-button:hover {
      background-color: #35c0d6;
    }

    .site-footer {
      text-align: center;
      margin-top: 3rem;
      margin-bottom: 120px;
      font-size: 0.85rem;
      color: #aaa;
    }

    .site-footer a {
      color: #00BFFF;
      text-decoration: none;
    }

    .site-footer a:hover {
      text-decoration: underline;
    }

    
    }
  </style>
</head>

<body>
  

  <header>
    <img src="MetroFeedPortlandLogo.png" alt="MetroFeed Portland">
  </header>

  <div class="disclaimer" style="margin: 1rem auto 0.5rem; max-width: 600px; font-size: 0.8rem; color: #bbb; text-align: center; padding: 0.5rem 1rem; background-color: #111; border: 1px dashed #444; border-radius: 6px;">
    ⚠️ This is a Beta program, work in progress. Please REPORT bugs and pretend to be impressed.
  </div>
  <div class="disclaimer" style="margin: 0 auto 1rem; max-width: 600px; font-size: 0.75rem; color: #888; text-align: center; padding: 0.25rem 1rem;">
    This tool is not affiliated with or endorsed by TriMet. For official schedules and service alerts, visit <a href="https://trimet.org" style="color:#4dd0e1;">trimet.org</a>.
  </div>

  <div style="margin: 2rem 0; text-align: center;">
    <button class="back-button" onclick="history.back()">Back</button>
  </div>

  <h1>Route 56 - To Washington Square Transit Center</h1>

  <div class="content-box">
    <div id="map"></div>
    <div style="text-align:right; font-size: 0.7rem; color: #777; margin-top: 0.5rem;">
      Data courtesy of TriMet.
    </div>
  </div>

  <script>
    if (document.referrer === "" && performance.navigation.type === 0) {
      window.location.href = "/index.html";
    }

    const apiKey = "2C4447D4A42083BCD84DE3B8E";
    const routeNumber = 56;
    const direction = parseInt(0);

    const map = L.map('map', {
      center: [45.6, -122.7],
      zoom: 12,
      minZoom: 12,
      maxZoom: 18,
      maxBounds: [[45.3, -123.1], [45.9, -122.3]],
      maxBoundsViscosity: 1.0
    });
    L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', { maxZoom: 19 }).addTo(map);

    const shapeOutbound = [
  [45.499398, -122.685589],
  [45.499399, -122.685587],
  [45.499429, -122.685535],
  [45.49953, -122.68539],
  [45.499804, -122.684993],
  [45.500112, -122.684596],
  [45.500217, -122.684456],
  [45.500327, -122.684311],
  [45.500458, -122.684141],
  [45.500522, -122.684069],
  [45.500559, -122.684036],
  [45.500599, -122.684004],
  [45.500636, -122.683989],
  [45.500684, -122.683973],
  [45.50078, -122.683959],
  [45.500837, -122.683961],
  [45.500891, -122.683973],
  [45.500934, -122.683984],
  [45.500986, -122.684002],
  [45.501063, -122.684037],
  [45.501231, -122.684115],
  [45.501312, -122.684145],
  [45.501364, -122.684156],
  [45.501571, -122.68418],
  [45.501989, -122.684223],
  [45.502042, -122.684244],
  [45.502092, -122.684286],
  [45.502122, -122.684327],
  [45.502148, -122.684373],
  [45.502152, -122.684384],
  [45.502166, -122.684427],
  [45.502176, -122.684474],
  [45.502184, -122.684526],
  [45.502186, -122.684584],
  [45.502187, -122.684622],
  [45.502183, -122.684671],
  [45.502178, -122.684707],
  [45.502153, -122.684817],
  [45.501882, -122.685646],
  [45.501794, -122.685886],
  [45.501623, -122.686279],
  [45.50161, -122.686322],
  [45.501603, -122.686387],
  [45.501602, -122.68645],
  [45.501609, -122.686534],
  [45.501623, -122.686601],
  [45.50164, -122.686658],
  [45.501665, -122.686721],
  [45.501708, -122.686808],
  [45.501744, -122.686868],
  [45.501877, -122.68704],
  [45.501965, -122.687202],
  [45.502001, -122.687291],
  [45.50202, -122.687366],
  [45.502044, -122.687495],
  [45.502049, -122.687579],
  [45.502044, -122.687667],
  [45.502027, -122.687779],
  [45.501886, -122.688237],
  [45.501877, -122.688299],
  [45.501879, -122.688362],
  [45.501887, -122.688443],
  [45.501908, -122.688551],
  [45.501948, -122.688667],
  [45.502046, -122.688899],
  [45.502071, -122.688984],
  [45.502081, -122.689045],
  [45.502126, -122.689337],
  [45.502142, -122.689459],
  [45.50216, -122.689561],
  [45.502373, -122.690527],
  [45.502397, -122.690644],
  [45.502425, -122.690773],
  [45.502446, -122.69084],
  [45.502464, -122.690889],
  [45.502489, -122.690932],
  [45.502518, -122.690967],
  [45.502557, -122.690987],
  [45.50258, -122.690993],
  [45.502604, -122.690992],
  [45.502637, -122.690979],
  [45.502684, -122.690947],
  [45.502716, -122.690919],
  [45.502737, -122.690892],
  [45.502763, -122.690846],
  [45.50278, -122.690803],
  [45.502798, -122.69075],
  [45.502808, -122.690688],
  [45.502812, -122.690626],
  [45.502804, -122.690546],
  [45.502783, -122.690422],
  [45.50274, -122.690218],
  [45.502704, -122.690067],
  [45.502689, -122.689963],
  [45.50268, -122.68989],
  [45.502676, -122.689798],
  [45.50267, -122.689649],
  [45.502671, -122.689466],
  [45.502676, -122.689317],
  [45.502686, -122.68919],
  [45.502719, -122.688761],
  [45.502764, -122.688294],
  [45.502799, -122.687986],
  [45.502829, -122.687792],
  [45.502865, -122.687607],
  [45.50278, -122.68758],
  [45.50271, -122.687555],
  [45.502638, -122.68752],
  [45.502602, -122.687492],
  [45.502584, -122.687478],
  [45.502537, -122.687419],
  [45.502516, -122.687385],
  [45.502494, -122.687343],
  [45.502478, -122.687303],
  [45.50246, -122.687241],
  [45.50245, -122.687201],
  [45.502437, -122.687137],
  [45.502413, -122.686996],
  [45.502408, -122.68695],
  [45.502397, -122.686804],
  [45.502393, -122.686686],
  [45.502396, -122.686574],
  [45.50242, -122.686356],
  [45.502457, -122.686113],
  [45.502499, -122.685904],
  [45.502549, -122.685671],
  [45.502608, -122.68544],
  [45.502673, -122.685239],
  [45.502862, -122.684674],
  [45.502937, -122.68438],
  [45.50295, -122.68428],
  [45.502954, -122.684191],
  [45.502947, -122.684068],
  [45.502915, -122.683926],
  [45.502877, -122.683813],
  [45.502817, -122.683687],
  [45.502795, -122.683658],
  [45.502752, -122.683594],
  [45.502711, -122.683557],
  [45.502671, -122.683522],
  [45.502618, -122.683483],
  [45.502527, -122.683422],
  [45.502295, -122.68329],
  [45.500554, -122.682349],
  [45.500471, -122.682312],
  [45.500409, -122.682293],
  [45.500334, -122.682277],
  [45.500253, -122.682265],
  [45.500163, -122.682268],
  [45.500091, -122.682279],
  [45.500023, -122.682293],
  [45.499948, -122.682322],
  [45.499846, -122.682401],
  [45.49964, -122.682598],
  [45.499594, -122.682633],
  [45.499553, -122.682657],
  [45.499487, -122.682686],
  [45.499445, -122.682695],
  [45.499389, -122.682697],
  [45.499341, -122.682684],
  [45.499306, -122.682668],
  [45.499289, -122.68266],
  [45.49924, -122.682613],
  [45.499199, -122.682561],
  [45.49916, -122.682459],
  [45.499131, -122.682336],
  [45.499083, -122.682117],
  [45.499038, -122.681876],
  [45.498975, -122.681687],
  [45.498932, -122.681596],
  [45.498875, -122.681515],
  [45.498789, -122.681407],
  [45.498693, -122.681324],
  [45.498486, -122.681201],
  [45.497131, -122.680488],
  [45.497064, -122.680463],
  [45.49697, -122.680443],
  [45.496889, -122.680427],
  [45.496782, -122.680424],
  [45.496657, -122.680431],
  [45.496562, -122.680456],
  [45.496439, -122.680499],
  [45.496229, -122.680637],
  [45.496182, -122.680676],
  [45.496139, -122.680714],
  [45.496086, -122.680767],
  [45.49606, -122.680798],
  [45.495936, -122.680974],
  [45.495894, -122.681043],
  [45.495854, -122.681118],
  [45.495812, -122.681204],
  [45.495657, -122.681623],
  [45.495583, -122.681849],
  [45.495492, -122.682065],
  [45.495447, -122.682142],
  [45.495412, -122.6822],
  [45.495337, -122.682309],
  [45.495257, -122.682374],
  [45.495125, -122.682444],
  [45.494996, -122.682463],
  [45.49494, -122.682465],
  [45.494892, -122.682459],
  [45.494841, -122.682443],
  [45.494781, -122.682418],
  [45.494682, -122.682364],
  [45.494561, -122.682227],
  [45.494448, -122.682057],
  [45.494316, -122.681838],
  [45.494191, -122.68167],
  [45.49414, -122.681618],
  [45.49407, -122.68156],
  [45.493919, -122.681468],
  [45.493702, -122.681369],
  [45.493564, -122.681349],
  [45.493456, -122.681336],
  [45.493226, -122.68133],
  [45.493176, -122.681332],
  [45.492855, -122.681378],
  [45.49261, -122.681433],
  [45.492575, -122.681441],
  [45.49235, -122.681505],
  [45.492249, -122.681552],
  [45.492161, -122.681605],
  [45.492069, -122.681676],
  [45.491986, -122.681759],
  [45.491931, -122.681824],
  [45.491859, -122.681934],
  [45.491797, -122.682035],
  [45.491739, -122.682152],
  [45.491691, -122.682275],
  [45.491633, -122.682428],
  [45.491609, -122.682496],
  [45.491574, -122.682626],
  [45.49155, -122.682732],
  [45.491487, -122.682999],
  [45.491467, -122.683123],
  [45.491454, -122.683264],
  [45.491451, -122.68349],
  [45.49146, -122.683611],
  [45.491482, -122.683763],
  [45.491507, -122.683896],
  [45.491539, -122.684016],
  [45.491578, -122.684156],
  [45.491605, -122.684259],
  [45.491722, -122.684607],
  [45.491759, -122.684723],
  [45.491816, -122.684951],
  [45.491856, -122.685122],
  [45.491887, -122.685251],
  [45.491963, -122.685703],
  [45.491998, -122.685936],
  [45.492015, -122.68612],
  [45.492024, -122.68629],
  [45.49202, -122.686406],
  [45.492012, -122.686489],
  [45.491999, -122.686577],
  [45.491979, -122.686672],
  [45.491952, -122.686765],
  [45.491896, -122.686878],
  [45.491857, -122.686944],
  [45.491829, -122.686983],
  [45.491787, -122.687035],
  [45.491749, -122.687074],
  [45.491688, -122.687123],
  [45.491653, -122.687142],
  [45.4916, -122.687163],
  [45.491533, -122.687175],
  [45.491491, -122.687181],
  [45.491456, -122.68718],
  [45.491412, -122.687174],
  [45.491365, -122.687159],
  [45.491313, -122.687138],
  [45.491263, -122.687114],
  [45.491217, -122.687086],
  [45.49118, -122.68706],
  [45.491134, -122.687025],
  [45.490857, -122.686693],
  [45.490733, -122.686563],
  [45.490561, -122.686413],
  [45.490326, -122.686258],
  [45.49019, -122.686188],
  [45.490085, -122.686148],
  [45.489954, -122.686105],
  [45.489583, -122.68602],
  [45.489483, -122.685985],
  [45.489425, -122.685961],
  [45.489303, -122.685879],
  [45.488896, -122.685626],
  [45.488844, -122.685596],
  [45.488777, -122.685574],
  [45.488656, -122.685545],
  [45.488521, -122.685515],
  [45.488406, -122.685501],
  [45.488204, -122.685485],
  [45.488008, -122.685506],
  [45.48793, -122.685525],
  [45.487821, -122.685551],
  [45.487599, -122.685632],
  [45.487472, -122.685679],
  [45.487165, -122.685783],
  [45.487108, -122.685788],
  [45.48707, -122.685781],
  [45.487016, -122.685766],
  [45.48696, -122.685742],
  [45.48687, -122.68569],
  [45.486743, -122.685585],
  [45.486684, -122.685513],
  [45.486637, -122.685449],
  [45.486567, -122.685317],
  [45.486477, -122.685093],
  [45.486111, -122.684041],
  [45.486043, -122.683899],
  [45.485978, -122.683798],
  [45.485909, -122.683721],
  [45.48582, -122.683651],
  [45.485734, -122.683592],
  [45.485612, -122.683539],
  [45.485516, -122.68352],
  [45.485454, -122.683515],
  [45.485392, -122.68352],
  [45.485323, -122.683541],
  [45.485262, -122.683566],
  [45.48521, -122.683595],
  [45.485135, -122.683647],
  [45.485031, -122.683735],
  [45.484938, -122.683829],
  [45.484851, -122.683926],
  [45.484765, -122.684054],
  [45.484594, -122.684355],
  [45.48452, -122.684462],
  [45.484481, -122.684509],
  [45.484423, -122.684568],
  [45.484371, -122.68461],
  [45.484319, -122.684649],
  [45.484247, -122.68468],
  [45.484196, -122.684697],
  [45.484135, -122.684703],
  [45.484081, -122.684702],
  [45.484027, -122.684694],
  [45.483969, -122.684683],
  [45.483922, -122.684666],
  [45.483877, -122.684643],
  [45.483844, -122.684624],
  [45.483738, -122.684549],
  [45.483681, -122.684508],
  [45.48362, -122.684454],
  [45.483549, -122.684373],
  [45.483498, -122.684309],
  [45.483296, -122.683987],
  [45.483071, -122.683638],
  [45.483024, -122.683566],
  [45.483005, -122.683537],
  [45.482984, -122.683505],
  [45.482938, -122.683448],
  [45.482881, -122.683395],
  [45.482823, -122.683347],
  [45.482761, -122.683308],
  [45.482676, -122.683264],
  [45.482599, -122.683233],
  [45.482446, -122.683193],
  [45.482364, -122.683179],
  [45.482286, -122.683169],
  [45.482158, -122.683149],
  [45.482035, -122.683137],
  [45.481891, -122.683131],
  [45.48176, -122.683126],
  [45.481563, -122.683141],
  [45.481357, -122.683177],
  [45.481208, -122.683215],
  [45.481189, -122.683219],
  [45.481089, -122.683255],
  [45.481018, -122.683276],
  [45.480956, -122.683303],
  [45.480875, -122.683352],
  [45.480754, -122.683437],
  [45.48068, -122.68351],
  [45.480608, -122.683585],
  [45.480569, -122.683629],
  [45.480535, -122.683676],
  [45.480503, -122.683733],
  [45.480454, -122.683837],
  [45.480441, -122.683876],
  [45.480428, -122.683927],
  [45.480416, -122.683979],
  [45.480404, -122.684041],
  [45.480395, -122.684106],
  [45.480391, -122.684162],
  [45.480389, -122.684225],
  [45.480391, -122.68429],
  [45.4804, -122.684403],
  [45.480407, -122.684468],
  [45.480429, -122.684605],
  [45.48046, -122.684783],
  [45.480486, -122.684948],
  [45.480496, -122.685064],
  [45.480501, -122.685146],
  [45.480501, -122.685233],
  [45.480499, -122.685324],
  [45.480484, -122.685486],
  [45.480472, -122.685653],
  [45.480477, -122.685864],
  [45.480497, -122.686028],
  [45.480548, -122.68627],
  [45.480648, -122.686649],
  [45.480651, -122.686724],
  [45.480635, -122.686798],
  [45.480617, -122.686848],
  [45.480572, -122.686906],
  [45.48053, -122.686934],
  [45.480428, -122.686965],
  [45.480393, -122.686973],
  [45.480379, -122.686977],
  [45.480318, -122.686995],
  [45.480182, -122.687048],
  [45.480162, -122.687153],
  [45.480153, -122.68725],
  [45.480149, -122.687343],
  [45.480151, -122.687436],
  [45.48016, -122.687578],
  [45.480173, -122.687723],
  [45.480203, -122.688022],
  [45.480247, -122.688457],
  [45.480253, -122.688555],
  [45.480256, -122.688639],
  [45.480258, -122.688701],
  [45.480255, -122.688785],
  [45.480248, -122.688944],
  [45.480242, -122.689023],
  [45.480232, -122.689113],
  [45.480217, -122.689204],
  [45.480201, -122.689298],
  [45.480182, -122.689382],
  [45.480164, -122.689457],
  [45.480146, -122.689529],
  [45.480104, -122.689692],
  [45.480052, -122.689845],
  [45.47997, -122.690073],
  [45.479779, -122.690584],
  [45.479672, -122.690884],
  [45.479596, -122.691088],
  [45.479251, -122.692018],
  [45.47909, -122.692449],
  [45.479003, -122.692714],
  [45.478879, -122.693029],
  [45.478829, -122.693171],
  [45.478788, -122.693288],
  [45.478729, -122.693469],
  [45.478681, -122.693655],
  [45.478649, -122.693818],
  [45.478623, -122.693956],
  [45.478577, -122.694201],
  [45.478566, -122.694257],
  [45.478492, -122.694672],
  [45.478443, -122.69494],
  [45.478421, -122.695065],
  [45.478404, -122.69516],
  [45.478385, -122.695254],
  [45.478362, -122.69537],
  [45.478324, -122.695575],
  [45.478253, -122.695961],
  [45.478208, -122.696248],
  [45.478224, -122.696444],
  [45.478178, -122.696769],
  [45.478168, -122.696845],
  [45.478161, -122.696941],
  [45.478155, -122.697058],
  [45.478155, -122.697423],
  [45.478155, -122.69743],
  [45.478157, -122.697609],
  [45.47813, -122.69774],
  [45.478153, -122.697977],
  [45.478175, -122.698157],
  [45.478215, -122.698403],
  [45.478301, -122.698738],
  [45.47833, -122.698847],
  [45.478362, -122.698965],
  [45.4784, -122.699094],
  [45.478444, -122.69922],
  [45.478513, -122.699417],
  [45.478586, -122.699609],
  [45.478653, -122.699783],
  [45.478694, -122.699885],
  [45.478735, -122.699979],
  [45.478793, -122.700087],
  [45.478818, -122.700131],
  [45.478879, -122.700238],
  [45.47895, -122.700352],
  [45.479155, -122.700647],
  [45.479248, -122.700769],
  [45.479354, -122.700913],
  [45.479435, -122.701021],
  [45.47958, -122.701245],
  [45.47965, -122.701374],
  [45.479768, -122.701631],
  [45.479806, -122.701719],
  [45.479854, -122.701849],
  [45.479896, -122.701978],
  [45.47994, -122.702132],
  [45.479975, -122.702269],
  [45.479985, -122.702312],
  [45.479993, -122.702346],
  [45.48001, -122.702432],
  [45.480032, -122.702563],
  [45.48005, -122.702662],
  [45.480122, -122.70306],
  [45.480164, -122.703293],
  [45.480202, -122.703501],
  [45.480222, -122.703608],
  [45.480279, -122.703901],
  [45.480318, -122.704088],
  [45.480347, -122.704216],
  [45.480361, -122.704276],
  [45.480394, -122.704409],
  [45.480438, -122.704593],
  [45.480489, -122.704784],
  [45.480545, -122.704979],
  [45.48068, -122.705408],
  [45.480729, -122.705552],
  [45.480785, -122.70571],
  [45.480846, -122.705876],
  [45.480907, -122.706033],
  [45.480995, -122.706244],
  [45.481067, -122.706417],
  [45.481127, -122.706553],
  [45.481146, -122.706596],
  [45.481251, -122.706843],
  [45.481379, -122.707168],
  [45.481466, -122.707409],
  [45.481522, -122.707579],
  [45.48153, -122.707603],
  [45.481576, -122.707758],
  [45.481613, -122.707927],
  [45.481648, -122.708113],
  [45.481664, -122.70823],
  [45.481675, -122.708321],
  [45.481685, -122.708432],
  [45.481692, -122.708536],
  [45.481703, -122.708813],
  [45.481723, -122.70938],
  [45.481727, -122.709482],
  [45.481743, -122.709723],
  [45.481755, -122.709847],
  [45.48177, -122.70996],
  [45.481788, -122.710073],
  [45.48181, -122.710187],
  [45.48184, -122.710334],
  [45.481862, -122.710438],
  [45.481921, -122.710669],
  [45.481971, -122.710824],
  [45.482009, -122.710934],
  [45.482036, -122.711009],
  [45.48206, -122.711072],
  [45.482114, -122.711202],
  [45.482483, -122.712048],
  [45.482798, -122.712747],
  [45.48289, -122.712953],
  [45.482983, -122.713163],
  [45.483748, -122.714906],
  [45.483752, -122.714915],
  [45.484169, -122.715829],
  [45.484316, -122.716158],
  [45.484484, -122.716539],
  [45.484584, -122.716765],
  [45.484753, -122.717172],
  [45.484796, -122.717278],
  [45.484865, -122.717451],
  [45.48492, -122.717604],
  [45.484963, -122.717738],
  [45.485001, -122.717855],
  [45.485051, -122.718027],
  [45.485136, -122.718325],
  [45.485225, -122.718667],
  [45.485307, -122.71899],
  [45.485381, -122.719342],
  [45.48545, -122.719706],
  [45.485453, -122.719726],
  [45.485494, -122.720007],
  [45.485523, -122.720248],
  [45.485563, -122.720653],
  [45.485572, -122.720739],
  [45.485617, -122.721248],
  [45.485662, -122.721781],
  [45.485687, -122.722081],
  [45.485711, -122.722362],
  [45.485724, -122.722502],
  [45.485773, -122.723041],
  [45.485783, -122.723144],
  [45.48579, -122.723252],
  [45.485796, -122.723352],
  [45.485823, -122.723612],
  [45.485848, -122.723855],
  [45.485877, -122.724135],
  [45.485918, -122.724536],
  [45.485949, -122.72485],
  [45.485989, -122.725167],
  [45.486013, -122.725301],
  [45.486042, -122.725443],
  [45.486071, -122.725572],
  [45.486133, -122.725792],
  [45.486207, -122.726004],
  [45.486276, -122.726174],
  [45.48643, -122.726499],
  [45.486665, -122.72699],
  [45.486749, -122.72718],
  [45.486793, -122.727286],
  [45.486829, -122.727394],
  [45.486883, -122.727571],
  [45.486924, -122.727735],
  [45.48695, -122.727849],
  [45.486983, -122.728027],
  [45.486994, -122.728105],
  [45.487008, -122.728255],
  [45.487019, -122.728421],
  [45.487019, -122.728432],
  [45.487024, -122.728615],
  [45.487028, -122.728791],
  [45.487035, -122.729608],
  [45.487034, -122.730083],
  [45.487035, -122.730322],
  [45.487036, -122.730458],
  [45.487038, -122.730796],
  [45.48704, -122.730967],
  [45.48704, -122.731066],
  [45.487041, -122.731142],
  [45.487042, -122.731385],
  [45.487043, -122.73148],
  [45.487043, -122.731642],
  [45.487042, -122.731766],
  [45.487043, -122.731827],
  [45.487044, -122.732192],
  [45.487044, -122.732294],
  [45.487045, -122.732526],
  [45.487045, -122.732739],
  [45.487046, -122.733114],
  [45.487048, -122.733746],
  [45.487049, -122.734071],
  [45.48705, -122.734312],
  [45.48705, -122.734404],
  [45.487051, -122.734626],
  [45.487051, -122.73474],
  [45.487052, -122.734778],
  [45.487052, -122.734866],
  [45.487053, -122.735361],
  [45.487053, -122.735467],
  [45.487053, -122.735647],
  [45.487054, -122.736194],
  [45.487056, -122.736639],
  [45.487056, -122.736725],
  [45.487059, -122.737462],
  [45.48706, -122.737625],
  [45.48706, -122.737682],
  [45.487061, -122.73799],
  [45.487062, -122.738057],
  [45.487063, -122.738328],
  [45.487065, -122.738518],
  [45.487068, -122.739107],
  [45.487073, -122.739704],
  [45.487075, -122.739994],
  [45.487127, -122.740066],
  [45.487126, -122.740249],
  [45.48712, -122.740259],
  [45.487078, -122.74033],
  [45.487079, -122.74054],
  [45.487081, -122.741064],
  [45.487082, -122.741489],
  [45.487083, -122.741764],
  [45.487085, -122.742312],
  [45.487088, -122.742661],
  [45.487091, -122.743693],
  [45.487091, -122.743907],
  [45.487091, -122.743947],
  [45.48709, -122.744],
  [45.487085, -122.744168],
  [45.487075, -122.74434],
  [45.48706, -122.744556],
  [45.487051, -122.744675],
  [45.487017, -122.745007],
  [45.486982, -122.745263],
  [45.486966, -122.745359],
  [45.486951, -122.745446],
  [45.486904, -122.745689],
  [45.486853, -122.745935],
  [45.486835, -122.746013],
  [45.486808, -122.74613],
  [45.486768, -122.746277],
  [45.486673, -122.746641],
  [45.486608, -122.746913],
  [45.486579, -122.747031],
  [45.486532, -122.747216],
  [45.486481, -122.747421],
  [45.486498, -122.74754],
  [45.486432, -122.747806],
  [45.486388, -122.747982],
  [45.486342, -122.748152],
  [45.486217, -122.748669],
  [45.486142, -122.749023],
  [45.486022, -122.749274],
  [45.485962, -122.749454],
  [45.485849, -122.74971],
  [45.485816, -122.749802],
  [45.485691, -122.750069],
  [45.485654, -122.750149],
  [45.485591, -122.750199],
  [45.485569, -122.750246],
  [45.485557, -122.750272],
  [45.485422, -122.750559],
  [45.485173, -122.75109],
  [45.48468, -122.752175],
  [45.484648, -122.752245],
  [45.484426, -122.752728],
  [45.48428, -122.753044],
  [45.484071, -122.753498],
  [45.483805, -122.754075],
  [45.483527, -122.754664],
  [45.48337, -122.754989],
  [45.483337, -122.755061],
  [45.48324, -122.755272],
  [45.483228, -122.755297],
  [45.483084, -122.755613],
  [45.483041, -122.755704],
  [45.48299, -122.755815],
  [45.482813, -122.756189],
  [45.482628, -122.756584],
  [45.482584, -122.75668],
  [45.482564, -122.756722],
  [45.482382, -122.757113],
  [45.482068, -122.757765],
  [45.481874, -122.758162],
  [45.481841, -122.758229],
  [45.481641, -122.758641],
  [45.481536, -122.758857],
  [45.481282, -122.759378],
  [45.480948, -122.760065],
  [45.480885, -122.760194],
  [45.480604, -122.760771],
  [45.480477, -122.761015],
  [45.480431, -122.761124],
  [45.480348, -122.761283],
  [45.480245, -122.7615],
  [45.480239, -122.761514],
  [45.480085, -122.761805],
  [45.479961, -122.762041],
  [45.479918, -122.762122],
  [45.47977, -122.762346],
  [45.479632, -122.762534],
  [45.479522, -122.762672],
  [45.479408, -122.7628],
  [45.479214, -122.762983],
  [45.479127, -122.763054],
  [45.478712, -122.763394],
  [45.478591, -122.763479],
  [45.478523, -122.763515],
  [45.478455, -122.763542],
  [45.478357, -122.76357],
  [45.478166, -122.763582],
  [45.477517, -122.763578],
  [45.477498, -122.763578],
  [45.477206, -122.763572],
  [45.476903, -122.763582],
  [45.476555, -122.763637],
  [45.476157, -122.763769],
  [45.475973, -122.763862],
  [45.475768, -122.763986],
  [45.475576, -122.764127],
  [45.475359, -122.764306],
  [45.474879, -122.764728],
  [45.474393, -122.765176],
  [45.474295, -122.765277],
  [45.474222, -122.765361],
  [45.474127, -122.765481],
  [45.474097, -122.765519],
  [45.474019, -122.765622],
  [45.47369, -122.766056],
  [45.473516, -122.766304],
  [45.473389, -122.766525],
  [45.473187, -122.766939],
  [45.47314, -122.76705],
  [45.472996, -122.767386],
  [45.47296, -122.76756],
  [45.472931, -122.767744],
  [45.472878, -122.768083],
  [45.472824, -122.768471],
  [45.472622, -122.769643],
  [45.472562, -122.770023],
  [45.472525, -122.770259],
  [45.472503, -122.770424],
  [45.472489, -122.770587],
  [45.472488, -122.77075],
  [45.472487, -122.770845],
  [45.472503, -122.771125],
  [45.47253, -122.771446],
  [45.472582, -122.771946],
  [45.472589, -122.772017],
  [45.472627, -122.772411],
  [45.472633, -122.772525],
  [45.472631, -122.772611],
  [45.472602, -122.77277],
  [45.472577, -122.772862],
  [45.472546, -122.772955],
  [45.472476, -122.773099],
  [45.472369, -122.773269],
  [45.472208, -122.773508],
  [45.472156, -122.773586],
  [45.472035, -122.773771],
  [45.47197, -122.773884],
  [45.471872, -122.774028],
  [45.471734, -122.774233],
  [45.471683, -122.774309],
  [45.471603, -122.774429],
  [45.471431, -122.77465],
  [45.471351, -122.774728],
  [45.471313, -122.774757],
  [45.471258, -122.774796],
  [45.471211, -122.774822],
  [45.470824, -122.775039],
  [45.470747, -122.775082],
  [45.470515, -122.775207],
  [45.470289, -122.775322],
  [45.470031, -122.775464],
  [45.469931, -122.775522],
  [45.469748, -122.775627],
  [45.469651, -122.775683],
  [45.469438, -122.775806],
  [45.469356, -122.775848],
  [45.469285, -122.775885],
  [45.46897, -122.77604],
  [45.468661, -122.776192],
  [45.468354, -122.776346],
  [45.467915, -122.776566],
  [45.467637, -122.776705],
  [45.467554, -122.776744],
  [45.467485, -122.776781],
  [45.467416, -122.776815],
  [45.467024, -122.777008],
  [45.466431, -122.777308],
  [45.465866, -122.777603],
  [45.465187, -122.777964],
  [45.465015, -122.778056],
  [45.464963, -122.778079],
  [45.464548, -122.778312],
  [45.464511, -122.778326],
  [45.464489, -122.778345],
  [45.463814, -122.778721],
  [45.463488, -122.778902],
  [45.463144, -122.779076],
  [45.462988, -122.779153],
  [45.462537, -122.779383],
  [45.462399, -122.779451],
  [45.462213, -122.77954],
  [45.46208, -122.779604],
  [45.461097, -122.78013],
  [45.460805, -122.780286],
  [45.460695, -122.780345],
  [45.460551, -122.780424],
  [45.460349, -122.780532],
  [45.460115, -122.780659],
  [45.459205, -122.78115],
  [45.458728, -122.781416],
  [45.458416, -122.781585],
  [45.457994, -122.781814],
  [45.457863, -122.781885],
  [45.457737, -122.781953],
  [45.457485, -122.782088],
  [45.45728, -122.782198],
  [45.456958, -122.782371],
  [45.456833, -122.782436],
  [45.456765, -122.782283],
  [45.456608, -122.781934],
  [45.456343, -122.781347],
  [45.456245, -122.781128],
  [45.456105, -122.780817],
  [45.456046, -122.780693],
  [45.455991, -122.780587],
  [45.455935, -122.780485],
  [45.45587, -122.78038],
  [45.455794, -122.780258],
  [45.455694, -122.780351],
  [45.455641, -122.780393],
  [45.455612, -122.780412],
  [45.455581, -122.780421],
  [45.455523, -122.780429],
  [45.455241, -122.780433],
  [45.455174, -122.780477],
  [45.455117, -122.780476],
  [45.455067, -122.780476],
  [45.454989, -122.780476],
  [45.45493, -122.780422],
  [45.45443, -122.780422],
  [45.454175, -122.780419],
  [45.45406, -122.78042],
  [45.453914, -122.780433],
  [45.453367, -122.780528],
  [45.453313, -122.780552],
  [45.453221, -122.780645],
  [45.453158, -122.780569],
  [45.453082, -122.780488],
  [45.453018, -122.780406],
  [45.452978, -122.780338],
  [45.452954, -122.780286],
  [45.452942, -122.780237],
  [45.452932, -122.780172],
  [45.452929, -122.779929],
  [45.452926, -122.779837],
  [45.452904, -122.77968],
  [45.45289, -122.779519],
  [45.452887, -122.779468],
  [45.452876, -122.779268],
  [45.452865, -122.77906],
  [45.452859, -122.778892],
  [45.452855, -122.778731],
  [45.452257, -122.778725],
  [45.452181, -122.77871],
  [45.452141, -122.778712],
  [45.452113, -122.778733],
  [45.452095, -122.778792],
  [45.452095, -122.77884],
  [45.452111, -122.778897],
  [45.452128, -122.77893],
  [45.452164, -122.778957],
  [45.45221, -122.778961],
  [45.452256, -122.77894],
  [45.452331, -122.778897],
  [45.452398, -122.778897],
  [45.452537, -122.778895],
  [45.452696, -122.778895]
];

const stopNames = {
  "327": "3600 Block SW Beaverton-Hillsdale",
  "329": "6100 Block SW Beaverton-Hillsdale",
  "340": "SW Beaverton-Hillsdale &amp; Dosch",
  "352": "SW Beaverton-Hillsdale &amp; Shattuck",
  "363": "SW Beaverton-Hillsdale &amp; 18th Dr",
  "365": "SW Beaverton-Hillsdale &amp; 25th",
  "366": "2600 Block SW Beaverton-Hillsdale",
  "370": "SW Beaverton-Hillsdale &amp; 35th",
  "372": "SW Beaverton-Hillsdale &amp; 39th Dr",
  "374": "SW Beaverton-Hillsdale &amp; 42nd",
  "376": "SW Beaverton-Hillsdale &amp; 45th",
  "378": "SW Beaverton-Hillsdale &amp; 50th",
  "380": "SW Beaverton-Hillsdale &amp; 56th",
  "381": "SW Beaverton-Hillsdale &amp; 59th",
  "384": "SW Beaverton-Hillsdale &amp; 65th",
  "955": "SW Capitol &amp; Sunset",
  "5027": "SW Sam Jackson Pk &amp; Campus Dr",
  "5028": "SW Sam Jackson Pk &amp; OHSU",
  "5032": "SW Sam Jackson Pk &amp; US Veterans",
  "5152": "4900 Block SW Scholls Ferry",
  "5153": "5000 Block SW Scholls Ferry",
  "5155": "5900 Block SW Scholls Ferry (Crosswalk)",
  "5157": "6700 Block SW Scholls Ferry",
  "5159": "7700 Block SW Scholls Ferry",
  "5161": "8600 Block SW Scholls Ferry",
  "5167": "SW Scholls Ferry &amp; Crestwood",
  "5169": "SW Scholls Ferry &amp; Crystal",
  "5171": "SW Scholls Ferry &amp; Merry",
  "5176": "SW Scholls Ferry &amp; Heather",
  "5180": "SW Scholls Ferry &amp; Marjorie",
  "5184": "SW Scholls Ferry &amp; BH Hwy",
  "5188": "SW Scholls Ferry &amp; Nicol",
  "5200": "SW Scholls Ferry &amp; 86th",
  "5202": "SW Scholls Ferry &amp; 88th",
  "5205": "SW Scholls Ferry &amp; 90th",
  "5207": "SW Scholls Ferry &amp; 92nd",
  "5782": "SW Terwilliger &amp; Bancroft",
  "5783": "SW Terwilliger &amp; Bancroft Terrace",
  "5789": "SW Terwilliger &amp; Capitol Hwy",
  "5812": "SW Terwilliger &amp; Westwood",
  "5975": "Portland VA Medical Center",
  "6125": "SW Eliander &amp; One Embassy Centre",
  "8450": "SW Terwilliger &amp; Cheltenham",
  "8455": "SW US Veterans Hosp Rd &amp; Bldg 16",
  "9488": "3500 Blk SW US Veterans Hosp Rd (CSB)",
  "9650": "Washington Square Transit Center ",
  "10612": "3500 Blk SW US Veterans Hosp Rd (Bldg 28)",
  "11010": "SW Terwilliger &amp; Campus"
};

const stops = [
  { stop_id: "5028", name: "SW Sam Jackson Pk &amp; OHSU", lat: 45.499332, lon: -122.685535, times: ["6:50 AM", "7:20 AM", "7:50 AM", "8:20 AM", "8:50 AM", "9:20 AM", "9:50 AM", "10:20 AM"] },
  { stop_id: "5027", name: "SW Sam Jackson Pk &amp; Campus Dr", lat: 45.500295, lon: -122.684265, times: ["6:50 AM", "7:20 AM", "7:50 AM", "8:20 AM", "8:50 AM", "9:20 AM", "9:50 AM", "10:20 AM"] },
  { stop_id: "11010", name: "SW Terwilliger &amp; Campus", lat: 45.499288, lon: -122.682745, times: ["6:54 AM", "7:24 AM", "7:54 AM", "8:24 AM", "8:54 AM", "9:24 AM", "9:54 AM", "10:24 AM"] },
  { stop_id: "5782", name: "SW Terwilliger &amp; Bancroft", lat: 45.492615, lon: -122.68147, times: ["6:56 AM", "7:26 AM", "7:56 AM", "8:26 AM", "8:56 AM", "9:26 AM", "9:56 AM", "10:26 AM"] },
  { stop_id: "5783", name: "SW Terwilliger &amp; Bancroft Terrace", lat: 45.491927, lon: -122.685087, times: ["6:56 AM", "7:26 AM", "7:56 AM", "8:26 AM", "8:56 AM", "9:26 AM", "9:56 AM", "10:26 AM"] },
  { stop_id: "5812", name: "SW Terwilliger &amp; Westwood", lat: 45.482977, lon: -122.683574, times: ["6:59 AM", "7:29 AM", "7:59 AM", "8:29 AM", "8:59 AM", "9:29 AM", "9:59 AM", "10:29 AM"] },
  { stop_id: "8450", name: "SW Terwilliger &amp; Cheltenham", lat: 45.481213, lon: -122.683255, times: ["7:00 AM", "7:30 AM", "8:00 AM", "8:30 AM", "9:00 AM", "9:30 AM", "10:00 AM", "10:30 AM"] },
  { stop_id: "5789", name: "SW Terwilliger &amp; Capitol Hwy", lat: 45.480392, lon: -122.687065, times: ["7:00 AM", "7:30 AM", "8:00 AM", "8:30 AM", "9:00 AM", "9:30 AM", "10:00 AM", "10:30 AM"] },
  { stop_id: "955", name: "SW Capitol &amp; Sunset", lat: 45.478896, lon: -122.693219, times: ["6:20 AM", "7:02 AM", "7:32 AM", "8:02 AM", "8:32 AM", "9:02 AM", "9:32 AM", "10:02 AM"] },
  { stop_id: "363", name: "SW Beaverton-Hillsdale &amp; 18th Dr", lat: 45.478204, lon: -122.697421, times: ["6:20 AM", "7:02 AM", "7:32 AM", "8:02 AM", "8:32 AM", "9:02 AM", "9:32 AM", "10:02 AM"] },
  { stop_id: "365", name: "SW Beaverton-Hillsdale &amp; 25th", lat: 45.480084, lon: -122.702266, times: ["6:21 AM", "7:03 AM", "7:33 AM", "8:03 AM", "8:33 AM", "9:03 AM", "9:33 AM", "10:03 AM"] },
  { stop_id: "366", name: "2600 Block SW Beaverton-Hillsdale", lat: 45.480449, lon: -122.704166, times: ["6:21 AM", "7:03 AM", "7:33 AM", "8:03 AM", "8:33 AM", "9:03 AM", "9:33 AM", "10:03 AM"] },
  { stop_id: "340", name: "SW Beaverton-Hillsdale &amp; Dosch", lat: 45.481625, lon: -122.707507, times: ["6:22 AM", "7:04 AM", "7:34 AM", "8:04 AM", "8:34 AM", "9:04 AM", "9:34 AM", "10:04 AM"] },
  { stop_id: "370", name: "SW Beaverton-Hillsdale &amp; 35th", lat: 45.482897, lon: -122.712657, times: ["6:23 AM", "7:05 AM", "7:35 AM", "8:05 AM", "8:35 AM", "9:05 AM", "9:35 AM", "10:05 AM"] },
  { stop_id: "327", name: "3600 Block SW Beaverton-Hillsdale", lat: 45.483851, lon: -122.714821, times: ["6:23 AM", "7:05 AM", "7:35 AM", "8:05 AM", "8:35 AM", "9:05 AM", "9:35 AM", "10:05 AM"] },
  { stop_id: "372", name: "SW Beaverton-Hillsdale &amp; 39th Dr", lat: 45.48458, lon: -122.716451, times: ["6:23 AM", "7:06 AM", "7:36 AM", "8:06 AM", "8:36 AM", "9:06 AM", "9:36 AM", "10:06 AM"] },
  { stop_id: "374", name: "SW Beaverton-Hillsdale &amp; 42nd", lat: 45.485564, lon: -122.719693, times: ["6:24 AM", "7:06 AM", "7:36 AM", "8:06 AM", "8:36 AM", "9:06 AM", "9:36 AM", "10:06 AM"] },
  { stop_id: "376", name: "SW Beaverton-Hillsdale &amp; 45th", lat: 45.485868, lon: -122.723023, times: ["6:24 AM", "7:07 AM", "7:37 AM", "8:07 AM", "8:37 AM", "9:07 AM", "9:37 AM", "10:07 AM"] },
  { stop_id: "378", name: "SW Beaverton-Hillsdale &amp; 50th", lat: 45.487107, lon: -122.728428, times: ["6:25 AM", "7:08 AM", "7:38 AM", "8:08 AM", "8:38 AM", "9:08 AM", "9:38 AM", "10:08 AM"] },
  { stop_id: "352", name: "SW Beaverton-Hillsdale &amp; Shattuck", lat: 45.487179, lon: -122.731826, times: ["6:26 AM", "7:08 AM", "7:38 AM", "8:08 AM", "8:38 AM", "9:08 AM", "9:38 AM", "10:08 AM"] },
  { stop_id: "380", name: "SW Beaverton-Hillsdale &amp; 56th", lat: 45.487147, lon: -122.735361, times: ["6:26 AM", "7:09 AM", "7:39 AM", "8:09 AM", "8:39 AM", "9:09 AM", "9:39 AM", "10:09 AM"] },
  { stop_id: "381", name: "SW Beaverton-Hillsdale &amp; 59th", lat: 45.487169, lon: -122.737681, times: ["6:27 AM", "7:09 AM", "7:39 AM", "8:09 AM", "8:39 AM", "9:09 AM", "9:39 AM", "10:09 AM"] },
  { stop_id: "329", name: "6100 Block SW Beaverton-Hillsdale", lat: 45.487187, lon: -122.74034, times: ["6:27 AM", "7:10 AM", "7:40 AM", "8:10 AM", "8:40 AM", "9:10 AM", "9:40 AM", "10:10 AM"] },
  { stop_id: "384", name: "SW Beaverton-Hillsdale &amp; 65th", lat: 45.487217, lon: -122.74395, times: ["6:28 AM", "7:10 AM", "7:40 AM", "8:10 AM", "8:40 AM", "9:10 AM", "9:40 AM", "10:10 AM"] },
  { stop_id: "5184", name: "SW Scholls Ferry &amp; BH Hwy", lat: 45.48562, lon: -122.750296, times: ["6:29 AM", "7:12 AM", "7:42 AM", "8:12 AM", "8:42 AM", "9:12 AM", "9:42 AM", "10:12 AM"] },
  { stop_id: "5152", name: "4900 Block SW Scholls Ferry", lat: 45.484464, lon: -122.752768, times: ["6:29 AM", "7:12 AM", "7:42 AM", "8:12 AM", "8:42 AM", "9:12 AM", "9:42 AM", "10:12 AM"] },
  { stop_id: "5153", name: "5000 Block SW Scholls Ferry", lat: 45.4831, lon: -122.75576, times: ["6:30 AM", "7:13 AM", "7:43 AM", "8:13 AM", "8:43 AM", "9:13 AM", "9:43 AM", "10:13 AM"] },
  { stop_id: "5188", name: "SW Scholls Ferry &amp; Nicol", lat: 45.48029, lon: -122.761546, times: ["6:31 AM", "7:14 AM", "7:44 AM", "8:14 AM", "8:45 AM", "9:15 AM", "9:45 AM", "10:15 AM"] },
  { stop_id: "5155", name: "5900 Block SW Scholls Ferry (Crosswalk)", lat: 45.477513, lon: -122.763645, times: ["6:32 AM", "7:15 AM", "7:45 AM", "8:15 AM", "8:46 AM", "9:16 AM", "9:46 AM", "10:16 AM"] },
  { stop_id: "5200", name: "SW Scholls Ferry &amp; 86th", lat: 45.474179, lon: -122.76557, times: ["6:33 AM", "7:16 AM", "7:46 AM", "8:16 AM", "8:47 AM", "9:17 AM", "9:47 AM", "10:17 AM"] },
  { stop_id: "5202", name: "SW Scholls Ferry &amp; 88th", lat: 45.472979, lon: -122.767761, times: ["6:33 AM", "7:16 AM", "7:47 AM", "8:17 AM", "8:47 AM", "9:18 AM", "9:48 AM", "10:18 AM"] },
  { stop_id: "5205", name: "SW Scholls Ferry &amp; 90th", lat: 45.472592, lon: -122.770032, times: ["6:34 AM", "7:17 AM", "7:47 AM", "8:18 AM", "8:48 AM", "9:18 AM", "9:48 AM", "10:18 AM"] },
  { stop_id: "5207", name: "SW Scholls Ferry &amp; 92nd", lat: 45.47265, lon: -122.772005, times: ["6:34 AM", "7:17 AM", "7:47 AM", "8:18 AM", "8:48 AM", "9:19 AM", "9:49 AM", "10:19 AM"] },
  { stop_id: "5157", name: "6700 Block SW Scholls Ferry", lat: 45.47124, lon: -122.77493, times: ["6:35 AM", "7:18 AM", "7:48 AM", "8:19 AM", "8:49 AM", "9:20 AM", "9:50 AM", "10:20 AM"] },
  { stop_id: "5171", name: "SW Scholls Ferry &amp; Merry", lat: 45.469969, lon: -122.775653, times: ["6:35 AM", "7:18 AM", "7:49 AM", "8:19 AM", "8:50 AM", "9:20 AM", "9:50 AM", "10:20 AM"] },
  { stop_id: "5176", name: "SW Scholls Ferry &amp; Heather", lat: 45.46744, lon: -122.776909, times: ["6:36 AM", "7:19 AM", "7:49 AM", "8:20 AM", "8:51 AM", "9:21 AM", "9:51 AM", "10:21 AM"] },
  { stop_id: "5180", name: "SW Scholls Ferry &amp; Marjorie", lat: 45.465214, lon: -122.778066, times: ["6:36 AM", "7:19 AM", "7:50 AM", "8:21 AM", "8:51 AM", "9:22 AM", "9:52 AM", "10:22 AM"] },
  { stop_id: "5159", name: "7700 Block SW Scholls Ferry", lat: 45.463841, lon: -122.778834, times: ["6:37 AM", "7:20 AM", "7:50 AM", "8:21 AM", "8:52 AM", "9:22 AM", "9:52 AM", "10:22 AM"] },
  { stop_id: "5169", name: "SW Scholls Ferry &amp; Crystal", lat: 45.462247, lon: -122.779673, times: ["6:37 AM", "7:20 AM", "7:51 AM", "8:22 AM", "8:52 AM", "9:23 AM", "9:53 AM", "10:23 AM"] },
  { stop_id: "5167", name: "SW Scholls Ferry &amp; Crestwood", lat: 45.460717, lon: -122.780441, times: ["6:38 AM", "7:21 AM", "7:51 AM", "8:22 AM", "8:53 AM", "9:24 AM", "9:54 AM", "10:24 AM"] },
  { stop_id: "5161", name: "8600 Block SW Scholls Ferry", lat: 45.458022, lon: -122.781936, times: ["6:38 AM", "7:21 AM", "7:52 AM", "8:23 AM", "8:54 AM", "9:25 AM", "9:55 AM", "10:25 AM"] },
  { stop_id: "6125", name: "SW Eliander &amp; One Embassy Centre", lat: 45.455116, lon: -122.780496, times: ["6:39 AM", "7:22 AM", "7:53 AM", "8:24 AM", "8:55 AM", "9:26 AM", "9:56 AM", "10:26 AM"] },
  { stop_id: "9650", name: "Washington Square Transit Center ", lat: 45.4527, lon: -122.77881, times: ["6:41 AM", "7:24 AM", "7:55 AM", "8:26 AM", "8:57 AM", "9:28 AM", "9:58 AM", "10:28 AM"] },
  { stop_id: "8455", name: "SW US Veterans Hosp Rd &amp; Bldg 16", lat: 45.496418, lon: -122.68222, times: ["12:14 PM"] },
  { stop_id: "5975", name: "Portland VA Medical Center", lat: 45.497058, lon: -122.683271, times: ["12:16 PM"] },
  { stop_id: "10612", name: "3500 Blk SW US Veterans Hosp Rd (Bldg 28)", lat: 45.497026, lon: -122.686521, times: ["12:17 PM"] },
  { stop_id: "9488", name: "3500 Blk SW US Veterans Hosp Rd (CSB)", lat: 45.497355, lon: -122.688156, times: ["12:18 PM"] },
  { stop_id: "5032", name: "SW Sam Jackson Pk &amp; US Veterans", lat: 45.499042, lon: -122.687161, times: ["12:19 PM"] },
]

    const polylineOut = L.polyline(shapeOutbound, { color: 'blue', weight: 4, opacity: 0.7 }).addTo(map);
    map.fitBounds(polylineOut.getBounds());

    const nowPT = new Date(new Date().toLocaleString('en-US', { timeZone: 'America/Los_Angeles' }));
    const nowMins = nowPT.getHours() * 60 + nowPT.getMinutes();

    stops.forEach(stop => {
      let highlightedTimes = [];
      let foundNext = false;
      stop.times.forEach(timeStr => {
        let cleanTime = timeStr.trim();
        let [h, m] = cleanTime.split(":");
        let schedMins = parseInt(h, 10) * 60 + parseInt(m, 10);
        if (schedMins < nowMins && nowMins - schedMins > 720) {
          schedMins += 1440;
        }
        if (!foundNext && schedMins >= nowMins) {
          highlightedTimes.push(`<span style="background:#4dd0e1; color:#000; padding:2px 6px; border-radius:6px; font-weight:bold;">${cleanTime}</span>`);
          foundNext = true;
        } else {
          highlightedTimes.push(cleanTime);
        }
      });

      L.circleMarker([stop.lat, stop.lon], {
        radius: 6,
        color: '#4dd0e1',
        fillColor: '#4dd0e1',
        fillOpacity: 0.9,
        weight: 1
      })
      .bindPopup(`<strong>${stop.name}</strong><br>${highlightedTimes.join("<br>") || 'No scheduled times'}`)
      .addTo(map);
    });

    let busMarkers = {};
    async function fetchAndDisplay() {
      const res = await fetch(`https://developer.trimet.org/ws/v2/vehicles?route=${routeNumber}&appID=${apiKey}&json=true`);
      const data = await res.json();
      const buses = (data.resultSet.vehicle || []).filter(v => v.routeNumber == routeNumber && v.direction == direction);

      Object.values(busMarkers).forEach(m => map.removeLayer(m));
      busMarkers = {};
      if (!buses.length) return;

      buses.forEach(bus => {
        if (!bus.latitude || !bus.longitude || !bus.blockID) return;
        const icon = L.divIcon({    
           className: '',
           html: `
            <div style="text-align:center;">
              <div style="background:#0071CE;color:#fff;padding:2px 6px;border-radius:6px;font-weight:bold;">${bus.vehicleID}</div>
              <div style="width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:10px solid #00bfff;margin:auto;"></div>
            </div>
          `,
          iconSize: [40, 30], iconAnchor: [20, 30]
        });
        const marker = L.marker([bus.latitude, bus.longitude], { icon }).addTo(map);
        busMarkers[bus.vehicleID] = marker;
      });
    }
    fetchAndDisplay();
    setInterval(fetchAndDisplay, 15000);
  </script>

  <footer class="site-footer">
    <a href="terms.html">Terms of Use</a> &nbsp;|&nbsp;
    <a href="contact.html">Contact Us</a> &nbsp;|&nbsp;
    <a href="report.html">Report a Problem</a> &nbsp;|&nbsp;
    <a href="dmca.html">DMCA</a> &nbsp;|&nbsp;
    <a href="privacy.html">Privacy Policy</a>
  </footer>

  <script>
    if (!localStorage.getItem('cookieConsent')) {
      document.write(`
        <div id="cookie-banner" style="position: fixed; bottom: 0; left: 0; right: 0; background: #333; color: #fff; padding: 1rem; z-index: 1000; font-size: 0.9rem; line-height: 1.4; text-align: center; box-sizing: border-box;">
          📢 We use cookies to improve functionality and analyze traffic.
          By using MetroFeed, you agree to our 
          <a href='privacy.html' style='color: #4dd0e1; text-decoration: underline;'>Privacy Policy</a>.<br>
          <button onclick='localStorage.setItem("cookieConsent", "true"); document.getElementById("cookie-banner").remove();' style='margin-top: 0.5rem; background: #4dd0e1; color: #000; border: none; padding: 0.5rem 1rem; border-radius: 5px; cursor: pointer; font-weight: bold;'>OK</button>
        </div>
      `);
    }
  </script>
</body>
</html>