<!DOCTYPE html>
<html lang="en">
<head>
  
<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-EL337T4JX4"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-EL337T4JX4');
</script>

<meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Route 10 - To Portland City Center | MetroFeed Portland</title>
  <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
  <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
  <style>
    html, body {
      margin: 0;
      padding: 0;
      font-family: 'Segoe UI', sans-serif;
      background-color: #0d0d0d;
      color: #cccccc;
      overflow-y: auto;
    }

    body {
      padding-top: 120px;
    }

    .ad-banner {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      background: #222;
      padding: 0;
      z-index: 1000;
      box-shadow: 0 2px 2px rgba(0,0,0,0.5);
      text-align: center;
    }

    .ad-banner img {
      width: 100%;
      max-width: 728px;
      max-height: 120px;
      display: block;
      margin: 0 auto;
    }
    .home-button {
      position: fixed;
      top: 120px;
      left: 10px;
      background-color: #4dd0e1;
      color: #0d0d0d;
      padding: 0.5rem 1rem;
      font-weight: bold;
      border-radius: 8px;
      text-decoration: none;
      z-index: 1001;
      box-shadow: 0 0 10px #4dd0e1;
    }

    .home-button:hover {
      background-color: #00bcd4;
      color: #ffffff;
    }

    header {
      background-color: #0d0d0d;
      border-top: 4px solid #4dd0e1;
      border-bottom: 3px solid #4dd0e1;
      padding: 1rem;
      text-align: center;
    }

    header img {
      max-height: 60px;
    }

    h1 {
      text-align: center;
      margin: 1rem 0;
      font-size: 2rem;
      color: #f0f0f0;
    }

    .content-box {
      border-radius: 12px;
      padding: 0;
      margin: 0;
      background-color: #1e1e1e;
    }

    #map {
      width: 100%;
      height: 85vh;
      border: none;
      margin: 0 auto;
      display: block;
      border-radius: 8px;
    }

    .button-bar {
      display: flex;
      justify-content: center;
      margin: 1rem 0;
    }

    .button-bar a, .back-button {
      background: #4dd0e1;
      color: #0d0d0d;
      padding: 0.6rem 1.2rem;
      text-decoration: none;
      border-radius: 8px;
      font-weight: bold;
      border: none;
      cursor: pointer;
      box-shadow: 0 0 10px #4dd0e1;
    }

    .back-button:hover {
      background-color: #35c0d6;
    }

    .site-footer {
      text-align: center;
      margin-top: 3rem;
      margin-bottom: 120px;
      font-size: 0.85rem;
      color: #aaa;
    }

    .site-footer a {
      color: #00BFFF;
      text-decoration: none;
    }

    .site-footer a:hover {
      text-decoration: underline;
    }

    @media (max-width: 600px) {
      .ad-banner {
        padding-top: 1rem;
        padding-bottom: 0rem;
      }
    }
  </style>
</head>

<body>
  <div class="ad-banner">
    <iframe src="https://metrofeedus.com/portland/Ads/route-10-dir1-ad.html" style="border:none; width:100%; max-width: 728px; height:90px;"></iframe>
  </div>

  <header>
    <img src="MetroFeedPortlandLogo.png" alt="MetroFeed Portland">
  </header>

  <div class="disclaimer" style="margin: 1rem auto 0.5rem; max-width: 600px; font-size: 0.8rem; color: #bbb; text-align: center; padding: 0.5rem 1rem; background-color: #111; border: 1px dashed #444; border-radius: 6px;">
    ⚠️ This is a Beta program, work in progress. Please REPORT bugs and pretend to be impressed.
  </div>
  <div class="disclaimer" style="margin: 0 auto 1rem; max-width: 600px; font-size: 0.75rem; color: #888; text-align: center; padding: 0.25rem 1rem;">
    This tool is not affiliated with or endorsed by TriMet. For official schedules and service alerts, visit <a href="https://trimet.org" style="color:#4dd0e1;">trimet.org</a>.
  </div>

  <div style="margin: 2rem 0; text-align: center;">
    <button class="back-button" onclick="history.back()">Back</button>
  </div>

  <h1>Route 10 - To Portland City Center</h1>

  <div class="content-box">
    <div id="map"></div>
    <div style="text-align:right; font-size: 0.7rem; color: #777; margin-top: 0.5rem;">
      Data courtesy of TriMet.
    </div>
  </div>

  <script>
    if (document.referrer === "" && performance.navigation.type === 0) {
      window.location.href = "/index.html";
    }

    const apiKey = "2C4447D4A42083BCD84DE3B8E";
    const routeNumber = 10;
    const direction = parseInt(1);

    const map = L.map('map', {
      center: [45.6, -122.7],
      zoom: 12,
      minZoom: 12,
      maxZoom: 18,
      maxBounds: [[45.3, -123.1], [45.9, -122.3]],
      maxBoundsViscosity: 1.0
    });
    L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', { maxZoom: 19 }).addTo(map);

    const shapeOutbound = [
  [45.479175, -122.566293],
  [45.479314, -122.5668],
  [45.479341, -122.566899],
  [45.479378, -122.567024],
  [45.479411, -122.567139],
  [45.479446, -122.56727],
  [45.47947, -122.567352],
  [45.479487, -122.567418],
  [45.479519, -122.567534],
  [45.479583, -122.567767],
  [45.479793, -122.568527],
  [45.479821, -122.568628],
  [45.479857, -122.568756],
  [45.480108, -122.569596],
  [45.480188, -122.569837],
  [45.480178, -122.569901],
  [45.480179, -122.569952],
  [45.480199, -122.570064],
  [45.480217, -122.570117],
  [45.480245, -122.570205],
  [45.480258, -122.570243],
  [45.480264, -122.570292],
  [45.480259, -122.570345],
  [45.480251, -122.570393],
  [45.480217, -122.570453],
  [45.480187, -122.570485],
  [45.480122, -122.570524],
  [45.480047, -122.570545],
  [45.479959, -122.570497],
  [45.479695, -122.570355],
  [45.479636, -122.57032],
  [45.479579, -122.570278],
  [45.479525, -122.570228],
  [45.479468, -122.570169],
  [45.479423, -122.570111],
  [45.479422, -122.570108],
  [45.479357, -122.569998],
  [45.479313, -122.569917],
  [45.479299, -122.569876],
  [45.479268, -122.569776],
  [45.47923, -122.569614],
  [45.47921, -122.569484],
  [45.479128, -122.568778],
  [45.47911, -122.56862],
  [45.479086, -122.568414],
  [45.479067, -122.56833],
  [45.479044, -122.568261],
  [45.479004, -122.568159],
  [45.478873, -122.567855],
  [45.478781, -122.567606],
  [45.478715, -122.567378],
  [45.478615, -122.567035],
  [45.47858, -122.566911],
  [45.478548, -122.566789],
  [45.47838, -122.566157],
  [45.478358, -122.566073],
  [45.478014, -122.564783],
  [45.477975, -122.564633],
  [45.477922, -122.564444],
  [45.477835, -122.564113],
  [45.477794, -122.563942],
  [45.477762, -122.563767],
  [45.477746, -122.563586],
  [45.477742, -122.563472],
  [45.47775, -122.563342],
  [45.477817, -122.562575],
  [45.477816, -122.562413],
  [45.47784, -122.562118],
  [45.477846, -122.562019],
  [45.477846, -122.561927],
  [45.477844, -122.561846],
  [45.477838, -122.561778],
  [45.477828, -122.561727],
  [45.477806, -122.561642],
  [45.477794, -122.56146],
  [45.477652, -122.561069],
  [45.477379, -122.56029],
  [45.477361, -122.560228],
  [45.477346, -122.560183],
  [45.477322, -122.560104],
  [45.477293, -122.559976],
  [45.477292, -122.559972],
  [45.477267, -122.559843],
  [45.477249, -122.559747],
  [45.477179, -122.559387],
  [45.477034, -122.558643],
  [45.476798, -122.557445],
  [45.476623, -122.556558],
  [45.476605, -122.556467],
  [45.476549, -122.556127],
  [45.476488, -122.556056],
  [45.476414, -122.555648],
  [45.476428, -122.555496],
  [45.476401, -122.555343],
  [45.476372, -122.555182],
  [45.476236, -122.554461],
  [45.476155, -122.554017],
  [45.475987, -122.553045],
  [45.475945, -122.552799],
  [45.475909, -122.552593],
  [45.475879, -122.552371],
  [45.475859, -122.55217],
  [45.475844, -122.551916],
  [45.47584, -122.551752],
  [45.475838, -122.551579],
  [45.475842, -122.55136],
  [45.475853, -122.551195],
  [45.475877, -122.550934],
  [45.47599, -122.549866],
  [45.476002, -122.549762],
  [45.476035, -122.549484],
  [45.476047, -122.549374],
  [45.476115, -122.548747],
  [45.476205, -122.547931],
  [45.476288, -122.547154],
  [45.476361, -122.5465],
  [45.476388, -122.546207],
  [45.476404, -122.545988],
  [45.476419, -122.545763],
  [45.47643, -122.545496],
  [45.47644, -122.545184],
  [45.476445, -122.544831],
  [45.476445, -122.54467],
  [45.476446, -122.544469],
  [45.476449, -122.543607],
  [45.47645, -122.543275],
  [45.476453, -122.54249],
  [45.476454, -122.54231],
  [45.476468, -122.541361],
  [45.476491, -122.539961],
  [45.476492, -122.539882],
  [45.476504, -122.53895],
  [45.476517, -122.538191],
  [45.476535, -122.537121],
  [45.476538, -122.536977],
  [45.476579, -122.535663],
  [45.476581, -122.535585],
  [45.476589, -122.535348],
  [45.476602, -122.534852],
  [45.476608, -122.534674],
  [45.476616, -122.534315],
  [45.476629, -122.533874],
  [45.476652, -122.532956],
  [45.476659, -122.532688],
  [45.476671, -122.532217],
  [45.476674, -122.532134],
  [45.476684, -122.531813],
  [45.4767, -122.531316],
  [45.476713, -122.530902],
  [45.476731, -122.530356],
  [45.476737, -122.530139],
  [45.476741, -122.530007],
  [45.47678, -122.528606],
  [45.47678, -122.528597],
  [45.476818, -122.527388],
  [45.476849, -122.526306],
  [45.476855, -122.526125],
  [45.476865, -122.525762],
  [45.476879, -122.525247],
  [45.476901, -122.52443],
  [45.476922, -122.523695],
  [45.476924, -122.52358],
  [45.477014, -122.523576],
  [45.47726, -122.523575],
  [45.477346, -122.523575],
  [45.477383, -122.523575],
  [45.477709, -122.523576],
  [45.477973, -122.523577],
  [45.478269, -122.523577],
  [45.478386, -122.523577],
  [45.478698, -122.523577],
  [45.479232, -122.523578],
  [45.479347, -122.523578],
  [45.479483, -122.523579],
  [45.479735, -122.523578],
  [45.47986, -122.523577],
  [45.479864, -122.523578],
  [45.480028, -122.523578],
  [45.480354, -122.523579],
  [45.480696, -122.523579],
  [45.481188, -122.523579],
  [45.481313, -122.523579],
  [45.481668, -122.523581],
  [45.482619, -122.523581],
  [45.483434, -122.523574],
  [45.483437, -122.524027],
  [45.483444, -122.524836],
  [45.483449, -122.525423],
  [45.483451, -122.525731],
  [45.483453, -122.526072],
  [45.483454, -122.526226],
  [45.483457, -122.526577],
  [45.483465, -122.527573],
  [45.483468, -122.528209],
  [45.48347, -122.528399],
  [45.483475, -122.528871],
  [45.483477, -122.52932],
  [45.483479, -122.529759],
  [45.48348, -122.529977],
  [45.483489, -122.531142],
  [45.483493, -122.531633],
  [45.483491, -122.531712],
  [45.483488, -122.531772],
  [45.483482, -122.531828],
  [45.483477, -122.531865],
  [45.483468, -122.531918],
  [45.48346, -122.531962],
  [45.483448, -122.532017],
  [45.483437, -122.532058],
  [45.483436, -122.532061],
  [45.483424, -122.532102],
  [45.483393, -122.532191],
  [45.483361, -122.53229],
  [45.483333, -122.532382],
  [45.483317, -122.532452],
  [45.483307, -122.532505],
  [45.483301, -122.532556],
  [45.483296, -122.532614],
  [45.483293, -122.53268],
  [45.483292, -122.53284],
  [45.483295, -122.532991],
  [45.483303, -122.533478],
  [45.483315, -122.533977],
  [45.483326, -122.534482],
  [45.48334, -122.534985],
  [45.48335, -122.535489],
  [45.483381, -122.536981],
  [45.483378, -122.537177],
  [45.483375, -122.537255],
  [45.483368, -122.537339],
  [45.483359, -122.537409],
  [45.483346, -122.537484],
  [45.483326, -122.537579],
  [45.4833, -122.53769],
  [45.483275, -122.537788],
  [45.483237, -122.537959],
  [45.483198, -122.538136],
  [45.483188, -122.538418],
  [45.483185, -122.538531],
  [45.48317, -122.538976],
  [45.483152, -122.53952],
  [45.483136, -122.540011],
  [45.483102, -122.541015],
  [45.483075, -122.541885],
  [45.483071, -122.542004],
  [45.483063, -122.542251],
  [45.483037, -122.543058],
  [45.48299, -122.544483],
  [45.482985, -122.544618],
  [45.482975, -122.544952],
  [45.482964, -122.545269],
  [45.482907, -122.546998],
  [45.482901, -122.547193],
  [45.482845, -122.54892],
  [45.482842, -122.549012],
  [45.482835, -122.549224],
  [45.482778, -122.551016],
  [45.482771, -122.551256],
  [45.482768, -122.551331],
  [45.482747, -122.55193],
  [45.482727, -122.552534],
  [45.482687, -122.553769],
  [45.482664, -122.554411],
  [45.482629, -122.555492],
  [45.482622, -122.555714],
  [45.482571, -122.557257],
  [45.482554, -122.557832],
  [45.482545, -122.558407],
  [45.482552, -122.558827],
  [45.482565, -122.558914],
  [45.482573, -122.558972],
  [45.482603, -122.559444],
  [45.482605, -122.559562],
  [45.482606, -122.559695],
  [45.482608, -122.559841],
  [45.482604, -122.560197],
  [45.482592, -122.560295],
  [45.482605, -122.560853],
  [45.482624, -122.56161],
  [45.482642, -122.562238],
  [45.482656, -122.562847],
  [45.482682, -122.562936],
  [45.482699, -122.563083],
  [45.482707, -122.563168],
  [45.482707, -122.563179],
  [45.482712, -122.563338],
  [45.482713, -122.56346],
  [45.482715, -122.563558],
  [45.482719, -122.563688],
  [45.482718, -122.563749],
  [45.482713, -122.56381],
  [45.482705, -122.563944],
  [45.482685, -122.564052],
  [45.482715, -122.564834],
  [45.482741, -122.565658],
  [45.482774, -122.566864],
  [45.482789, -122.567403],
  [45.482794, -122.567665],
  [45.482797, -122.567838],
  [45.482806, -122.568374],
  [45.482808, -122.568515],
  [45.482808, -122.568607],
  [45.482218, -122.568611],
  [45.482235, -122.569622],
  [45.482249, -122.570389],
  [45.482255, -122.57076],
  [45.482258, -122.570937],
  [45.482263, -122.571265],
  [45.482266, -122.571482],
  [45.482269, -122.57169],
  [45.482271, -122.572024],
  [45.48227, -122.572316],
  [45.482268, -122.572661],
  [45.482264, -122.572995],
  [45.482261, -122.573267],
  [45.482258, -122.573562],
  [45.48225, -122.57414],
  [45.482248, -122.574329],
  [45.482246, -122.574424],
  [45.482244, -122.574795],
  [45.482244, -122.574849],
  [45.482243, -122.574908],
  [45.482241, -122.575379],
  [45.482239, -122.575896],
  [45.482238, -122.576054],
  [45.482241, -122.576407],
  [45.482241, -122.576566],
  [45.48226, -122.576634],
  [45.482263, -122.576906],
  [45.48226, -122.577174],
  [45.48226, -122.57719],
  [45.482224, -122.577405],
  [45.482247, -122.57748],
  [45.482278, -122.577561],
  [45.482354, -122.577758],
  [45.482401, -122.577876],
  [45.482442, -122.577991],
  [45.482486, -122.578114],
  [45.48264, -122.578519],
  [45.48265, -122.578546],
  [45.482684, -122.578636],
  [45.482751, -122.578813],
  [45.48281, -122.578956],
  [45.482875, -122.579114],
  [45.482938, -122.579275],
  [45.482985, -122.579395],
  [45.482996, -122.579421],
  [45.483041, -122.579537],
  [45.483101, -122.579692],
  [45.483105, -122.579702],
  [45.483157, -122.579833],
  [45.483205, -122.579956],
  [45.483416, -122.580496],
  [45.483489, -122.580561],
  [45.483593, -122.580837],
  [45.483593, -122.580949],
  [45.48367, -122.581144],
  [45.48413, -122.582346],
  [45.48349, -122.58236],
  [45.483159, -122.582367],
  [45.483066, -122.58237],
  [45.483067, -122.582533],
  [45.483066, -122.582752],
  [45.483067, -122.58296],
  [45.483066, -122.583142],
  [45.483066, -122.583671],
  [45.483065, -122.584104],
  [45.483062, -122.585338],
  [45.48306, -122.586542],
  [45.48306, -122.586674],
  [45.483061, -122.587152],
  [45.483059, -122.588005],
  [45.483057, -122.58905],
  [45.483057, -122.589132],
  [45.483058, -122.589252],
  [45.483059, -122.58938],
  [45.483059, -122.589599],
  [45.483058, -122.589834],
  [45.483058, -122.59029],
  [45.483056, -122.590601],
  [45.483056, -122.590797],
  [45.483057, -122.591239],
  [45.483056, -122.59191],
  [45.483056, -122.592268],
  [45.483055, -122.59272],
  [45.483055, -122.593122],
  [45.483054, -122.594283],
  [45.483054, -122.594422],
  [45.483053, -122.595075],
  [45.483051, -122.595724],
  [45.48305, -122.596258],
  [45.483051, -122.596371],
  [45.483052, -122.596681],
  [45.48305, -122.597002],
  [45.483049, -122.597427],
  [45.483049, -122.59764],
  [45.483051, -122.598281],
  [45.483047, -122.598781],
  [45.483047, -122.59894],
  [45.483046, -122.599443],
  [45.483046, -122.599568],
  [45.483046, -122.600209],
  [45.483047, -122.600874],
  [45.483046, -122.601289],
  [45.483047, -122.601512],
  [45.483048, -122.602009],
  [45.483048, -122.602146],
  [45.483045, -122.602794],
  [45.483047, -122.602969],
  [45.483049, -122.603433],
  [45.483048, -122.604081],
  [45.483048, -122.604234],
  [45.483045, -122.604718],
  [45.483047, -122.605088],
  [45.483049, -122.605365],
  [45.483044, -122.606006],
  [45.483048, -122.606526],
  [45.483048, -122.606649],
  [45.483046, -122.607294],
  [45.483046, -122.607979],
  [45.483046, -122.608156],
  [45.483073, -122.608286],
  [45.483078, -122.608537],
  [45.48308, -122.608623],
  [45.483045, -122.608739],
  [45.483452, -122.608744],
  [45.483852, -122.608744],
  [45.484252, -122.608746],
  [45.484379, -122.608747],
  [45.484666, -122.60875],
  [45.484693, -122.608854],
  [45.484693, -122.609104],
  [45.484691, -122.609756],
  [45.484693, -122.610781],
  [45.484692, -122.611411],
  [45.484728, -122.611506],
  [45.484725, -122.611684],
  [45.484721, -122.611913],
  [45.484724, -122.612117],
  [45.484722, -122.612289],
  [45.484693, -122.612382],
  [45.484691, -122.61343],
  [45.484695, -122.614444],
  [45.484694, -122.615341],
  [45.484694, -122.615482],
  [45.484691, -122.616484],
  [45.484692, -122.617369],
  [45.484692, -122.61751],
  [45.484693, -122.618539],
  [45.484693, -122.619551],
  [45.484694, -122.620322],
  [45.484694, -122.620445],
  [45.48471, -122.620582],
  [45.484726, -122.620729],
  [45.484726, -122.621642],
  [45.484728, -122.622468],
  [45.484728, -122.622546],
  [45.484728, -122.622654],
  [45.484725, -122.623657],
  [45.484726, -122.624689],
  [45.484724, -122.625692],
  [45.484724, -122.626091],
  [45.484724, -122.626114],
  [45.484723, -122.627259],
  [45.484722, -122.628203],
  [45.484722, -122.628682],
  [45.484723, -122.628821],
  [45.484719, -122.629374],
  [45.484717, -122.62983],
  [45.484717, -122.630455],
  [45.484717, -122.630902],
  [45.484714, -122.631797],
  [45.484713, -122.631918],
  [45.484716, -122.632897],
  [45.484715, -122.63304],
  [45.484713, -122.634334],
  [45.484714, -122.634894],
  [45.484713, -122.635073],
  [45.484712, -122.635194],
  [45.484712, -122.635382],
  [45.484712, -122.635842],
  [45.484712, -122.636914],
  [45.484712, -122.637091],
  [45.484713, -122.63733],
  [45.484726, -122.637479],
  [45.485323, -122.637492],
  [45.48542, -122.637495],
  [45.485809, -122.637504],
  [45.48607, -122.637511],
  [45.48647, -122.63752],
  [45.486535, -122.637521],
  [45.487009, -122.637528],
  [45.487074, -122.637526],
  [45.487134, -122.637524],
  [45.48717, -122.637523],
  [45.488167, -122.637547],
  [45.488929, -122.637563],
  [45.489626, -122.637579],
  [45.48998, -122.637599],
  [45.490075, -122.637605],
  [45.490216, -122.637613],
  [45.490302, -122.637611],
  [45.490374, -122.637608],
  [45.490892, -122.637595],
  [45.491307, -122.637601],
  [45.492081, -122.637603],
  [45.493243, -122.637615],
  [45.493247, -122.637615],
  [45.49336, -122.637629],
  [45.493363, -122.638607],
  [45.493365, -122.639389],
  [45.493365, -122.639596],
  [45.493469, -122.639605],
  [45.493535, -122.63961],
  [45.493689, -122.639616],
  [45.494796, -122.639621],
  [45.49529, -122.639621],
  [45.495952, -122.639624],
  [45.496045, -122.639624],
  [45.496541, -122.639632],
  [45.497037, -122.639635],
  [45.497138, -122.639633],
  [45.497282, -122.639637],
  [45.497407, -122.639629],
  [45.497549, -122.63962],
  [45.497955, -122.639627],
  [45.498061, -122.639629],
  [45.498289, -122.639628],
  [45.49856, -122.639639],
  [45.498692, -122.639645],
  [45.499143, -122.639645],
  [45.499807, -122.639653],
  [45.50044, -122.639658],
  [45.500525, -122.639658],
  [45.501237, -122.639661],
  [45.501861, -122.639666],
  [45.501954, -122.639666],
  [45.502415, -122.63967],
  [45.502658, -122.63966],
  [45.503203, -122.639662],
  [45.503426, -122.639663],
  [45.503589, -122.639663],
  [45.504095, -122.639667],
  [45.504644, -122.639664],
  [45.504741, -122.639663],
  [45.504806, -122.639617],
  [45.504808, -122.640408],
  [45.504809, -122.641246],
  [45.50481, -122.641449],
  [45.504813, -122.642261],
  [45.504813, -122.642331],
  [45.504814, -122.642575],
  [45.504817, -122.643397],
  [45.504818, -122.643575],
  [45.50482, -122.644397],
  [45.50482, -122.644603],
  [45.504821, -122.644695],
  [45.504822, -122.645075],
  [45.504823, -122.645251],
  [45.504824, -122.645623],
  [45.504826, -122.645862],
  [45.504827, -122.646007],
  [45.504828, -122.646068],
  [45.50483, -122.646895],
  [45.504831, -122.647646],
  [45.504835, -122.648557],
  [45.504836, -122.648661],
  [45.504837, -122.648748],
  [45.504839, -122.649436],
  [45.50484, -122.649674],
  [45.504843, -122.650685],
  [45.504845, -122.651701],
  [45.504847, -122.651799],
  [45.504849, -122.651923],
  [45.504851, -122.652717],
  [45.504854, -122.653729],
  [45.504854, -122.653831],
  [45.504856, -122.653989],
  [45.50486, -122.654752],
  [45.50486, -122.654841],
  [45.504864, -122.655163],
  [45.504873, -122.655768],
  [45.50487, -122.655878],
  [45.504873, -122.65596],
  [45.50488, -122.656038],
  [45.50489, -122.656095],
  [45.504904, -122.656151],
  [45.504923, -122.6562],
  [45.504956, -122.656274],
  [45.505038, -122.656419],
  [45.50529, -122.656875],
  [45.505357, -122.656907],
  [45.505471, -122.657113],
  [45.505471, -122.657183],
  [45.505541, -122.657324],
  [45.505603, -122.657441],
  [45.505643, -122.657513],
  [45.505766, -122.657727],
  [45.505849, -122.657883],
  [45.506035, -122.658215],
  [45.506386, -122.658843],
  [45.506455, -122.658769],
  [45.506472, -122.658756],
  [45.50649, -122.65875],
  [45.506515, -122.658748],
  [45.506797, -122.658743],
  [45.506923, -122.658751],
  [45.507045, -122.658752],
  [45.507237, -122.658751],
  [45.507553, -122.658749],
  [45.50769, -122.658748],
  [45.507952, -122.658746],
  [45.508667, -122.658741],
  [45.508907, -122.65874],
  [45.509378, -122.658737],
  [45.510091, -122.658732],
  [45.510803, -122.658727],
  [45.511516, -122.658722],
  [45.511751, -122.658721],
  [45.512237, -122.658717],
  [45.512876, -122.658715],
  [45.512937, -122.658713],
  [45.512938, -122.65914],
  [45.51294, -122.659766],
  [45.512941, -122.6606],
  [45.512941, -122.660648],
  [45.512938, -122.660722],
  [45.512936, -122.660777],
  [45.512931, -122.660906],
  [45.512933, -122.661425],
  [45.512935, -122.6619],
  [45.512939, -122.662884],
  [45.512955, -122.665632],
  [45.512956, -122.665745],
  [45.512952, -122.665855],
  [45.512936, -122.666026],
  [45.512915, -122.666148],
  [45.512901, -122.666232],
  [45.512839, -122.666468],
  [45.512633, -122.667005],
  [45.512579, -122.667171],
  [45.51255, -122.667281],
  [45.512535, -122.667373],
  [45.512519, -122.667516],
  [45.512513, -122.667587],
  [45.512509, -122.667669],
  [45.512507, -122.667764],
  [45.512536, -122.667907],
  [45.51254, -122.667957],
  [45.51255, -122.668039],
  [45.512561, -122.668109],
  [45.512617, -122.668346],
  [45.5133, -122.67099],
  [45.513918, -122.673357],
  [45.514017, -122.673754],
  [45.514001, -122.673908],
  [45.514066, -122.674144],
  [45.514136, -122.674205],
  [45.514193, -122.674318],
  [45.514222, -122.674366],
  [45.51425, -122.674402],
  [45.514307, -122.674465],
  [45.51434, -122.674494],
  [45.514418, -122.674548],
  [45.514652, -122.674672],
  [45.514728, -122.674716],
  [45.514794, -122.67476],
  [45.514847, -122.674802],
  [45.514891, -122.674847],
  [45.51495, -122.674923],
  [45.514971, -122.674955],
  [45.515045, -122.675085],
  [45.515088, -122.675178],
  [45.515214, -122.675655],
  [45.515288, -122.675931],
  [45.515325, -122.675997],
  [45.515596, -122.677015],
  [45.515676, -122.677315],
  [45.515671, -122.677407],
  [45.515667, -122.677483],
  [45.515672, -122.677523],
  [45.515688, -122.677564],
  [45.515714, -122.677604],
  [45.515786, -122.677709],
  [45.515865, -122.678006],
  [45.516106, -122.678913],
  [45.51613, -122.679004],
  [45.516133, -122.679014],
  [45.516166, -122.67914],
  [45.516206, -122.67929],
  [45.516359, -122.679864],
  [45.516382, -122.679953],
  [45.516415, -122.680076],
  [45.516423, -122.680091],
  [45.516449, -122.680181],
  [45.516681, -122.681055],
  [45.516551, -122.681126],
  [45.516009, -122.68142],
  [45.51595, -122.681198],
  [45.515744, -122.680426],
  [45.515729, -122.680369],
  [45.515551, -122.679699],
  [45.515473, -122.679407],
  [45.515462, -122.679366],
  [45.515369, -122.679015]
];

const stopNames = {
  "1496": "SE Division &amp; 8th",
  "1596": "SE Ellis &amp; Foster",
  "1598": "SE Ellis &amp; 86th Ave",
  "1766": "SE Foster &amp; 120th",
  "1770": "SE Foster &amp; 131st",
  "1772": "SE Foster &amp; 103rd",
  "1773": "11600 Block SE Foster",
  "1779": "SE Foster &amp; 101st",
  "1782": "SE Foster &amp; 107th",
  "1784": "SE Foster &amp; 111th Dr",
  "1786": "12300 Block SE Foster",
  "1788": "SE Foster &amp; 128th",
  "1790": "SE Foster &amp; 134th",
  "1818": "SE Foster &amp; 82nd",
  "1831": "SE Foster &amp; 94th (I-205 Overpass)",
  "1990": "SE Gladstone &amp; 26th",
  "2506": "12400 Block SE Harold",
  "2507": "12900 Block SE Harold",
  "2510": "SE Harold &amp; 133rd",
  "2523": "SE Harold &amp; 109th",
  "2525": "SE Harold &amp; 111th",
  "2527": "SE Harold &amp; 113th",
  "2529": "SE Harold &amp; 115th",
  "2531": "SE Harold &amp; 118th",
  "2535": "SE Harold &amp; 122nd",
  "2538": "SE Harold &amp; 128th",
  "2540": "SE Harold &amp; 136th",
  "2541": "SE Harold &amp; 52nd",
  "2545": "SE Harold &amp; 57th",
  "2547": "SE Harold &amp; 60th",
  "2549": "SE Harold &amp; 62nd",
  "2553": "SE Harold &amp; 69th",
  "2554": "SE Harold &amp; 72nd",
  "2558": "SE Harold &amp; 74th",
  "2562": "SE 79th &amp; Harold",
  "2563": "SE Harold &amp; 92nd",
  "2565": "SE Harold &amp; 97th",
  "2642": "Hawthorne Bridge",
  "3633": "SE Madison &amp; Grand",
  "5516": "SE Steele &amp; 30th",
  "5517": "SE Steele &amp; 28th",
  "5518": "SE Steele &amp; 32nd",
  "5521": "SE Steele &amp; 34th",
  "5523": "SE Steele &amp; 36th Pl",
  "5525": "SE Steele &amp; Cesar Chavez Blvd",
  "5527": "SE Steele &amp; 41st",
  "5530": "SE Steele &amp; 44th",
  "5533": "SE Steele &amp; 50th",
  "5535": "SE Steele &amp; 52nd",
  "6398": "SE Woodstock &amp; 94th (I-205 West End)",
  "6427": "SE Woodstock &amp; 92nd",
  "6723": "6000 Block SE 136th",
  "6729": "SE 136th &amp; Ramona",
  "7227": "SE 26th &amp; Powell",
  "7231": "SE 26th &amp; Rhone",
  "7232": "SE 26th &amp; Tibbetts",
  "7234": "SE 26th &amp; Woodward",
  "7277": "SE 28th &amp; Gladstone",
  "7282": "SE 28th &amp; Holgate",
  "7289": "SE 28th &amp; Raymond",
  "7856": "SE 7th &amp; Clay",
  "7860": "SE 7th &amp; Harrison",
  "8404": "SE Harold &amp; 67th",
  "8422": "SE Harold &amp; 64th",
  "8844": "SE Harold &amp; 101st",
  "9307": "SE Steele &amp; 46th",
  "11956": "SW Main &amp; 2nd",
  "13122": "SE Harold &amp; 104th",
  "13169": "SW Main &amp; 6th",
  "13236": "SE Foster &amp; 94th",
  "13757": "SE Ellis &amp; 89th",
  "14197": "SE 26th &amp; Division",
  "14203": "SW Madison &amp; 5th",
  "14243": "SE Division &amp; 20th Ave",
  "14244": "SE Division &amp; 11th Ave"
};

const stops = [
  { stop_id: "1831", name: "SE Foster &amp; 94th (I-205 Overpass)", lat: 45.479259, lon: -122.566246, times: ["11:15 AM", "12:00 PM", "12:45 PM", "1:30 PM", "2:15 PM", "3:00 PM", "3:46 PM", "4:32 PM"] },
  { stop_id: "13236", name: "SE Foster &amp; 94th", lat: 45.479586, lon: -122.567497, times: ["11:15 AM", "12:00 PM", "12:45 PM", "1:30 PM", "2:15 PM", "3:00 PM", "3:46 PM", "4:32 PM"] },
  { stop_id: "6427", name: "SE Woodstock &amp; 92nd", lat: 45.479066, lon: -122.56879, times: ["11:16 AM", "12:01 PM", "12:46 PM", "1:31 PM", "2:16 PM", "3:01 PM", "3:47 PM", "4:33 PM"] },
  { stop_id: "6398", name: "SE Woodstock &amp; 94th (I-205 West End)", lat: 45.478266, lon: -122.566121, times: ["11:16 AM", "12:01 PM", "12:46 PM", "1:31 PM", "2:16 PM", "3:01 PM", "3:47 PM", "4:33 PM"] },
  { stop_id: "1779", name: "SE Foster &amp; 101st", lat: 45.477185, lon: -122.560025, times: ["11:17 AM", "12:02 PM", "12:47 PM", "1:32 PM", "2:17 PM", "3:02 PM", "3:48 PM", "4:34 PM"] },
  { stop_id: "1772", name: "SE Foster &amp; 103rd", lat: 45.476535, lon: -122.556592, times: ["11:18 AM", "12:03 PM", "12:48 PM", "1:33 PM", "2:18 PM", "3:03 PM", "3:49 PM", "4:35 PM"] },
  { stop_id: "1782", name: "SE Foster &amp; 107th", lat: 45.475843, lon: -122.552834, times: ["11:19 AM", "12:04 PM", "12:49 PM", "1:34 PM", "2:19 PM", "3:04 PM", "3:50 PM", "4:36 PM"] },
  { stop_id: "1784", name: "SE Foster &amp; 111th Dr", lat: 45.476005, lon: -122.548722, times: ["11:19 AM", "12:04 PM", "12:49 PM", "1:34 PM", "2:19 PM", "3:04 PM", "3:50 PM", "4:36 PM"] },
  { stop_id: "1773", name: "11600 Block SE Foster", lat: 45.476335, lon: -122.543608, times: ["11:20 AM", "12:05 PM", "12:50 PM", "1:35 PM", "2:20 PM", "3:05 PM", "3:51 PM", "4:37 PM"] },
  { stop_id: "1766", name: "SE Foster &amp; 120th", lat: 45.4764, lon: -122.539958, times: ["11:21 AM", "12:06 PM", "12:51 PM", "1:36 PM", "2:21 PM", "3:06 PM", "3:52 PM", "4:38 PM"] },
  { stop_id: "1786", name: "12300 Block SE Foster", lat: 45.476471, lon: -122.535655, times: ["11:22 AM", "12:07 PM", "12:52 PM", "1:37 PM", "2:22 PM", "3:07 PM", "3:53 PM", "4:39 PM"] },
  { stop_id: "1788", name: "SE Foster &amp; 128th", lat: 45.476596, lon: -122.531808, times: ["11:22 AM", "12:07 PM", "12:52 PM", "1:37 PM", "2:22 PM", "3:07 PM", "3:53 PM", "4:39 PM"] },
  { stop_id: "1770", name: "SE Foster &amp; 131st", lat: 45.476693, lon: -122.5286, times: ["11:23 AM", "12:08 PM", "12:53 PM", "1:38 PM", "2:23 PM", "3:08 PM", "3:54 PM", "4:40 PM"] },
  { stop_id: "1790", name: "SE Foster &amp; 134th", lat: 45.476759, lon: -122.525756, times: ["11:23 AM", "12:08 PM", "12:53 PM", "1:38 PM", "2:23 PM", "3:08 PM", "3:54 PM", "4:40 PM"] },
  { stop_id: "6723", name: "6000 Block SE 136th", lat: 45.478269, lon: -122.523489, times: ["11:24 AM", "12:09 PM", "12:54 PM", "1:39 PM", "2:24 PM", "3:09 PM", "3:55 PM", "4:41 PM"] },
  { stop_id: "6729", name: "SE 136th &amp; Ramona", lat: 45.479856, lon: -122.523481, times: ["11:25 AM", "12:10 PM", "12:55 PM", "1:40 PM", "2:25 PM", "3:10 PM", "3:56 PM", "4:42 PM"] },
  { stop_id: "2540", name: "SE Harold &amp; 136th", lat: 45.483485, lon: -122.524025, times: ["11:26 AM", "12:11 PM", "12:56 PM", "1:41 PM", "2:26 PM", "3:11 PM", "3:57 PM", "4:43 PM"] },
  { stop_id: "2510", name: "SE Harold &amp; 133rd", lat: 45.483502, lon: -122.526072, times: ["11:26 AM", "12:11 PM", "12:56 PM", "1:41 PM", "2:26 PM", "3:11 PM", "3:57 PM", "4:43 PM"] },
  { stop_id: "2507", name: "12900 Block SE Harold", lat: 45.483529, lon: -122.529976, times: ["11:27 AM", "12:12 PM", "12:57 PM", "1:42 PM", "2:27 PM", "3:12 PM", "3:58 PM", "4:44 PM"] },
  { stop_id: "2538", name: "SE Harold &amp; 128th", lat: 45.483542, lon: -122.532114, times: ["11:27 AM", "12:12 PM", "12:57 PM", "1:42 PM", "2:27 PM", "3:12 PM", "3:58 PM", "4:44 PM"] },
  { stop_id: "2506", name: "12400 Block SE Harold", lat: 45.483404, lon: -122.535487, times: ["11:28 AM", "12:13 PM", "12:58 PM", "1:43 PM", "2:28 PM", "3:13 PM", "3:59 PM", "4:45 PM"] },
  { stop_id: "2535", name: "SE Harold &amp; 122nd", lat: 45.483238, lon: -122.538422, times: ["11:29 AM", "12:14 PM", "12:59 PM", "1:44 PM", "2:29 PM", "3:14 PM", "4:00 PM", "4:46 PM"] },
  { stop_id: "2531", name: "SE Harold &amp; 118th", lat: 45.483154, lon: -122.54189, times: ["11:29 AM", "12:14 PM", "12:59 PM", "1:44 PM", "2:29 PM", "3:14 PM", "4:00 PM", "4:46 PM"] },
  { stop_id: "2529", name: "SE Harold &amp; 115th", lat: 45.483054, lon: -122.544472, times: ["11:30 AM", "12:15 PM", "1:00 PM", "1:45 PM", "2:30 PM", "3:15 PM", "4:01 PM", "4:47 PM"] },
  { stop_id: "2527", name: "SE Harold &amp; 113th", lat: 45.482972, lon: -122.547002, times: ["11:30 AM", "12:15 PM", "1:00 PM", "1:45 PM", "2:30 PM", "3:15 PM", "4:01 PM", "4:47 PM"] },
  { stop_id: "2525", name: "SE Harold &amp; 111th", lat: 45.482915, lon: -122.548924, times: ["11:31 AM", "12:16 PM", "1:01 PM", "1:46 PM", "2:31 PM", "3:16 PM", "4:02 PM", "4:48 PM"] },
  { stop_id: "2523", name: "SE Harold &amp; 109th", lat: 45.482845, lon: -122.551026, times: ["11:31 AM", "12:16 PM", "1:01 PM", "1:46 PM", "2:31 PM", "3:16 PM", "4:02 PM", "4:48 PM"] },
  { stop_id: "13122", name: "SE Harold &amp; 104th", lat: 45.482695, lon: -122.555497, times: ["11:32 AM", "12:17 PM", "1:02 PM", "1:47 PM", "2:32 PM", "3:17 PM", "4:03 PM", "4:49 PM"] },
  { stop_id: "8844", name: "SE Harold &amp; 101st", lat: 45.482626, lon: -122.558897, times: ["11:33 AM", "12:18 PM", "1:03 PM", "1:48 PM", "2:33 PM", "3:18 PM", "4:04 PM", "4:50 PM"] },
  { stop_id: "2565", name: "SE Harold &amp; 97th", lat: 45.482735, lon: -122.563179, times: ["11:34 AM", "12:19 PM", "1:04 PM", "1:49 PM", "2:34 PM", "3:19 PM", "4:05 PM", "4:51 PM"] },
  { stop_id: "2563", name: "SE Harold &amp; 92nd", lat: 45.48285, lon: -122.567677, times: ["11:35 AM", "12:20 PM", "1:05 PM", "1:50 PM", "2:35 PM", "3:20 PM", "4:06 PM", "4:52 PM"] },
  { stop_id: "13757", name: "SE Ellis &amp; 89th", lat: 45.482306, lon: -122.570758, times: ["11:36 AM", "12:21 PM", "1:06 PM", "1:51 PM", "2:36 PM", "3:21 PM", "4:07 PM", "4:53 PM"] },
  { stop_id: "1598", name: "SE Ellis &amp; 86th Ave", lat: 45.482281, lon: -122.574795, times: ["11:36 AM", "12:21 PM", "1:06 PM", "1:51 PM", "2:36 PM", "3:21 PM", "4:07 PM", "4:53 PM"] },
  { stop_id: "1596", name: "SE Ellis &amp; Foster", lat: 45.482292, lon: -122.57717, times: ["11:37 AM", "12:22 PM", "1:07 PM", "1:52 PM", "2:37 PM", "3:22 PM", "4:08 PM", "4:54 PM"] },
  { stop_id: "1818", name: "SE Foster &amp; 82nd", lat: 45.483182, lon: -122.579641, times: ["11:38 AM", "12:23 PM", "1:08 PM", "1:53 PM", "2:38 PM", "3:23 PM", "4:09 PM", "4:55 PM"] },
  { stop_id: "2562", name: "SE 79th &amp; Harold", lat: 45.483168, lon: -122.58245, times: ["11:38 AM", "12:23 PM", "1:08 PM", "1:53 PM", "2:38 PM", "3:23 PM", "4:09 PM", "4:55 PM"] },
  { stop_id: "2558", name: "SE Harold &amp; 74th", lat: 45.483118, lon: -122.586552, times: ["11:39 AM", "12:24 PM", "1:09 PM", "1:54 PM", "2:39 PM", "3:24 PM", "4:10 PM", "4:56 PM"] },
  { stop_id: "2554", name: "SE Harold &amp; 72nd", lat: 45.483107, lon: -122.589053, times: ["11:40 AM", "12:25 PM", "1:10 PM", "1:55 PM", "2:40 PM", "3:25 PM", "4:11 PM", "4:57 PM"] },
  { stop_id: "2553", name: "SE Harold &amp; 69th", lat: 45.4831, lon: -122.59272, times: ["11:41 AM", "12:26 PM", "1:11 PM", "1:56 PM", "2:41 PM", "3:26 PM", "4:12 PM", "4:58 PM"] },
  { stop_id: "8404", name: "SE Harold &amp; 67th", lat: 45.483094, lon: -122.594286, times: ["11:41 AM", "12:26 PM", "1:11 PM", "1:56 PM", "2:41 PM", "3:26 PM", "4:12 PM", "4:58 PM"] },
  { stop_id: "8422", name: "SE Harold &amp; 64th", lat: 45.4831, lon: -122.597429, times: ["11:42 AM", "12:27 PM", "1:12 PM", "1:57 PM", "2:42 PM", "3:27 PM", "4:13 PM", "4:59 PM"] },
  { stop_id: "2549", name: "SE Harold &amp; 62nd", lat: 45.483091, lon: -122.599444, times: ["11:42 AM", "12:27 PM", "1:12 PM", "1:57 PM", "2:42 PM", "3:27 PM", "4:13 PM", "4:59 PM"] },
  { stop_id: "2547", name: "SE Harold &amp; 60th", lat: 45.483079, lon: -122.60201, times: ["11:43 AM", "12:28 PM", "1:13 PM", "1:58 PM", "2:43 PM", "3:28 PM", "4:14 PM", "5:00 PM"] },
  { stop_id: "2545", name: "SE Harold &amp; 57th", lat: 45.483107, lon: -122.605101, times: ["11:43 AM", "12:28 PM", "1:13 PM", "1:58 PM", "2:43 PM", "3:28 PM", "4:14 PM", "5:00 PM"] },
  { stop_id: "2541", name: "SE Harold &amp; 52nd", lat: 45.483099, lon: -122.608537, times: ["11:44 AM", "12:29 PM", "1:14 PM", "1:59 PM", "2:44 PM", "3:29 PM", "4:15 PM", "5:01 PM"] },
  { stop_id: "5535", name: "SE Steele &amp; 52nd", lat: 45.484751, lon: -122.609105, times: ["11:45 AM", "12:30 PM", "1:15 PM", "2:00 PM", "2:45 PM", "3:30 PM", "4:16 PM", "5:02 PM"] },
  { stop_id: "5533", name: "SE Steele &amp; 50th", lat: 45.484749, lon: -122.611685, times: ["11:45 AM", "12:30 PM", "1:15 PM", "2:00 PM", "2:45 PM", "3:30 PM", "4:16 PM", "5:02 PM"] },
  { stop_id: "9307", name: "SE Steele &amp; 46th", lat: 45.484762, lon: -122.61534, times: ["11:46 AM", "12:31 PM", "1:16 PM", "2:01 PM", "2:46 PM", "3:31 PM", "4:17 PM", "5:03 PM"] },
  { stop_id: "5530", name: "SE Steele &amp; 44th", lat: 45.484758, lon: -122.61737, times: ["11:46 AM", "12:31 PM", "1:16 PM", "2:01 PM", "2:46 PM", "3:31 PM", "4:17 PM", "5:03 PM"] },
  { stop_id: "5527", name: "SE Steele &amp; 41st", lat: 45.484754, lon: -122.620322, times: ["11:47 AM", "12:32 PM", "1:17 PM", "2:02 PM", "2:47 PM", "3:32 PM", "4:18 PM", "5:04 PM"] },
  { stop_id: "5525", name: "SE Steele &amp; Cesar Chavez Blvd", lat: 45.484782, lon: -122.622466, times: ["11:48 AM", "12:33 PM", "1:18 PM", "2:03 PM", "2:48 PM", "3:33 PM", "4:19 PM", "5:05 PM"] },
  { stop_id: "5523", name: "SE Steele &amp; 36th Pl", lat: 45.484781, lon: -122.626091, times: ["11:48 AM", "12:33 PM", "1:18 PM", "2:03 PM", "2:48 PM", "3:33 PM", "4:19 PM", "5:05 PM"] },
  { stop_id: "5521", name: "SE Steele &amp; 34th", lat: 45.484777, lon: -122.628678, times: ["11:49 AM", "12:34 PM", "1:19 PM", "2:04 PM", "2:49 PM", "3:34 PM", "4:20 PM", "5:06 PM"] },
  { stop_id: "5518", name: "SE Steele &amp; 32nd", lat: 45.484778, lon: -122.631794, times: ["11:50 AM", "12:35 PM", "1:20 PM", "2:05 PM", "2:50 PM", "3:35 PM", "4:21 PM", "5:07 PM"] },
  { stop_id: "5516", name: "SE Steele &amp; 30th", lat: 45.484781, lon: -122.635074, times: ["11:50 AM", "12:35 PM", "1:20 PM", "2:05 PM", "2:50 PM", "3:35 PM", "4:21 PM", "5:07 PM"] },
  { stop_id: "5517", name: "SE Steele &amp; 28th", lat: 45.484773, lon: -122.637091, times: ["11:51 AM", "12:36 PM", "1:21 PM", "2:06 PM", "2:51 PM", "3:36 PM", "4:22 PM", "5:08 PM"] },
  { stop_id: "7289", name: "SE 28th &amp; Raymond", lat: 45.48713, lon: -122.637421, times: ["11:52 AM", "12:37 PM", "1:22 PM", "2:07 PM", "2:52 PM", "3:37 PM", "4:23 PM", "5:09 PM"] },
  { stop_id: "7282", name: "SE 28th &amp; Holgate", lat: 45.490079, lon: -122.637523, times: ["11:52 AM", "12:37 PM", "1:22 PM", "2:07 PM", "2:52 PM", "3:37 PM", "4:23 PM", "5:09 PM"] },
  { stop_id: "7277", name: "SE 28th &amp; Gladstone", lat: 45.493241, lon: -122.637539, times: ["11:53 AM", "12:38 PM", "1:23 PM", "2:08 PM", "2:53 PM", "3:38 PM", "4:24 PM", "5:10 PM"] },
  { stop_id: "1990", name: "SE Gladstone &amp; 26th", lat: 45.493413, lon: -122.639385, times: ["11:54 AM", "12:39 PM", "1:24 PM", "2:09 PM", "2:54 PM", "3:39 PM", "4:25 PM", "5:11 PM"] },
  { stop_id: "7231", name: "SE 26th &amp; Rhone", lat: 45.495949, lon: -122.639532, times: ["11:55 AM", "12:40 PM", "1:25 PM", "2:10 PM", "2:55 PM", "3:40 PM", "4:26 PM", "5:12 PM"] },
  { stop_id: "7227", name: "SE 26th &amp; Powell", lat: 45.498557, lon: -122.63955, times: ["11:11 AM", "11:56 AM", "12:41 PM", "1:26 PM", "2:11 PM", "2:56 PM", "3:41 PM", "4:27 PM"] },
  { stop_id: "7232", name: "SE 26th &amp; Tibbetts", lat: 45.500436, lon: -122.639553, times: ["11:11 AM", "11:56 AM", "12:41 PM", "1:26 PM", "2:11 PM", "2:56 PM", "3:41 PM", "4:27 PM"] },
  { stop_id: "7234", name: "SE 26th &amp; Woodward", lat: 45.501857, lon: -122.639569, times: ["11:12 AM", "11:57 AM", "12:42 PM", "1:27 PM", "2:12 PM", "2:57 PM", "3:42 PM", "4:28 PM"] },
  { stop_id: "14197", name: "SE 26th &amp; Division", lat: 45.504646, lon: -122.63958, times: ["11:13 AM", "11:58 AM", "12:43 PM", "1:28 PM", "2:13 PM", "2:58 PM", "3:43 PM", "4:29 PM"] },
  { stop_id: "14243", name: "SE Division &amp; 20th Ave", lat: 45.504888, lon: -122.645979, times: ["11:15 AM", "12:00 PM", "12:45 PM", "1:30 PM", "2:15 PM", "3:00 PM", "3:45 PM", "4:31 PM"] },
  { stop_id: "14244", name: "SE Division &amp; 11th Ave", lat: 45.504921, lon: -122.655159, times: ["11:17 AM", "12:02 PM", "12:47 PM", "1:32 PM", "2:18 PM", "3:03 PM", "3:48 PM", "4:34 PM"] },
  { stop_id: "1496", name: "SE Division &amp; 8th", lat: 45.506113, lon: -122.658157, times: ["11:18 AM", "12:03 PM", "12:48 PM", "1:33 PM", "2:19 PM", "3:04 PM", "3:49 PM", "4:35 PM"] },
  { stop_id: "7860", name: "SE 7th &amp; Harrison", lat: 45.508907, lon: -122.658603, times: ["11:19 AM", "12:04 PM", "12:49 PM", "1:34 PM", "2:20 PM", "3:05 PM", "3:50 PM", "4:36 PM"] },
  { stop_id: "7856", name: "SE 7th &amp; Clay", lat: 45.511749, lon: -122.658591, times: ["11:20 AM", "12:05 PM", "12:50 PM", "1:35 PM", "2:21 PM", "3:06 PM", "3:51 PM", "4:37 PM"] },
  { stop_id: "3633", name: "SE Madison &amp; Grand", lat: 45.513009, lon: -122.6606, times: ["11:21 AM", "12:06 PM", "12:51 PM", "1:36 PM", "2:22 PM", "3:07 PM", "3:52 PM", "4:38 PM"] },
  { stop_id: "2642", name: "Hawthorne Bridge", lat: 45.513021, lon: -122.666184, times: ["11:23 AM", "12:08 PM", "12:53 PM", "1:38 PM", "2:24 PM", "3:09 PM", "3:54 PM", "4:40 PM"] },
  { stop_id: "11956", name: "SW Main &amp; 2nd", lat: 45.515274, lon: -122.675621, times: ["11:26 AM", "12:11 PM", "12:56 PM", "1:41 PM", "2:27 PM", "3:12 PM", "3:57 PM", "4:43 PM"] },
  { stop_id: "13169", name: "SW Main &amp; 6th", lat: 45.516403, lon: -122.679839, times: ["11:27 AM", "12:12 PM", "12:57 PM", "1:42 PM", "2:28 PM", "3:13 PM", "3:58 PM", "4:44 PM"] },
  { stop_id: "14203", name: "SW Madison &amp; 5th", lat: 45.515321, lon: -122.679038, times: ["11:29 AM", "12:14 PM", "12:59 PM", "1:44 PM", "2:30 PM", "3:15 PM", "4:00 PM", "4:46 PM"] },
]

    const polylineOut = L.polyline(shapeOutbound, { color: 'blue', weight: 4, opacity: 0.7 }).addTo(map);
    map.fitBounds(polylineOut.getBounds());

    const nowPT = new Date(new Date().toLocaleString('en-US', { timeZone: 'America/Los_Angeles' }));
    const nowMins = nowPT.getHours() * 60 + nowPT.getMinutes();

    stops.forEach(stop => {
      let highlightedTimes = [];
      let foundNext = false;
      stop.times.forEach(timeStr => {
        let cleanTime = timeStr.trim();
        let [h, m] = cleanTime.split(":");
        let schedMins = parseInt(h, 10) * 60 + parseInt(m, 10);
        if (schedMins < nowMins && nowMins - schedMins > 720) {
          schedMins += 1440;
        }
        if (!foundNext && schedMins >= nowMins) {
          highlightedTimes.push(`<span style="background:#4dd0e1; color:#000; padding:2px 6px; border-radius:6px; font-weight:bold;">${cleanTime}</span>`);
          foundNext = true;
        } else {
          highlightedTimes.push(cleanTime);
        }
      });

      L.circleMarker([stop.lat, stop.lon], {
        radius: 6,
        color: '#4dd0e1',
        fillColor: '#4dd0e1',
        fillOpacity: 0.9,
        weight: 1
      })
      .bindPopup(`<strong>${stop.name}</strong><br>${highlightedTimes.join("<br>") || 'No scheduled times'}`)
      .addTo(map);
    });

    let busMarkers = {};
    async function fetchAndDisplay() {
      const res = await fetch(`https://developer.trimet.org/ws/v2/vehicles?route=${routeNumber}&appID=${apiKey}&json=true`);
      const data = await res.json();
      const buses = (data.resultSet.vehicle || []).filter(v => v.routeNumber == routeNumber && v.direction == direction);

      Object.values(busMarkers).forEach(m => map.removeLayer(m));
      busMarkers = {};
      if (!buses.length) return;

      buses.forEach(bus => {
        if (!bus.latitude || !bus.longitude || !bus.blockID) return;
        const icon = L.divIcon({    
           className: '',
           html: `
            <div style="text-align:center;">
              <div style="background:#0071CE;color:#fff;padding:2px 6px;border-radius:6px;font-weight:bold;">${bus.vehicleID}</div>
              <div style="width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:10px solid #00bfff;margin:auto;"></div>
            </div>
          `,
          iconSize: [40, 30], iconAnchor: [20, 30]
        });
        const marker = L.marker([bus.latitude, bus.longitude], { icon }).addTo(map);
        busMarkers[bus.vehicleID] = marker;
      });
    }
    fetchAndDisplay();
    setInterval(fetchAndDisplay, 15000);
  </script>

  <footer class="site-footer">
    <a href="terms.html">Terms of Use</a> &nbsp;|&nbsp;
    <a href="contact.html">Contact Us</a> &nbsp;|&nbsp;
    <a href="report.html">Report a Problem</a> &nbsp;|&nbsp;
    <a href="dmca.html">DMCA</a> &nbsp;|&nbsp;
    <a href="privacy.html">Privacy Policy</a>
  </footer>

  <script>
    if (!localStorage.getItem('cookieConsent')) {
      document.write(`
        <div id="cookie-banner" style="position: fixed; bottom: 0; left: 0; right: 0; background: #333; color: #fff; padding: 1rem; z-index: 1000; font-size: 0.9rem; line-height: 1.4; text-align: center; box-sizing: border-box;">
          📢 We use cookies to improve functionality and analyze traffic.
          By using MetroFeed, you agree to our 
          <a href='privacy.html' style='color: #4dd0e1; text-decoration: underline;'>Privacy Policy</a>.<br>
          <button onclick='localStorage.setItem("cookieConsent", "true"); document.getElementById("cookie-banner").remove();' style='margin-top: 0.5rem; background: #4dd0e1; color: #000; border: none; padding: 0.5rem 1rem; border-radius: 5px; cursor: pointer; font-weight: bold;'>OK</button>
        </div>
      `);
    }
  </script>
</body>
</html>