<!DOCTYPE html>
<html lang="en">
<head>
  
<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-2219550569810489"
     crossorigin="anonymous"></script>

<meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Route 38 - To Tualatin Park & Ride | MetroFeed Portland</title>
  <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
  <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
  <style>
    body {
      margin: 0;
      font-family: 'Segoe UI', sans-serif;
      background-color: #0d0d0d;
      color: #cccccc;
    }
    header {
      background-color: #0d0d0d;
      border-bottom: 3px solid #4dd0e1;
      padding: 1rem;
      text-align: center;
    }
    header img {
      max-height: 60px;
    }
     .ad-banner {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      background: #222;
      padding: 0.5rem 0;
      z-index: 1000;
      box-shadow: 0 2px 8px rgba(0,0,0,0.5);
      text-align: center;
    }

    .ad-banner img {
      width: 100%;
      max-width: 728px;
      height: auto;
      max-height: 90px;
      display: block;
      margin: 0 auto;
    }
    h1 {
      text-align: center;
      margin: 1rem 0;
      font-size: 2rem;
      color: #f0f0f0;
    }
    .content-box {
      border: 2px solid #4dd0e1;
      border-radius: 12px;
      padding: 1rem;
      margin: 1rem;
      background-color: #1e1e1e;
    }
    #map {
      width: 100%;
      height: 400px;
      border-radius: 8px;
    }
    .button-bar {
      display: flex;
      justify-content: center;
      margin: 1rem 0;
    }
    .button-bar a {
      background: #4dd0e1;
      color: #0d0d0d;
      padding: 0.5rem 1rem;
      text-decoration: none;
      border-radius: 8px;
      font-weight: bold;
    }

.back-button {
  background-color: #4dd0e1;
  color: #0d0d0d;
  border: none;
  padding: 0.6rem 1.2rem;
  font-size: 1rem;
  font-weight: bold;
  border-radius: 8px;
  cursor: pointer;
  box-shadow: 0 0 10px #4dd0e1;
  text-decoration: none;
}
.back-button:hover {
  background-color: #35c0d6;
}
.site-footer {
      text-align: center;
      margin-top: 3rem;
      margin-bottom: 120px;
      font-size: 0.85rem;
      color: #aaa;
    }
    .site-footer a {
      color: #00BFFF;
      text-decoration: none;
    }
    .site-footer a:hover {
      text-decoration: underline;
    }
  @media (max-width: 600px) {
      .ad-banner {
        padding-top: 1rem;
        padding-bottom: 1rem;
      }
    }
  </style>
</head>
<body>
 
  <!-- üü¶ Auto-Injected Banner Ad (route-specific) -->
  <div class="ad-banner">
    <iframe src="https://metrofeedus.com/portland/Ads/route-38-dir0-ad.html" style="border:none; width:100%; height:120px;"></iframe>
  </div>


 <header>
    <img src="MetroFeedPortlandLogo.png" alt="MetroFeed Portland">
  </header>

  <div class="disclaimer" style="margin: 1rem auto 0.5rem; max-width: 600px; font-size: 0.8rem; color: #bbb; text-align: center; padding: 0.5rem 1rem; background-color: #111; border: 1px dashed #444; border-radius: 6px;">
    ‚ö†Ô∏è This is a Beta program, work in progress. Please REPORT bugs and pretend to be impressed.
  </div>
  <div class="disclaimer" style="margin: 0 auto 1rem; max-width: 600px; font-size: 0.75rem; color: #888; text-align: center; padding: 0.25rem 1rem;">
    This tool is not affiliated with or endorsed by TriMet. For official schedules and service alerts, visit <a href="https://trimet.org" style="color:#4dd0e1;">trimet.org</a>.
  </div>

  <div style="margin: 2rem 0; text-align: center;">
  <button class="back-button" onclick="history.back()">‚¨Ö Back</button>
  </div>

  <h1>Route 38 - To Tualatin Park & Ride</h1>

  <div class="content-box">
    <div id="map"></div>
    <div style="text-align:right; font-size: 0.7rem; color: #777; margin-top: 0.5rem;">
      Data courtesy of TriMet.
    </div>
  </div>

  
  <script>
  const apiKey = "2C4447D4A42083BCD84DE3B8E";
  const routeNumber = 38;
  const direction = parseInt(0);

  const map = L.map('map').setView([45.6, -122.7], 12);
  L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
    maxZoom: 19
  }).addTo(map);

  const shapeOutbound = [
  [45.515379, -122.684774],
  [45.515373, -122.684748],
  [45.51534, -122.684626],
  [45.515333, -122.684597],
  [45.515285, -122.684419],
  [45.515237, -122.684237],
  [45.515083, -122.683659],
  [45.514967, -122.683221],
  [45.514942, -122.683128],
  [45.514679, -122.68214],
  [45.5145, -122.681466],
  [45.514444, -122.681256],
  [45.514415, -122.681146],
  [45.514408, -122.681121],
  [45.514382, -122.681022],
  [45.514274, -122.680616],
  [45.514175, -122.680244],
  [45.514141, -122.680117],
  [45.514133, -122.680086],
  [45.514111, -122.680004],
  [45.514005, -122.679607],
  [45.513957, -122.679425],
  [45.513866, -122.679083],
  [45.513603, -122.678095],
  [45.513359, -122.677176],
  [45.513332, -122.677076],
  [45.513145, -122.676372],
  [45.513084, -122.676141],
  [45.512833, -122.675199],
  [45.512664, -122.675291],
  [45.512325, -122.675474],
  [45.51225, -122.675515],
  [45.512124, -122.675476],
  [45.512039, -122.675514],
  [45.511529, -122.675797],
  [45.51146, -122.675844],
  [45.511397, -122.675992],
  [45.511147, -122.676128],
  [45.511046, -122.676126],
  [45.510749, -122.676303],
  [45.510641, -122.676362],
  [45.509857, -122.676785],
  [45.509748, -122.676839],
  [45.50968, -122.676871],
  [45.509561, -122.676927],
  [45.50955, -122.676932],
  [45.509472, -122.67697],
  [45.50946, -122.676975],
  [45.509404, -122.677076],
  [45.509008, -122.677291],
  [45.508952, -122.67732],
  [45.50883, -122.677377],
  [45.508737, -122.677415],
  [45.508633, -122.677453],
  [45.508535, -122.677483],
  [45.508439, -122.677507],
  [45.508327, -122.677531],
  [45.508223, -122.677545],
  [45.508096, -122.677556],
  [45.508031, -122.677501],
  [45.508006, -122.677503],
  [45.507961, -122.677505],
  [45.507939, -122.677507],
  [45.507722, -122.677519],
  [45.507477, -122.677529],
  [45.507189, -122.677533],
  [45.506196, -122.677558],
  [45.506121, -122.677619],
  [45.506096, -122.677621],
  [45.506013, -122.677626],
  [45.505767, -122.677639],
  [45.505558, -122.677655],
  [45.505188, -122.677678],
  [45.504603, -122.677718],
  [45.504308, -122.677735],
  [45.503705, -122.677773],
  [45.503434, -122.677781],
  [45.50248, -122.677798],
  [45.502426, -122.677798],
  [45.502246, -122.677798],
  [45.501746, -122.677806],
  [45.501098, -122.677813],
  [45.500659, -122.677809],
  [45.500117, -122.677799],
  [45.499904, -122.677797],
  [45.499296, -122.677793],
  [45.499205, -122.677797],
  [45.49888, -122.677809],
  [45.497404, -122.677895],
  [45.496274, -122.677958],
  [45.496004, -122.677968],
  [45.495863, -122.677974],
  [45.495773, -122.67797],
  [45.495672, -122.677959],
  [45.495577, -122.677939],
  [45.495511, -122.677919],
  [45.495415, -122.677886],
  [45.495323, -122.677847],
  [45.495144, -122.67775],
  [45.495046, -122.677676],
  [45.494782, -122.677486],
  [45.494672, -122.677412],
  [45.494587, -122.677369],
  [45.49448, -122.677322],
  [45.494252, -122.677259],
  [45.493514, -122.67709],
  [45.493154, -122.677015],
  [45.493012, -122.676997],
  [45.492849, -122.676994],
  [45.492707, -122.677007],
  [45.492633, -122.677018],
  [45.492542, -122.677006],
  [45.492406, -122.677055],
  [45.492249, -122.677124],
  [45.492146, -122.677179],
  [45.492049, -122.677234],
  [45.491943, -122.677306],
  [45.491848, -122.677375],
  [45.491728, -122.67747],
  [45.491624, -122.677566],
  [45.491529, -122.677668],
  [45.491404, -122.677828],
  [45.491237, -122.678039],
  [45.49116, -122.678154],
  [45.491113, -122.678228],
  [45.491067, -122.678306],
  [45.491016, -122.678395],
  [45.490967, -122.678493],
  [45.490944, -122.678537],
  [45.490843, -122.678593],
  [45.490757, -122.678814],
  [45.490705, -122.678954],
  [45.490673, -122.679056],
  [45.490642, -122.679164],
  [45.490611, -122.679292],
  [45.49058, -122.67943],
  [45.490417, -122.680215],
  [45.490372, -122.680423],
  [45.490331, -122.680598],
  [45.490308, -122.680691],
  [45.490279, -122.680794],
  [45.490231, -122.68095],
  [45.490162, -122.681142],
  [45.490097, -122.681312],
  [45.490026, -122.68147],
  [45.489957, -122.681607],
  [45.489873, -122.681753],
  [45.489853, -122.681786],
  [45.489796, -122.681875],
  [45.489722, -122.681983],
  [45.489639, -122.682088],
  [45.489548, -122.682194],
  [45.489447, -122.6823],
  [45.489389, -122.682355],
  [45.489333, -122.682404],
  [45.489259, -122.682466],
  [45.489185, -122.682521],
  [45.489125, -122.68256],
  [45.489054, -122.682604],
  [45.488991, -122.682638],
  [45.488938, -122.682665],
  [45.488894, -122.682684],
  [45.488831, -122.68271],
  [45.488775, -122.682728],
  [45.488718, -122.682742],
  [45.488656, -122.682755],
  [45.488594, -122.682765],
  [45.48853, -122.68277],
  [45.488459, -122.682772],
  [45.488325, -122.682767],
  [45.48786, -122.682743],
  [45.487733, -122.68273],
  [45.487587, -122.682711],
  [45.487484, -122.682759],
  [45.48724, -122.682709],
  [45.487076, -122.682667],
  [45.487005, -122.682581],
  [45.485587, -122.682089],
  [45.485476, -122.682057],
  [45.485344, -122.681997],
  [45.48527, -122.68196],
  [45.48519, -122.681915],
  [45.485111, -122.681864],
  [45.48499, -122.681773],
  [45.484806, -122.681621],
  [45.484592, -122.681433],
  [45.484301, -122.681187],
  [45.484074, -122.681016],
  [45.483951, -122.680935],
  [45.483856, -122.680876],
  [45.483746, -122.680825],
  [45.48364, -122.680779],
  [45.483509, -122.680738],
  [45.483312, -122.680693],
  [45.482285, -122.680532],
  [45.481433, -122.680393],
  [45.481004, -122.680326],
  [45.480631, -122.680269],
  [45.480322, -122.680224],
  [45.480235, -122.680205],
  [45.480131, -122.68019],
  [45.479148, -122.680042],
  [45.477115, -122.679732],
  [45.477017, -122.679713],
  [45.476814, -122.679684],
  [45.476758, -122.679674],
  [45.476739, -122.67967],
  [45.47538, -122.679476],
  [45.475204, -122.679441],
  [45.474658, -122.679354],
  [45.474135, -122.679283],
  [45.473954, -122.67926],
  [45.473806, -122.679239],
  [45.473688, -122.67923],
  [45.473546, -122.679229],
  [45.473374, -122.679241],
  [45.473232, -122.679272],
  [45.473062, -122.679311],
  [45.473004, -122.679394],
  [45.472896, -122.679437],
  [45.472778, -122.679493],
  [45.47266, -122.679561],
  [45.472585, -122.679605],
  [45.472523, -122.679648],
  [45.472406, -122.67974],
  [45.472298, -122.679831],
  [45.472138, -122.679984],
  [45.472041, -122.680095],
  [45.471952, -122.680199],
  [45.471878, -122.680289],
  [45.471788, -122.680409],
  [45.471708, -122.680529],
  [45.47163, -122.680656],
  [45.471562, -122.68078],
  [45.47152, -122.680864],
  [45.471494, -122.680914],
  [45.471433, -122.681051],
  [45.47139, -122.681165],
  [45.471291, -122.681486],
  [45.471252, -122.681617],
  [45.471219, -122.681755],
  [45.47119, -122.681894],
  [45.471166, -122.682016],
  [45.471135, -122.682214],
  [45.471115, -122.682373],
  [45.471098, -122.682531],
  [45.471088, -122.682718],
  [45.471088, -122.683044],
  [45.471094, -122.683386],
  [45.471102, -122.684034],
  [45.471107, -122.684293],
  [45.471111, -122.684538],
  [45.471125, -122.685351],
  [45.471128, -122.685587],
  [45.471016, -122.685609],
  [45.470919, -122.68563],
  [45.47086, -122.685656],
  [45.470811, -122.685677],
  [45.470689, -122.685727],
  [45.470001, -122.686059],
  [45.469896, -122.68611],
  [45.469596, -122.68625],
  [45.46936, -122.686362],
  [45.469276, -122.686397],
  [45.469199, -122.686415],
  [45.469146, -122.686421],
  [45.469075, -122.686423],
  [45.468991, -122.686417],
  [45.468935, -122.686408],
  [45.468868, -122.686394],
  [45.468808, -122.686371],
  [45.468758, -122.686347],
  [45.468698, -122.686318],
  [45.468639, -122.686276],
  [45.468564, -122.686222],
  [45.468497, -122.686161],
  [45.468406, -122.686073],
  [45.468331, -122.685987],
  [45.468234, -122.685864],
  [45.468032, -122.685611],
  [45.467826, -122.68534],
  [45.467488, -122.684903],
  [45.467466, -122.684876],
  [45.467423, -122.684791],
  [45.467342, -122.684603],
  [45.467335, -122.684587],
  [45.467297, -122.684477],
  [45.467259, -122.684371],
  [45.467194, -122.684191],
  [45.467112, -122.684004],
  [45.467056, -122.683902],
  [45.466984, -122.683802],
  [45.46689, -122.683696],
  [45.466803, -122.683619],
  [45.466704, -122.683555],
  [45.466598, -122.683503],
  [45.466507, -122.683474],
  [45.466388, -122.683449],
  [45.466225, -122.683446],
  [45.465426, -122.683478],
  [45.46468, -122.683504],
  [45.46446, -122.683546],
  [45.46433, -122.683576],
  [45.464199, -122.683628],
  [45.464094, -122.683687],
  [45.464019, -122.683753],
  [45.463992, -122.683777],
  [45.463934, -122.683847],
  [45.463888, -122.683922],
  [45.463856, -122.683988],
  [45.463813, -122.684079],
  [45.463738, -122.684257],
  [45.463677, -122.68438],
  [45.463638, -122.684455],
  [45.463586, -122.684553],
  [45.463503, -122.684661],
  [45.463413, -122.684749],
  [45.463363, -122.684792],
  [45.463303, -122.684831],
  [45.463285, -122.684842],
  [45.46318, -122.684894],
  [45.463091, -122.684926],
  [45.463037, -122.684943],
  [45.462978, -122.684956],
  [45.462951, -122.684959],
  [45.462842, -122.68496],
  [45.462726, -122.684962],
  [45.462722, -122.684962],
  [45.462572, -122.684963],
  [45.462441, -122.684965],
  [45.46235, -122.684963],
  [45.461962, -122.684957],
  [45.461861, -122.684962],
  [45.461762, -122.684966],
  [45.461613, -122.684971],
  [45.461285, -122.684973],
  [45.461157, -122.684973],
  [45.459529, -122.684975],
  [45.459272, -122.684971],
  [45.458735, -122.68496],
  [45.458109, -122.684959],
  [45.4575, -122.684955],
  [45.457219, -122.684958],
  [45.457006, -122.684961],
  [45.456765, -122.684954],
  [45.456617, -122.68494],
  [45.456466, -122.684902],
  [45.456304, -122.684831],
  [45.456133, -122.684748],
  [45.455547, -122.684386],
  [45.455001, -122.684061],
  [45.454744, -122.683908],
  [45.45463, -122.683817],
  [45.454527, -122.683722],
  [45.454498, -122.683695],
  [45.454413, -122.683584],
  [45.454367, -122.683513],
  [45.454309, -122.683415],
  [45.454179, -122.683134],
  [45.454088, -122.682911],
  [45.453981, -122.682661],
  [45.453916, -122.68251],
  [45.453863, -122.682501],
  [45.453849, -122.68249],
  [45.453687, -122.682269],
  [45.453638, -122.682203],
  [45.453597, -122.682174],
  [45.453566, -122.682148],
  [45.453389, -122.682032],
  [45.45335, -122.681972],
  [45.453225, -122.681936],
  [45.453121, -122.681916],
  [45.453024, -122.681915],
  [45.452958, -122.681919],
  [45.452841, -122.681938],
  [45.452742, -122.681972],
  [45.452656, -122.682011],
  [45.452588, -122.682055],
  [45.452457, -122.682147],
  [45.452391, -122.682215],
  [45.452283, -122.682338],
  [45.452226, -122.682421],
  [45.452172, -122.682505],
  [45.452107, -122.682629],
  [45.451992, -122.68288],
  [45.45193, -122.683023],
  [45.451823, -122.683246],
  [45.451789, -122.683317],
  [45.451633, -122.683596],
  [45.451423, -122.683913],
  [45.451079, -122.684396],
  [45.450837, -122.68472],
  [45.450594, -122.685062],
  [45.450492, -122.685208],
  [45.450395, -122.685322],
  [45.450295, -122.685418],
  [45.450212, -122.685491],
  [45.450128, -122.68555],
  [45.449997, -122.685651],
  [45.449874, -122.685739],
  [45.449736, -122.685811],
  [45.449353, -122.686002],
  [45.44912, -122.686127],
  [45.448899, -122.686227],
  [45.448893, -122.68623],
  [45.448397, -122.686467],
  [45.447886, -122.686719],
  [45.447798, -122.686762],
  [45.447453, -122.686937],
  [45.447413, -122.686958],
  [45.447306, -122.687012],
  [45.447188, -122.687059],
  [45.447097, -122.687089],
  [45.446953, -122.687124],
  [45.446855, -122.687144],
  [45.446772, -122.687151],
  [45.446685, -122.687151],
  [45.446612, -122.687147],
  [45.446556, -122.687133],
  [45.446507, -122.687119],
  [45.446426, -122.68709],
  [45.446382, -122.687071],
  [45.446332, -122.687048],
  [45.446223, -122.686986],
  [45.446062, -122.686885],
  [45.445714, -122.686633],
  [45.445634, -122.686568],
  [45.445561, -122.686516],
  [45.445516, -122.686486],
  [45.445449, -122.68645],
  [45.445274, -122.686383],
  [45.445224, -122.686373],
  [45.445153, -122.686359],
  [45.445088, -122.686353],
  [45.445004, -122.686358],
  [45.444826, -122.686398],
  [45.444453, -122.686497],
  [45.444112, -122.686594],
  [45.443831, -122.686675],
  [45.443735, -122.686702],
  [45.443652, -122.686718],
  [45.443578, -122.686727],
  [45.443395, -122.686729],
  [45.443267, -122.686717],
  [45.443106, -122.686692],
  [45.442944, -122.686658],
  [45.442846, -122.686638],
  [45.442788, -122.686624],
  [45.442596, -122.686576],
  [45.442461, -122.686546],
  [45.442351, -122.68652],
  [45.442105, -122.686454],
  [45.442011, -122.686424],
  [45.441963, -122.686407],
  [45.441925, -122.686386],
  [45.441436, -122.686021],
  [45.440916, -122.685669],
  [45.440848, -122.685616],
  [45.440781, -122.685569],
  [45.440713, -122.685533],
  [45.44063, -122.685505],
  [45.440563, -122.685493],
  [45.44048, -122.685505],
  [45.440413, -122.685516],
  [45.440332, -122.685549],
  [45.440261, -122.685588],
  [45.440187, -122.685667],
  [45.440135, -122.685728],
  [45.440087, -122.6858],
  [45.439833, -122.686274],
  [45.439752, -122.686422],
  [45.439632, -122.686649],
  [45.439609, -122.686713],
  [45.439545, -122.68689],
  [45.439509, -122.687043],
  [45.439501, -122.687083],
  [45.439477, -122.687212],
  [45.439371, -122.687846],
  [45.439265, -122.688464],
  [45.43924, -122.688616],
  [45.439209, -122.688776],
  [45.439153, -122.689051],
  [45.439083, -122.689324],
  [45.439026, -122.689514],
  [45.43897, -122.689686],
  [45.438902, -122.689882],
  [45.438821, -122.690086],
  [45.438691, -122.690394],
  [45.438583, -122.690634],
  [45.438516, -122.690794],
  [45.438028, -122.691961],
  [45.437994, -122.692055],
  [45.437848, -122.692424],
  [45.437795, -122.69256],
  [45.437181, -122.694037],
  [45.43699, -122.694586],
  [45.436943, -122.69472],
  [45.436714, -122.695408],
  [45.436548, -122.695915],
  [45.436509, -122.696036],
  [45.436346, -122.696529],
  [45.436267, -122.696775],
  [45.436191, -122.696998],
  [45.436133, -122.697164],
  [45.436073, -122.697311],
  [45.436034, -122.697388],
  [45.436, -122.69746],
  [45.43596, -122.697543],
  [45.435884, -122.697676],
  [45.435714, -122.69794],
  [45.435314, -122.698537],
  [45.434776, -122.699338],
  [45.434339, -122.700009],
  [45.4343, -122.700069],
  [45.434277, -122.700102],
  [45.434108, -122.700355],
  [45.433767, -122.700891],
  [45.433329, -122.701617],
  [45.433213, -122.701789],
  [45.433162, -122.701851],
  [45.432999, -122.702039],
  [45.432953, -122.70208],
  [45.43292, -122.702106],
  [45.432873, -122.702136],
  [45.432822, -122.702164],
  [45.432778, -122.702183],
  [45.432642, -122.702233],
  [45.432239, -122.702371],
  [45.432165, -122.702393],
  [45.432183, -122.70252],
  [45.432278, -122.703083],
  [45.432281, -122.703101],
  [45.432371, -122.703635],
  [45.43239, -122.703765],
  [45.431856, -122.704149],
  [45.431739, -122.7042],
  [45.431682, -122.704218],
  [45.431561, -122.704235],
  [45.431446, -122.704232],
  [45.431318, -122.70423],
  [45.431182, -122.704229],
  [45.431077, -122.704262],
  [45.431001, -122.704298],
  [45.430884, -122.70438],
  [45.430766, -122.704523],
  [45.430724, -122.704592],
  [45.430686, -122.704686],
  [45.430633, -122.70481],
  [45.430589, -122.704982],
  [45.430554, -122.705194],
  [45.43055, -122.705414],
  [45.430576, -122.705595],
  [45.430611, -122.705702],
  [45.430625, -122.705746],
  [45.43063, -122.70576],
  [45.430695, -122.705903],
  [45.430777, -122.706015],
  [45.430853, -122.7061],
  [45.430937, -122.706175],
  [45.431021, -122.706221],
  [45.431299, -122.70632],
  [45.431603, -122.706437],
  [45.432771, -122.706849],
  [45.433001, -122.70699],
  [45.433233, -122.707183],
  [45.433333, -122.707261],
  [45.433441, -122.707306],
  [45.433577, -122.707326],
  [45.433663, -122.707338],
  [45.433655, -122.707463],
  [45.433646, -122.707539],
  [45.433635, -122.707614],
  [45.433615, -122.707691],
  [45.433596, -122.707758],
  [45.433576, -122.707814],
  [45.43355, -122.707877],
  [45.433523, -122.707933],
  [45.433445, -122.708076],
  [45.433373, -122.708188],
  [45.433309, -122.70828],
  [45.433366, -122.708374],
  [45.433459, -122.708526],
  [45.433512, -122.708549],
  [45.433632, -122.70879],
  [45.433647, -122.708868],
  [45.433791, -122.709282],
  [45.433824, -122.709395],
  [45.433866, -122.709588],
  [45.433912, -122.709839],
  [45.433947, -122.710072],
  [45.433951, -122.710133],
  [45.433961, -122.710284],
  [45.433966, -122.710503],
  [45.433962, -122.71077],
  [45.433946, -122.711106],
  [45.433932, -122.711245],
  [45.433917, -122.711322],
  [45.433866, -122.711522],
  [45.433807, -122.711727],
  [45.433804, -122.711811],
  [45.433751, -122.711976],
  [45.433721, -122.712063],
  [45.433682, -122.712099],
  [45.433653, -122.712219],
  [45.43363, -122.71233],
  [45.433617, -122.712423],
  [45.433617, -122.712488],
  [45.433615, -122.712574],
  [45.433617, -122.712665],
  [45.433621, -122.712777],
  [45.433634, -122.712885],
  [45.433639, -122.712934],
  [45.433656, -122.713031],
  [45.433671, -122.713104],
  [45.433695, -122.713199],
  [45.43372, -122.71328],
  [45.433759, -122.713388],
  [45.433796, -122.713474],
  [45.433834, -122.713554],
  [45.433868, -122.713615],
  [45.433896, -122.713659],
  [45.433932, -122.713712],
  [45.433945, -122.71373],
  [45.43402, -122.713837],
  [45.434109, -122.713971],
  [45.43416, -122.714047],
  [45.434209, -122.714123],
  [45.434241, -122.714184],
  [45.434329, -122.714374],
  [45.434355, -122.714438],
  [45.434389, -122.714527],
  [45.43441, -122.714587],
  [45.434434, -122.714657],
  [45.434477, -122.714709],
  [45.434528, -122.714847],
  [45.434581, -122.714979],
  [45.434612, -122.715058],
  [45.434615, -122.715134],
  [45.434691, -122.715276],
  [45.434829, -122.715494],
  [45.434733, -122.715583],
  [45.434647, -122.715682],
  [45.43451, -122.715846],
  [45.434266, -122.716136],
  [45.434193, -122.716214],
  [45.434118, -122.716282],
  [45.434055, -122.716329],
  [45.434015, -122.716357],
  [45.433956, -122.716389],
  [45.433908, -122.716411],
  [45.43383, -122.716436],
  [45.433783, -122.716433],
  [45.433741, -122.716426],
  [45.433716, -122.716417],
  [45.433632, -122.716356],
  [45.433437, -122.716186],
  [45.43336, -122.716125],
  [45.433305, -122.716086],
  [45.433242, -122.716045],
  [45.433182, -122.716011],
  [45.433134, -122.715987],
  [45.43308, -122.715962],
  [45.433003, -122.715929],
  [45.432948, -122.71591],
  [45.432905, -122.715899],
  [45.432896, -122.715897],
  [45.43285, -122.715887],
  [45.432785, -122.715876],
  [45.432651, -122.715865],
  [45.43259, -122.715868],
  [45.432575, -122.715868],
  [45.432501, -122.715875],
  [45.432438, -122.715886],
  [45.432372, -122.715896],
  [45.43231, -122.715908],
  [45.432234, -122.715922],
  [45.432186, -122.715932],
  [45.432118, -122.71594],
  [45.432084, -122.715943],
  [45.432019, -122.715946],
  [45.431622, -122.715947],
  [45.431497, -122.715958],
  [45.431419, -122.715968],
  [45.431338, -122.715984],
  [45.431176, -122.716012],
  [45.43106, -122.716056],
  [45.43098, -122.716107],
  [45.430949, -122.716132],
  [45.430913, -122.716162],
  [45.430877, -122.716199],
  [45.430851, -122.716229],
  [45.430807, -122.716288],
  [45.43079, -122.716319],
  [45.430776, -122.716353],
  [45.430759, -122.716401],
  [45.430743, -122.716457],
  [45.430733, -122.71651],
  [45.430723, -122.716559],
  [45.430717, -122.716636],
  [45.430716, -122.716683],
  [45.430718, -122.716735],
  [45.430723, -122.716793],
  [45.430733, -122.716846],
  [45.430752, -122.71692],
  [45.430766, -122.716966],
  [45.430782, -122.717008],
  [45.430803, -122.717051],
  [45.430915, -122.717247],
  [45.430977, -122.717372],
  [45.431013, -122.717452],
  [45.431029, -122.717491],
  [45.431044, -122.717542],
  [45.431059, -122.717603],
  [45.43107, -122.717658],
  [45.431074, -122.717719],
  [45.431074, -122.717771],
  [45.431069, -122.717829],
  [45.43106, -122.717892],
  [45.431048, -122.717952],
  [45.431031, -122.718018],
  [45.431011, -122.718067],
  [45.430968, -122.718159],
  [45.430882, -122.718069],
  [45.430858, -122.718052],
  [45.430757, -122.717971],
  [45.430679, -122.71791],
  [45.430594, -122.717852],
  [45.430495, -122.717791],
  [45.429972, -122.7175],
  [45.429891, -122.717448],
  [45.429776, -122.717378],
  [45.429707, -122.717331],
  [45.429624, -122.717267],
  [45.429544, -122.717195],
  [45.429464, -122.717122],
  [45.429387, -122.717041],
  [45.429271, -122.716902],
  [45.42913, -122.716709],
  [45.428925, -122.716415],
  [45.428655, -122.716023],
  [45.428609, -122.715958],
  [45.428531, -122.715849],
  [45.428414, -122.71568],
  [45.428357, -122.715597],
  [45.428305, -122.715516],
  [45.428275, -122.715468],
  [45.428222, -122.715433],
  [45.428187, -122.715364],
  [45.428156, -122.715302],
  [45.428125, -122.715227],
  [45.428088, -122.715102],
  [45.42808, -122.715072],
  [45.428094, -122.714988],
  [45.428081, -122.714912],
  [45.428066, -122.714782],
  [45.428058, -122.714669],
  [45.428061, -122.714513],
  [45.428086, -122.714284],
  [45.428105, -122.714176],
  [45.428146, -122.71402],
  [45.428247, -122.713654],
  [45.428331, -122.713273],
  [45.428347, -122.713188],
  [45.42836, -122.713091],
  [45.428373, -122.71292],
  [45.428373, -122.712817],
  [45.428361, -122.712634],
  [45.428336, -122.712471],
  [45.428302, -122.712313],
  [45.428266, -122.712198],
  [45.428212, -122.712067],
  [45.428093, -122.71184],
  [45.427996, -122.711696],
  [45.427857, -122.711519],
  [45.427839, -122.711498],
  [45.427456, -122.711054],
  [45.427358, -122.710931],
  [45.427274, -122.710821],
  [45.427212, -122.710722],
  [45.427149, -122.710597],
  [45.427089, -122.710436],
  [45.427064, -122.710343],
  [45.427038, -122.71019],
  [45.427018, -122.709937],
  [45.427026, -122.709721],
  [45.42705, -122.709555],
  [45.427088, -122.709414],
  [45.427147, -122.709252],
  [45.427218, -122.709101],
  [45.427334, -122.708927],
  [45.427446, -122.708801],
  [45.427579, -122.70868],
  [45.427972, -122.708414],
  [45.4281, -122.708324],
  [45.428213, -122.70822],
  [45.428301, -122.708102],
  [45.428423, -122.707864],
  [45.428452, -122.707781],
  [45.428488, -122.707602],
  [45.428498, -122.707481],
  [45.42849, -122.707302],
  [45.428462, -122.707147],
  [45.428438, -122.707067],
  [45.428402, -122.706999],
  [45.428363, -122.706919],
  [45.428297, -122.706816],
  [45.428259, -122.706774],
  [45.428209, -122.706727],
  [45.428163, -122.706692],
  [45.428104, -122.706658],
  [45.428052, -122.706635],
  [45.428005, -122.706627],
  [45.427898, -122.70663],
  [45.427812, -122.706637],
  [45.427731, -122.706651],
  [45.427625, -122.706681],
  [45.427542, -122.70671],
  [45.427456, -122.706742],
  [45.42736, -122.706782],
  [45.427112, -122.706891],
  [45.426832, -122.707009],
  [45.426283, -122.707232],
  [45.426098, -122.707305],
  [45.425839, -122.707406],
  [45.425744, -122.707443],
  [45.425692, -122.707468],
  [45.425598, -122.707518],
  [45.425528, -122.707565],
  [45.425492, -122.707591],
  [45.425458, -122.707622],
  [45.425415, -122.707662],
  [45.42536, -122.707712],
  [45.425262, -122.707801],
  [45.425207, -122.707859],
  [45.425076, -122.707964],
  [45.425021, -122.708002],
  [45.424967, -122.708031],
  [45.424919, -122.708052],
  [45.424877, -122.708069],
  [45.424838, -122.708083],
  [45.424818, -122.70809],
  [45.424707, -122.708152],
  [45.424688, -122.708155],
  [45.424643, -122.708156],
  [45.424579, -122.708161],
  [45.42452, -122.708168],
  [45.42438, -122.708205],
  [45.424281, -122.70825],
  [45.42417, -122.708217],
  [45.424143, -122.708246],
  [45.424036, -122.708355],
  [45.423824, -122.708566],
  [45.423779, -122.70861],
  [45.423649, -122.708745],
  [45.423354, -122.709015],
  [45.423243, -122.709116],
  [45.42303, -122.709286],
  [45.422867, -122.709431],
  [45.422522, -122.709713],
  [45.422295, -122.709902],
  [45.422181, -122.709994],
  [45.421505, -122.710545],
  [45.421224, -122.710776],
  [45.421187, -122.710806],
  [45.420909, -122.711038],
  [45.420533, -122.711349],
  [45.42021, -122.71163],
  [45.419896, -122.711908],
  [45.419666, -122.712119],
  [45.419461, -122.71231],
  [45.419086, -122.712668],
  [45.418697, -122.713058],
  [45.418607, -122.713153],
  [45.418466, -122.713306],
  [45.418409, -122.713436],
  [45.418292, -122.713557],
  [45.418126, -122.713728],
  [45.417743, -122.714118],
  [45.417543, -122.714336],
  [45.417527, -122.714351],
  [45.41744, -122.714356],
  [45.417306, -122.71449],
  [45.417113, -122.714674],
  [45.416976, -122.714805],
  [45.416889, -122.714885],
  [45.416807, -122.714959],
  [45.416539, -122.715193],
  [45.416395, -122.715313],
  [45.416348, -122.715352],
  [45.416306, -122.715468],
  [45.415836, -122.715868],
  [45.415748, -122.715862],
  [45.415715, -122.715887],
  [45.41633, -122.717666],
  [45.416525, -122.718219],
  [45.416651, -122.71861],
  [45.41672, -122.718811],
  [45.4168, -122.719046],
  [45.41684, -122.719162],
  [45.416873, -122.719264],
  [45.41691, -122.719373],
  [45.41735, -122.720667],
  [45.417799, -122.721997],
  [45.417958, -122.722466],
  [45.418121, -122.722946],
  [45.41828, -122.723447],
  [45.418348, -122.723654],
  [45.418406, -122.723867],
  [45.418414, -122.723894],
  [45.418466, -122.724075],
  [45.4185, -122.724203],
  [45.418585, -122.724562],
  [45.418651, -122.724862],
  [45.418726, -122.725248],
  [45.418764, -122.725463],
  [45.418819, -122.725827],
  [45.418862, -122.726143],
  [45.418899, -122.726462],
  [45.418929, -122.726796],
  [45.418952, -122.72715],
  [45.418969, -122.727498],
  [45.418977, -122.727767],
  [45.418987, -122.728143],
  [45.419, -122.729883],
  [45.419015, -122.731343],
  [45.41902, -122.731803],
  [45.41902, -122.731932],
  [45.41902, -122.73208],
  [45.419019, -122.732388],
  [45.419019, -122.732583],
  [45.419026, -122.733352],
  [45.419037, -122.73475],
  [45.419046, -122.735503],
  [45.419052, -122.735885],
  [45.419065, -122.736303],
  [45.419084, -122.736652],
  [45.419098, -122.736857],
  [45.419114, -122.737037],
  [45.41913, -122.737229],
  [45.419155, -122.737422],
  [45.419192, -122.737727],
  [45.419234, -122.738025],
  [45.419293, -122.73836],
  [45.419341, -122.738609],
  [45.419361, -122.738709],
  [45.419427, -122.73903],
  [45.419457, -122.739134],
  [45.419493, -122.739257],
  [45.419535, -122.739399],
  [45.41961, -122.739678],
  [45.419661, -122.739868],
  [45.419777, -122.740255],
  [45.419774, -122.740492],
  [45.419937, -122.740966],
  [45.420064, -122.741333],
  [45.420198, -122.741756],
  [45.420266, -122.741975],
  [45.420359, -122.742274],
  [45.420461, -122.742604],
  [45.420585, -122.742944],
  [45.420623, -122.743046],
  [45.420819, -122.743583],
  [45.420859, -122.743704],
  [45.421162, -122.74462],
  [45.421312, -122.745054],
  [45.421391, -122.745268],
  [45.42153, -122.745404],
  [45.421573, -122.7455],
  [45.421704, -122.745761],
  [45.421818, -122.745957],
  [45.42192, -122.746115],
  [45.422026, -122.74626],
  [45.422151, -122.746417],
  [45.422288, -122.746572],
  [45.422578, -122.746862],
  [45.422875, -122.74714],
  [45.423514, -122.747733],
  [45.423594, -122.747777],
  [45.424071, -122.748219],
  [45.424546, -122.748652],
  [45.42478, -122.748856],
  [45.424992, -122.749049],
  [45.425688, -122.749717],
  [45.425762, -122.749779],
  [45.425906, -122.749901],
  [45.426127, -122.750072],
  [45.426372, -122.750238],
  [45.426561, -122.750365],
  [45.426661, -122.750434],
  [45.426739, -122.750507],
  [45.426811, -122.750594],
  [45.426881, -122.750728],
  [45.426924, -122.750847],
  [45.426958, -122.751008],
  [45.426976, -122.751192],
  [45.426965, -122.751246],
  [45.426966, -122.751619],
  [45.42688, -122.751627],
  [45.42678, -122.751632],
  [45.426689, -122.75164],
  [45.425937, -122.751662],
  [45.425492, -122.751664],
  [45.425089, -122.751667],
  [45.424804, -122.75167],
  [45.424725, -122.751662],
  [45.424646, -122.751651],
  [45.42425, -122.751652],
  [45.424098, -122.751653],
  [45.423921, -122.75166],
  [45.423371, -122.751702],
  [45.423275, -122.751703],
  [45.422779, -122.751726],
  [45.422495, -122.751739],
  [45.42238, -122.751741],
  [45.421952, -122.751751],
  [45.421743, -122.751756],
  [45.421424, -122.751764],
  [45.421149, -122.751772],
  [45.420534, -122.751787],
  [45.420475, -122.751791],
  [45.420401, -122.751787],
  [45.420344, -122.751778],
  [45.420272, -122.751761],
  [45.420179, -122.75173],
  [45.42012, -122.751712],
  [45.420031, -122.751655],
  [45.419971, -122.751607],
  [45.419926, -122.751565],
  [45.419886, -122.751522],
  [45.419843, -122.751472],
  [45.419799, -122.751419],
  [45.419733, -122.751316],
  [45.419687, -122.751233],
  [45.419538, -122.750885],
  [45.419484, -122.750757],
  [45.419168, -122.750016],
  [45.419106, -122.749869],
  [45.419086, -122.749822],
  [45.419047, -122.749741],
  [45.419005, -122.749665],
  [45.418964, -122.7496],
  [45.418915, -122.74953],
  [45.41886, -122.749463],
  [45.418799, -122.749396],
  [45.418746, -122.74935],
  [45.418671, -122.74929],
  [45.418607, -122.749245],
  [45.418529, -122.749202],
  [45.418453, -122.74917],
  [45.418358, -122.749138],
  [45.4183, -122.749125],
  [45.41823, -122.749116],
  [45.418155, -122.749106],
  [45.417537, -122.7491],
  [45.417298, -122.749097],
  [45.417231, -122.749097],
  [45.416515, -122.749091],
  [45.416193, -122.749088],
  [45.415779, -122.749087],
  [45.415333, -122.749087],
  [45.415235, -122.749079],
  [45.415138, -122.749071],
  [45.414961, -122.749071],
  [45.414587, -122.749071],
  [45.414527, -122.749071],
  [45.413948, -122.74907],
  [45.413869, -122.74907],
  [45.413486, -122.74907],
  [45.413092, -122.749068],
  [45.41308, -122.749068],
  [45.41282, -122.749067],
  [45.412772, -122.749067],
  [45.412666, -122.749067],
  [45.412398, -122.749066],
  [45.411986, -122.749065],
  [45.411735, -122.749065],
  [45.411602, -122.749064],
  [45.411282, -122.749062],
  [45.411109, -122.749061],
  [45.410811, -122.749058],
  [45.410081, -122.749053],
  [45.409858, -122.749051],
  [45.409582, -122.749049],
  [45.408662, -122.749041],
  [45.408371, -122.749037],
  [45.408039, -122.74904],
  [45.407782, -122.749038],
  [45.407436, -122.749036],
  [45.407061, -122.749033],
  [45.406578, -122.749029],
  [45.406272, -122.749027],
  [45.405797, -122.749023],
  [45.405649, -122.749021],
  [45.405448, -122.749019],
  [45.405232, -122.749017],
  [45.404982, -122.749012],
  [45.404881, -122.749014],
  [45.404807, -122.749017],
  [45.404718, -122.749028],
  [45.404642, -122.749048],
  [45.404564, -122.749076],
  [45.4045, -122.749105],
  [45.404424, -122.749144],
  [45.404397, -122.749161],
  [45.404357, -122.749188],
  [45.404301, -122.749231],
  [45.404245, -122.749276],
  [45.404193, -122.74932],
  [45.404144, -122.749373],
  [45.404046, -122.749484],
  [45.403943, -122.74963],
  [45.403884, -122.749553],
  [45.403773, -122.749434],
  [45.403703, -122.749373],
  [45.403658, -122.749339],
  [45.403636, -122.749323],
  [45.403543, -122.749263],
  [45.403472, -122.749225],
  [45.40338, -122.74919],
  [45.403301, -122.749163],
  [45.403225, -122.749145],
  [45.403144, -122.749137],
  [45.403084, -122.749136],
  [45.402217, -122.749112],
  [45.401192, -122.7491],
  [45.401001, -122.749095],
  [45.400876, -122.749092],
  [45.4006, -122.749085],
  [45.400552, -122.749084],
  [45.400353, -122.749084],
  [45.399982, -122.749083],
  [45.399654, -122.749091],
  [45.399355, -122.749097],
  [45.399209, -122.749101],
  [45.399061, -122.749105],
  [45.398957, -122.749102],
  [45.398865, -122.749101],
  [45.398583, -122.74911],
  [45.398494, -122.749108],
  [45.398421, -122.749104],
  [45.398354, -122.749167],
  [45.398163, -122.749178],
  [45.398023, -122.749186],
  [45.397888, -122.749195],
  [45.397807, -122.74913],
  [45.397756, -122.749141],
  [45.397701, -122.749158],
  [45.397655, -122.749175],
  [45.397572, -122.74921],
  [45.397517, -122.749237],
  [45.397408, -122.74931],
  [45.397313, -122.749388],
  [45.39709, -122.749634],
  [45.396946, -122.749793],
  [45.396889, -122.749847],
  [45.39679, -122.749917],
  [45.396658, -122.749999],
  [45.396607, -122.750023],
  [45.39651, -122.750053],
  [45.396402, -122.750074],
  [45.396298, -122.750089],
  [45.396197, -122.750083],
  [45.396106, -122.750065],
  [45.39601, -122.750041],
  [45.395959, -122.75001],
  [45.395851, -122.74993],
  [45.395673, -122.749764],
  [45.395273, -122.749352],
  [45.39516, -122.749241],
  [45.395052, -122.749156],
  [45.395121, -122.748957],
  [45.39515, -122.748689],
  [45.395009, -122.74869],
  [45.39477, -122.748678],
  [45.394609, -122.748669],
  [45.394517, -122.748682],
  [45.394184, -122.748576],
  [45.394137, -122.748571],
  [45.394099, -122.74858],
  [45.394063, -122.748592],
  [45.394039, -122.748621],
  [45.394022, -122.748647],
  [45.394009, -122.748695],
  [45.393996, -122.748756],
  [45.393947, -122.748969],
  [45.394581, -122.748981],
  [45.394666, -122.74899],
  [45.394675, -122.748992]
];

const stopNames = {
  "155": "4900 Block SW Barbur",
  "173": "SW Barbur &amp; Hamilton",
  "181": "SW Barbur &amp; Parkhill Dr",
  "207": "SW Barbur &amp; 3rd",
  "506": "SW Boones Ferry Rd &amp; Arnold",
  "515": "SW Boones Ferry Rd &amp; Clara Ln",
  "516": "SW Boones Ferry Rd &amp; Colony Dr",
  "520": "SW Boones Ferry Rd &amp; Coronado",
  "536": "Boones Ferry Rd &amp; Kruse Way Pl",
  "553": "Boones Ferry Rd &amp; Rainbow",
  "566": "SW Boones Ferry Rd &amp; Stephenson",
  "568": "Boones Ferry Rd &amp; Twin Fir",
  "581": "SW Boones Ferry Rd &amp; 22nd",
  "583": "SW Boones Ferry Rd &amp; 4th",
  "1108": "SW Columbia &amp; Park Ave",
  "1927": "SW Naito Parkway &amp; Harrison",
  "2247": "200 Block Greenridge",
  "2250": "Greenridge &amp; Greenridge Ct",
  "2251": "Greenridge &amp; SW Monroe Pkwy",
  "3040": "Jefferson &amp; Independence",
  "3045": "Jefferson &amp; McNary",
  "3127": "Kerr &amp; Boones Ferry Rd",
  "3134": "Kerr &amp; Tanglewood",
  "3137": "Kerr &amp; The Grotto",
  "3141": "Kerr &amp; Touchstone",
  "3294": "Kruse Way &amp; Carman",
  "3296": "Kruse Way &amp; Kruse Oaks",
  "3297": "Kruse Way &amp; Daniel Way",
  "3300": "Kruse Way &amp; Westlake Dr",
  "3863": "McNary &amp; Condolea",
  "3995": "Monroe &amp; Boones Ferry Rd",
  "5779": "SW Terwilliger &amp; Maplecrest",
  "5780": "SW Terwilliger &amp; Alice",
  "5794": "9800 Block SW Terwilliger",
  "5799": "SW Terwilliger &amp; Lobelia",
  "5802": "SW Terwilliger &amp; Primrose",
  "5807": "SW Terwilliger &amp; Taylors Ferry",
  "5808": "SW Terwilliger &amp; 6th",
  "5816": "SW Terwilliger &amp; Carson",
  "5973": "15800 Block SW 72nd",
  "7866": "16500 Block SW 72nd",
  "7868": "SW 72nd &amp; Bonita",
  "7876": "SW 72nd &amp; Hunziker",
  "7878": "SW 72nd &amp; Kable",
  "7879": "Tualatin Park &amp; Ride ",
  "7880": "Tualatin Park &amp; Ride",
  "7896": "14100 Block SW 72nd",
  "8770": "SW Naito Parkway &amp; Sheridan",
  "9047": "SW 72nd &amp; Durham Rd",
  "9406": "SW Boones Ferry Rd &amp; 13th Ct",
  "9469": "13900 Block SW 72nd",
  "11804": "3400 Block McNary",
  "11945": "17000 Block SW 72nd",
  "12794": "SW Columbia between 5th &amp; 4th",
  "12795": "SW Columbia &amp; 1st",
  "13583": "SW 72nd &amp; Cardinal",
  "13590": "SW 72nd &amp; Cherry Dr",
  "13891": "SW Boones Ferry Rd &amp; Trillium"
};

const stops = [
  { stop_id: "1108", name: "SW Columbia &amp; Park Ave", lat: 45.514919, lon: -122.683248, times: ["6:45 AM", "7:59 AM", "9:08 AM", "3:25 PM", "4:25 PM", "5:11 PM", "6:10 PM"] },
  { stop_id: "12794", name: "SW Columbia between 5th &amp; 4th", lat: 45.513954, lon: -122.679634, times: ["6:48 AM", "8:02 AM", "9:11 AM", "3:28 PM", "4:28 PM", "5:14 PM", "6:13 PM"] },
  { stop_id: "12795", name: "SW Columbia &amp; 1st", lat: 45.513088, lon: -122.676402, times: ["6:49 AM", "8:03 AM", "9:12 AM", "3:29 PM", "4:29 PM", "5:15 PM", "6:14 PM"] },
  { stop_id: "1927", name: "SW Naito Parkway &amp; Harrison", lat: 45.509704, lon: -122.676956, times: ["6:51 AM", "8:05 AM", "9:14 AM", "3:31 PM", "4:32 PM", "5:18 PM", "6:17 PM"] },
  { stop_id: "8770", name: "SW Naito Parkway &amp; Sheridan", lat: 45.506097, lon: -122.677673, times: ["6:51 AM", "8:05 AM", "9:14 AM", "3:31 PM", "4:32 PM", "5:18 PM", "6:17 PM"] },
  { stop_id: "173", name: "SW Barbur &amp; Hamilton", lat: 45.491037, lon: -122.678566, times: ["6:54 AM", "8:08 AM", "9:17 AM", "3:34 PM", "4:36 PM", "5:22 PM", "6:20 PM"] },
  { stop_id: "155", name: "4900 Block SW Barbur", lat: 45.487059, lon: -122.682757, times: ["6:55 AM", "8:10 AM", "9:18 AM", "3:36 PM", "4:37 PM", "5:24 PM", "6:21 PM"] },
  { stop_id: "181", name: "SW Barbur &amp; Parkhill Dr", lat: 45.476747, lon: -122.679797, times: ["6:57 AM", "8:12 AM", "9:20 AM", "3:38 PM", "4:39 PM", "5:27 PM", "6:23 PM"] },
  { stop_id: "207", name: "SW Barbur &amp; 3rd", lat: 45.471567, lon: -122.680911, times: ["6:58 AM", "8:13 AM", "9:21 AM", "3:39 PM", "4:41 PM", "5:28 PM", "6:24 PM"] },
  { stop_id: "5808", name: "SW Terwilliger &amp; 6th", lat: 45.467279, lon: -122.684654, times: ["7:00 AM", "8:14 AM", "9:23 AM", "3:40 PM", "4:42 PM", "5:30 PM", "6:26 PM"] },
  { stop_id: "5816", name: "SW Terwilliger &amp; Carson", lat: 45.464059, lon: -122.683843, times: ["7:00 AM", "8:15 AM", "9:23 AM", "3:41 PM", "4:43 PM", "5:31 PM", "6:26 PM"] },
  { stop_id: "5807", name: "SW Terwilliger &amp; Taylors Ferry", lat: 45.462726, lon: -122.685074, times: ["7:01 AM", "8:16 AM", "9:24 AM", "3:42 PM", "4:44 PM", "5:32 PM", "6:27 PM"] },
  { stop_id: "5799", name: "SW Terwilliger &amp; Lobelia", lat: 45.461282, lon: -122.685031, times: ["7:01 AM", "8:16 AM", "9:24 AM", "3:42 PM", "4:44 PM", "5:32 PM", "6:27 PM"] },
  { stop_id: "5802", name: "SW Terwilliger &amp; Primrose", lat: 45.459268, lon: -122.685036, times: ["7:01 AM", "8:16 AM", "9:24 AM", "3:42 PM", "4:44 PM", "5:32 PM", "6:27 PM"] },
  { stop_id: "5780", name: "SW Terwilliger &amp; Alice", lat: 45.457215, lon: -122.685021, times: ["7:01 AM", "8:16 AM", "9:24 AM", "3:42 PM", "4:45 PM", "5:33 PM", "6:27 PM"] },
  { stop_id: "5794", name: "9800 Block SW Terwilliger", lat: 45.454482, lon: -122.683815, times: ["7:02 AM", "8:17 AM", "9:25 AM", "3:43 PM", "4:45 PM", "5:33 PM", "6:28 PM"] },
  { stop_id: "5779", name: "SW Terwilliger &amp; Maplecrest", lat: 45.453899, lon: -122.682728, times: ["7:02 AM", "8:17 AM", "9:25 AM", "3:43 PM", "4:45 PM", "5:33 PM", "6:28 PM"] },
  { stop_id: "583", name: "SW Boones Ferry Rd &amp; 4th", lat: 45.451845, lon: -122.683271, times: ["7:03 AM", "8:18 AM", "9:26 AM", "3:44 PM", "4:46 PM", "5:34 PM", "6:29 PM"] },
  { stop_id: "516", name: "SW Boones Ferry Rd &amp; Colony Dr", lat: 45.448911, lon: -122.686277, times: ["7:03 AM", "8:18 AM", "9:26 AM", "3:44 PM", "4:47 PM", "5:35 PM", "6:29 PM"] },
  { stop_id: "506", name: "SW Boones Ferry Rd &amp; Arnold", lat: 45.446365, lon: -122.68715, times: ["7:04 AM", "8:19 AM", "9:27 AM", "3:45 PM", "4:47 PM", "5:35 PM", "6:30 PM"] },
  { stop_id: "13891", name: "SW Boones Ferry Rd &amp; Trillium", lat: 45.444124, lon: -122.686675, times: ["7:04 AM", "8:19 AM", "9:27 AM", "3:45 PM", "4:48 PM", "5:36 PM", "6:30 PM"] },
  { stop_id: "520", name: "SW Boones Ferry Rd &amp; Coronado", lat: 45.442766, lon: -122.686803, times: ["7:04 AM", "8:19 AM", "9:27 AM", "3:45 PM", "4:48 PM", "5:36 PM", "6:30 PM"] },
  { stop_id: "566", name: "SW Boones Ferry Rd &amp; Stephenson", lat: 45.439566, lon: -122.687108, times: ["7:05 AM", "8:20 AM", "9:28 AM", "3:46 PM", "4:49 PM", "5:37 PM", "6:31 PM"] },
  { stop_id: "9406", name: "SW Boones Ferry Rd &amp; 13th Ct", lat: 45.437885, lon: -122.692457, times: ["7:06 AM", "8:21 AM", "9:29 AM", "3:47 PM", "4:50 PM", "5:38 PM", "6:32 PM"] },
  { stop_id: "515", name: "SW Boones Ferry Rd &amp; Clara Ln", lat: 45.43603, lon: -122.69749, times: ["7:06 AM", "8:21 AM", "9:29 AM", "3:47 PM", "4:50 PM", "5:38 PM", "6:32 PM"] },
  { stop_id: "581", name: "SW Boones Ferry Rd &amp; 22nd", lat: 45.434307, lon: -122.700142, times: ["7:07 AM", "8:22 AM", "9:30 AM", "3:48 PM", "4:51 PM", "5:39 PM", "6:33 PM"] },
  { stop_id: "3995", name: "Monroe &amp; Boones Ferry Rd", lat: 45.432335, lon: -122.703083, times: ["7:08 AM", "8:23 AM", "9:31 AM", "3:49 PM", "4:52 PM", "5:40 PM", "6:34 PM"] },
  { stop_id: "2250", name: "Greenridge &amp; Greenridge Ct", lat: 45.431314, lon: -122.704295, times: ["7:08 AM", "8:23 AM", "9:31 AM", "3:49 PM", "4:52 PM", "5:40 PM", "6:34 PM"] },
  { stop_id: "2247", name: "200 Block Greenridge", lat: 45.430682, lon: -122.705709, times: ["7:08 AM", "8:23 AM", "9:31 AM", "3:49 PM", "4:53 PM", "5:41 PM", "6:34 PM"] },
  { stop_id: "2251", name: "Greenridge &amp; SW Monroe Pkwy", lat: 45.433583, lon: -122.707186, times: ["7:09 AM", "8:24 AM", "9:32 AM", "3:50 PM", "4:54 PM", "5:42 PM", "6:35 PM"] },
  { stop_id: "3863", name: "McNary &amp; Condolea", lat: 45.433981, lon: -122.710128, times: ["7:10 AM", "8:25 AM", "9:33 AM", "3:51 PM", "4:55 PM", "5:43 PM", "6:36 PM"] },
  { stop_id: "11804", name: "3400 Block McNary", lat: 45.433977, lon: -122.71365, times: ["7:11 AM", "8:26 AM", "9:34 AM", "3:52 PM", "4:56 PM", "5:44 PM", "6:37 PM"] },
  { stop_id: "3045", name: "Jefferson &amp; McNary", lat: 45.434541, lon: -122.715898, times: ["7:12 AM", "8:27 AM", "9:35 AM", "3:53 PM", "4:57 PM", "5:45 PM", "6:38 PM"] },
  { stop_id: "3040", name: "Jefferson &amp; Independence", lat: 45.432118, lon: -122.716009, times: ["7:12 AM", "8:27 AM", "9:35 AM", "3:53 PM", "4:57 PM", "5:45 PM", "6:38 PM"] },
  { stop_id: "3141", name: "Kerr &amp; Touchstone", lat: 45.42801, lon: -122.715146, times: ["7:13 AM", "8:28 AM", "9:36 AM", "3:55 PM", "4:59 PM", "5:47 PM", "6:39 PM"] },
  { stop_id: "3134", name: "Kerr &amp; Tanglewood", lat: 45.427807, lon: -122.711553, times: ["7:14 AM", "8:29 AM", "9:37 AM", "3:55 PM", "4:59 PM", "5:47 PM", "6:40 PM"] },
  { stop_id: "3137", name: "Kerr &amp; The Grotto", lat: 45.426114, lon: -122.70739, times: ["7:15 AM", "8:30 AM", "9:38 AM", "3:57 PM", "5:01 PM", "5:49 PM", "6:41 PM"] },
  { stop_id: "3127", name: "Kerr &amp; Boones Ferry Rd", lat: 45.42485, lon: -122.708181, times: ["7:15 AM", "8:31 AM", "9:39 AM", "3:57 PM", "5:01 PM", "5:49 PM", "6:42 PM"] },
  { stop_id: "553", name: "Boones Ferry Rd &amp; Rainbow", lat: 45.421266, lon: -122.710894, times: ["7:16 AM", "8:32 AM", "9:40 AM", "3:58 PM", "5:02 PM", "5:50 PM", "6:43 PM"] },
  { stop_id: "568", name: "Boones Ferry Rd &amp; Twin Fir", lat: 45.418319, lon: -122.713614, times: ["7:17 AM", "8:32 AM", "9:40 AM", "3:59 PM", "5:03 PM", "5:51 PM", "6:43 PM"] },
  { stop_id: "536", name: "Boones Ferry Rd &amp; Kruse Way Pl", lat: 45.416458, lon: -122.715458, times: ["7:17 AM", "8:33 AM", "9:41 AM", "4:00 PM", "5:04 PM", "5:52 PM", "6:44 PM"] },
  { stop_id: "3297", name: "Kruse Way &amp; Daniel Way", lat: 45.416865, lon: -122.719001, times: ["7:18 AM", "8:34 AM", "9:42 AM", "4:01 PM", "5:05 PM", "5:53 PM", "6:45 PM"] },
  { stop_id: "3294", name: "Kruse Way &amp; Carman", lat: 45.418486, lon: -122.723813, times: ["7:18 AM", "8:34 AM", "9:42 AM", "4:01 PM", "5:06 PM", "5:53 PM", "6:45 PM"] },
  { stop_id: "3300", name: "Kruse Way &amp; Westlake Dr", lat: 45.419069, lon: -122.732388, times: ["7:19 AM", "8:36 AM", "9:43 AM", "4:03 PM", "5:07 PM", "5:55 PM", "6:46 PM"] },
  { stop_id: "3296", name: "Kruse Way &amp; Kruse Oaks", lat: 45.419676, lon: -122.739643, times: ["7:20 AM", "8:37 AM", "9:44 AM", "4:04 PM", "5:09 PM", "5:56 PM", "6:47 PM"] },
  { stop_id: "7876", name: "SW 72nd &amp; Hunziker", lat: 45.425089, lon: -122.751806, times: ["7:23 AM", "8:40 AM", "9:47 AM", "4:07 PM", "5:13 PM", "5:59 PM", "6:50 PM"] },
  { stop_id: "13590", name: "SW 72nd &amp; Cherry Dr", lat: 45.421953, lon: -122.75185, times: ["7:24 AM", "8:41 AM", "9:48 AM", "4:08 PM", "5:14 PM", "6:00 PM", "6:51 PM"] },
  { stop_id: "9469", name: "13900 Block SW 72nd", lat: 45.419113, lon: -122.75006, times: ["7:25 AM", "8:42 AM", "9:49 AM", "4:09 PM", "5:15 PM", "6:01 PM", "6:52 PM"] },
  { stop_id: "7896", name: "14100 Block SW 72nd", lat: 45.417537, lon: -122.749159, times: ["7:25 AM", "8:42 AM", "9:49 AM", "4:09 PM", "5:15 PM", "6:01 PM", "6:52 PM"] },
  { stop_id: "7868", name: "SW 72nd &amp; Bonita", lat: 45.415774, lon: -122.749221, times: ["7:26 AM", "8:43 AM", "9:50 AM", "4:10 PM", "5:16 PM", "6:02 PM", "6:53 PM"] },
  { stop_id: "13583", name: "SW 72nd &amp; Cardinal", lat: 45.411281, lon: -122.749157, times: ["7:27 AM", "8:44 AM", "9:51 AM", "4:12 PM", "5:18 PM", "6:04 PM", "6:55 PM"] },
  { stop_id: "7878", name: "SW 72nd &amp; Kable", lat: 45.407782, lon: -122.749127, times: ["7:28 AM", "8:45 AM", "9:52 AM", "4:13 PM", "5:19 PM", "6:05 PM", "6:56 PM"] },
  { stop_id: "5973", name: "15800 Block SW 72nd", lat: 45.405444, lon: -122.749121, times: ["7:29 AM", "8:46 AM", "9:53 AM", "4:14 PM", "5:20 PM", "6:06 PM", "6:57 PM"] },
  { stop_id: "7866", name: "16500 Block SW 72nd", lat: 45.400612, lon: -122.749162, times: ["7:31 AM", "8:48 AM", "9:55 AM", "4:16 PM", "5:22 PM", "6:08 PM", "6:59 PM"] },
  { stop_id: "9047", name: "SW 72nd &amp; Durham Rd", lat: 45.39921, lon: -122.7492, times: ["7:31 AM", "8:48 AM", "9:55 AM", "4:16 PM", "5:22 PM", "6:08 PM", "6:59 PM"] },
  { stop_id: "11945", name: "17000 Block SW 72nd", lat: 45.397155, lon: -122.749741, times: ["7:32 AM", "8:49 AM", "9:56 AM", "4:17 PM", "5:23 PM", "6:09 PM", "7:00 PM"] },
  { stop_id: "7880", name: "Tualatin Park &amp; Ride", lat: 45.394763, lon: -122.748759, times: ["7:33 AM", "8:50 AM", "9:57 AM", "4:18 PM", "5:24 PM", "6:10 PM", "7:01 PM"] },
  { stop_id: "7879", name: "Tualatin Park &amp; Ride ", lat: 45.394692, lon: -122.748821, times: ["7:34 AM", "8:51 AM", "9:58 AM", "4:19 PM", "5:25 PM", "6:11 PM", "7:02 PM"] },
]

  const polylineOut = L.polyline(shapeOutbound, {
    color: 'blue',
    weight: 4,
    opacity: 0.7
  }).addTo(map);

  map.fitBounds(polylineOut.getBounds());

  stops.forEach(stop => {
    const marker = L.circleMarker([stop.lat, stop.lon], {
      radius: 6,
      color: '#4dd0e1',
      fillColor: '#4dd0e1',
      fillOpacity: 0.9,
      weight: 1
    });

    const popupContent = `
      <strong>${stop.name}</strong><br>
      ${stop.times && stop.times.length ? stop.times.join("<br>") : "No scheduled times"}
    `;

    marker.bindPopup(popupContent);
    marker.addTo(map);
  });

  let busMarkers = {};

  async function fetchAndDisplay() {
    const res = await fetch(`https://developer.trimet.org/ws/v2/vehicles?route=${routeNumber}&appID=${apiKey}&json=true`);
    const data = await res.json();
    const buses = (data.resultSet.vehicle || []).filter(v =>
      v.routeNumber == routeNumber && v.direction == direction
    );

    Object.values(busMarkers).forEach(m => map.removeLayer(m));
    busMarkers = {};

    if (buses.length === 0) return;

    buses.forEach(bus => {
      if (!bus.latitude || !bus.longitude || !bus.blockID) return;

      const icon = L.divIcon({
        className: '',
        html: `
          <div style="text-align:center;">
            <div style="background:#0071CE;color:#fff;padding:2px 6px;border-radius:6px;font-weight:bold;">${bus.vehicleID}</div>
            <div style="width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:10px solid #00bfff;margin:auto;"></div>
          </div>
        `,
        iconSize: [40, 30],
        iconAnchor: [20, 30]
      });

      const marker = L.marker([bus.latitude, bus.longitude], { icon }).addTo(map);
      busMarkers[bus.vehicleID] = marker;
    });
  }

  fetchAndDisplay();
  setInterval(fetchAndDisplay, 15000);
  </script>

<footer class="site-footer">
  <a href="terms.html">Terms of Use</a> &nbsp;|&nbsp;
  <a href="contact.html">Contact Us</a> &nbsp;|&nbsp;
  <a href="report.html">Report a Problem</a> &nbsp;|&nbsp;
  <a href="privacy.html">Privacy Policy</a>
</footer>

  <script>
    if (!localStorage.getItem('cookieConsent')) {
      document.write(`
        <div id="cookie-banner" style="position: fixed; bottom: 0; left: 0; right: 0; background: #333; color: #fff; padding: 1rem; z-index: 1000; font-size: 0.9rem; line-height: 1.4; text-align: center; box-sizing: border-box;">
          üì¢ We use cookies to improve functionality and analyze traffic.
          By using MetroFeed, you agree to our 
          <a href='privacy.html' style='color: #4dd0e1; text-decoration: underline;'>Privacy Policy</a>.<br>
          <button onclick='localStorage.setItem("cookieConsent", "true"); document.getElementById("cookie-banner").remove();' style='margin-top: 0.5rem; background: #4dd0e1; color: #000; border: none; padding: 0.5rem 1rem; border-radius: 5px; cursor: pointer; font-weight: bold;'>OK</button>
        </div>
      `);
    }
</script>


</body>
</html>