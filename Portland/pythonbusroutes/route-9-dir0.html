<!DOCTYPE html>
<html lang="en">
<head>
  
<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-2219550569810489"
     crossorigin="anonymous"></script>

<meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Route 9 - To Powell & 92nd or Gresham Central Transit Center | MetroFeed Portland</title>
  <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
  <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
  <style>
    body {
      margin: 0;
      font-family: 'Segoe UI', sans-serif;
      background-color: #0d0d0d;
      color: #cccccc;
    }
    header {
      background-color: #0d0d0d;
      border-bottom: 3px solid #4dd0e1;
      padding: 1rem;
      text-align: center;
    }
    header img {
      max-height: 60px;
    }
    .ad-banner {
      text-align: center;
      margin: 1rem auto;
      background-color: #222;
      color: #888;
      padding: 1rem;
      border: 2px dashed #4dd0e1;
      font-size: 0.9rem;
      border-radius: 8px;
    }
    h1 {
      text-align: center;
      margin: 1rem 0;
      font-size: 2rem;
      color: #f0f0f0;
    }
    .content-box {
      border: 2px solid #4dd0e1;
      border-radius: 12px;
      padding: 1rem;
      margin: 1rem;
      background-color: #1e1e1e;
    }
    #map {
      width: 100%;
      height: 400px;
      border-radius: 8px;
    }
    .button-bar {
      display: flex;
      justify-content: center;
      margin: 1rem 0;
    }
    .button-bar a {
      background: #4dd0e1;
      color: #0d0d0d;
      padding: 0.5rem 1rem;
      text-decoration: none;
      border-radius: 8px;
      font-weight: bold;
    }

.back-button {
  background-color: #4dd0e1;
  color: #0d0d0d;
  border: none;
  padding: 0.6rem 1.2rem;
  font-size: 1rem;
  font-weight: bold;
  border-radius: 8px;
  cursor: pointer;
  box-shadow: 0 0 10px #4dd0e1;
  text-decoration: none;
}
.back-button:hover {
  background-color: #35c0d6;
}
.site-footer {
      text-align: center;
      margin-top: 3rem;
      margin-bottom: 120px;
      font-size: 0.85rem;
      color: #aaa;
    }
    .site-footer a {
      color: #00BFFF;
      text-decoration: none;
    }
    .site-footer a:hover {
      text-decoration: underline;
    }

  </style>
</head>
<body>
  <header>
    <img src="MetroFeedPortlandLogo.png" alt="MetroFeed Portland">
  </header>

  <div class="ad-banner">
    [Ad Banner Placeholder — 300x250]
  </div>

  <div class="disclaimer" style="margin: 1rem auto 0.5rem; max-width: 600px; font-size: 0.8rem; color: #bbb; text-align: center; padding: 0.5rem 1rem; background-color: #111; border: 1px dashed #444; border-radius: 6px;">
    ⚠️ This is a Beta program, work in progress. Please REPORT bugs and pretend to be impressed.
  </div>
  <div class="disclaimer" style="margin: 0 auto 1rem; max-width: 600px; font-size: 0.75rem; color: #888; text-align: center; padding: 0.25rem 1rem;">
    This tool is not affiliated with or endorsed by TriMet. For official schedules and service alerts, visit <a href="https://trimet.org" style="color:#4dd0e1;">trimet.org</a>.
  </div>

  <div style="margin: 2rem 0; text-align: center;">
  <button class="back-button" onclick="history.back()">⬅ Back</button>
  </div>

  <h1>Route 9 - To Powell & 92nd or Gresham Central Transit Center</h1>

  <div class="content-box">
    <div id="map"></div>
    <div style="text-align:right; font-size: 0.7rem; color: #777; margin-top: 0.5rem;">
      Data courtesy of TriMet.
    </div>
  </div>

  
  <script>
  const apiKey = "2C4447D4A42083BCD84DE3B8E";
  const routeNumber = 9;
  const direction = parseInt(0);

  const map = L.map('map').setView([45.6, -122.7], 12);
  L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
    maxZoom: 19
  }).addTo(map);

  const shapeOutbound = [
  [45.527756, -122.675301],
  [45.527743, -122.675303],
  [45.527709, -122.675328],
  [45.527677, -122.675363],
  [45.52762, -122.675439],
  [45.527546, -122.675559],
  [45.527435, -122.675554],
  [45.527361, -122.675551],
  [45.527298, -122.675548],
  [45.52673, -122.675529],
  [45.526702, -122.675528],
  [45.526645, -122.675527],
  [45.526585, -122.675524],
  [45.52599, -122.675512],
  [45.52593, -122.67551],
  [45.525224, -122.675481],
  [45.524707, -122.675459],
  [45.524508, -122.675451],
  [45.524455, -122.675457],
  [45.523856, -122.675435],
  [45.523796, -122.675434],
  [45.523744, -122.675433],
  [45.523208, -122.675414],
  [45.523141, -122.675403],
  [45.523025, -122.675386],
  [45.522962, -122.67538],
  [45.522922, -122.675383],
  [45.52288, -122.675394],
  [45.522703, -122.675478],
  [45.522612, -122.675527],
  [45.52258, -122.675542],
  [45.522549, -122.675556],
  [45.522184, -122.67573],
  [45.522128, -122.67575],
  [45.52206, -122.675774],
  [45.521534, -122.676064],
  [45.521457, -122.67611],
  [45.52137, -122.67616],
  [45.520922, -122.676395],
  [45.520857, -122.676429],
  [45.52079, -122.676466],
  [45.520181, -122.676796],
  [45.520125, -122.676825],
  [45.520048, -122.676865],
  [45.519566, -122.677133],
  [45.519507, -122.677166],
  [45.519457, -122.67719],
  [45.519358, -122.677239],
  [45.518833, -122.677521],
  [45.518798, -122.677543],
  [45.51877, -122.67756],
  [45.51874, -122.677579],
  [45.518179, -122.677878],
  [45.518142, -122.677899],
  [45.518112, -122.677916],
  [45.518045, -122.677953],
  [45.517579, -122.6782],
  [45.517539, -122.678221],
  [45.517462, -122.678283],
  [45.516795, -122.678644],
  [45.51613, -122.679004],
  [45.515462, -122.679366],
  [45.51479, -122.67973],
  [45.514269, -122.680012],
  [45.514133, -122.680086],
  [45.513466, -122.680448],
  [45.513249, -122.680565],
  [45.513019, -122.68069],
  [45.512796, -122.68081],
  [45.512727, -122.680848],
  [45.512371, -122.68104],
  [45.512133, -122.68117],
  [45.512001, -122.681241],
  [45.511705, -122.681401],
  [45.511595, -122.681461],
  [45.511468, -122.68153],
  [45.511448, -122.68154],
  [45.511222, -122.681664],
  [45.510914, -122.68183],
  [45.510879, -122.681849],
  [45.510797, -122.681893],
  [45.510523, -122.682043],
  [45.510426, -122.682095],
  [45.510239, -122.682195],
  [45.510133, -122.682253],
  [45.509636, -122.682522],
  [45.509467, -122.682613],
  [45.50905, -122.682839],
  [45.508858, -122.682943],
  [45.508787, -122.682973],
  [45.508748, -122.682988],
  [45.50871, -122.683002],
  [45.5086, -122.683042],
  [45.508493, -122.683023],
  [45.508434, -122.683022],
  [45.508247, -122.68303],
  [45.50823, -122.683032],
  [45.508214, -122.683033],
  [45.508152, -122.683036],
  [45.508045, -122.683049],
  [45.508029, -122.68296],
  [45.50802, -122.682834],
  [45.50802, -122.682648],
  [45.508019, -122.682456],
  [45.508015, -122.682177],
  [45.508012, -122.682114],
  [45.50801, -122.682073],
  [45.508003, -122.682014],
  [45.507993, -122.681962],
  [45.507971, -122.681877],
  [45.507943, -122.681752],
  [45.507921, -122.681647],
  [45.507904, -122.681558],
  [45.507889, -122.681459],
  [45.50788, -122.68135],
  [45.507877, -122.681267],
  [45.507872, -122.681109],
  [45.50787, -122.680977],
  [45.507848, -122.680573],
  [45.507844, -122.68043],
  [45.507836, -122.680182],
  [45.507836, -122.680132],
  [45.507837, -122.680036],
  [45.507839, -122.679927],
  [45.507846, -122.679801],
  [45.507858, -122.679603],
  [45.50787, -122.679419],
  [45.507876, -122.67922],
  [45.507895, -122.678891],
  [45.507909, -122.678744],
  [45.507919, -122.678593],
  [45.507924, -122.67851],
  [45.507925, -122.678421],
  [45.507927, -122.677624],
  [45.507939, -122.677507],
  [45.507951, -122.677395],
  [45.507953, -122.677367],
  [45.507954, -122.677328],
  [45.507952, -122.676815],
  [45.507951, -122.676727],
  [45.50795, -122.676662],
  [45.507946, -122.676562],
  [45.507942, -122.676511],
  [45.507937, -122.676455],
  [45.507928, -122.676392],
  [45.507919, -122.676341],
  [45.507909, -122.676293],
  [45.507897, -122.676242],
  [45.507887, -122.676206],
  [45.507866, -122.676144],
  [45.507844, -122.676086],
  [45.507821, -122.676034],
  [45.507796, -122.675983],
  [45.507773, -122.675941],
  [45.507742, -122.675889],
  [45.507704, -122.675835],
  [45.507675, -122.675799],
  [45.507639, -122.675758],
  [45.507609, -122.675726],
  [45.507574, -122.675694],
  [45.50754, -122.675667],
  [45.507504, -122.675642],
  [45.507465, -122.675617],
  [45.507421, -122.675595],
  [45.507319, -122.675555],
  [45.507234, -122.675528],
  [45.506949, -122.675443],
  [45.50679, -122.675391],
  [45.50671, -122.675359],
  [45.506628, -122.675324],
  [45.506566, -122.675295],
  [45.506502, -122.675266],
  [45.506462, -122.675247],
  [45.506198, -122.675126],
  [45.506134, -122.675095],
  [45.506058, -122.675056],
  [45.506004, -122.675023],
  [45.505944, -122.674986],
  [45.505905, -122.674959],
  [45.505836, -122.674909],
  [45.505754, -122.67484],
  [45.505704, -122.674794],
  [45.505635, -122.674728],
  [45.505579, -122.674671],
  [45.505478, -122.674564],
  [45.505311, -122.674383],
  [45.505239, -122.674314],
  [45.505188, -122.674268],
  [45.505072, -122.674178],
  [45.50496, -122.674103],
  [45.504649, -122.67391],
  [45.504532, -122.673838],
  [45.504283, -122.673689],
  [45.504145, -122.673614],
  [45.504103, -122.673595],
  [45.503986, -122.673542],
  [45.50368, -122.673395],
  [45.503291, -122.673202],
  [45.502763, -122.672937],
  [45.502728, -122.672914],
  [45.502678, -122.67288],
  [45.502635, -122.672842],
  [45.502596, -122.6728],
  [45.502555, -122.672748],
  [45.502528, -122.672707],
  [45.502501, -122.672661],
  [45.502479, -122.672617],
  [45.502458, -122.672564],
  [45.50244, -122.672506],
  [45.502431, -122.672457],
  [45.502426, -122.672422],
  [45.502424, -122.672374],
  [45.502424, -122.672333],
  [45.502427, -122.672285],
  [45.502434, -122.672238],
  [45.502439, -122.672206],
  [45.50245, -122.672153],
  [45.502464, -122.672104],
  [45.502484, -122.672074],
  [45.502512, -122.67203],
  [45.502534, -122.671949],
  [45.502847, -122.670901],
  [45.502891, -122.670754],
  [45.502956, -122.670539],
  [45.502998, -122.670254],
  [45.50302, -122.670142],
  [45.503035, -122.670075],
  [45.503056, -122.669991],
  [45.503069, -122.669947],
  [45.503097, -122.669873],
  [45.503132, -122.669797],
  [45.503167, -122.669725],
  [45.503202, -122.669666],
  [45.503237, -122.669611],
  [45.503272, -122.669561],
  [45.503402, -122.669357],
  [45.504283, -122.66801],
  [45.50463, -122.667478],
  [45.505025, -122.666877],
  [45.50589, -122.665538],
  [45.506437, -122.664706],
  [45.506458, -122.664666],
  [45.506473, -122.664628],
  [45.506486, -122.664593],
  [45.506496, -122.664557],
  [45.506504, -122.664525],
  [45.506515, -122.66447],
  [45.506527, -122.664398],
  [45.506534, -122.664337],
  [45.506536, -122.664309],
  [45.506538, -122.66426],
  [45.506544, -122.663978],
  [45.50655, -122.663892],
  [45.506567, -122.663783],
  [45.506561, -122.663417],
  [45.50655, -122.66229],
  [45.506549, -122.662144],
  [45.506548, -122.662057],
  [45.506549, -122.661931],
  [45.50655, -122.661827],
  [45.506555, -122.661603],
  [45.506555, -122.66114],
  [45.506557, -122.661016],
  [45.50655, -122.660903],
  [45.506538, -122.660778],
  [45.506497, -122.660682],
  [45.50649, -122.660667],
  [45.506484, -122.660621],
  [45.506472, -122.660527],
  [45.506453, -122.660406],
  [45.506425, -122.660257],
  [45.50639, -122.6601],
  [45.506346, -122.659935],
  [45.506322, -122.659852],
  [45.506285, -122.659737],
  [45.506256, -122.659649],
  [45.506188, -122.659507],
  [45.506144, -122.65943],
  [45.506101, -122.659334],
  [45.505964, -122.659077],
  [45.50589, -122.658929],
  [45.505851, -122.658858],
  [45.505824, -122.658809],
  [45.505799, -122.658776],
  [45.505756, -122.658721],
  [45.505641, -122.658715],
  [45.504962, -122.658725],
  [45.504872, -122.658726],
  [45.504871, -122.658124],
  [45.50487, -122.657781],
  [45.504872, -122.657631],
  [45.504873, -122.657583],
  [45.50487, -122.657489],
  [45.504866, -122.657409],
  [45.504855, -122.657327],
  [45.504836, -122.657244],
  [45.504817, -122.657178],
  [45.504804, -122.657138],
  [45.504759, -122.657047],
  [45.504733, -122.656997],
  [45.504704, -122.656953],
  [45.504666, -122.65691],
  [45.504627, -122.656875],
  [45.504593, -122.656853],
  [45.504563, -122.656831],
  [45.504572, -122.656747],
  [45.504575, -122.656679],
  [45.504572, -122.656648],
  [45.50456, -122.656597],
  [45.504531, -122.656538],
  [45.50388, -122.655385],
  [45.503808, -122.65526],
  [45.503659, -122.655035],
  [45.503586, -122.654911],
  [45.503518, -122.654795],
  [45.503482, -122.654721],
  [45.50338, -122.654519],
  [45.50332, -122.654484],
  [45.50319, -122.65443],
  [45.503054, -122.654367],
  [45.502961, -122.654329],
  [45.502909, -122.654316],
  [45.502855, -122.654309],
  [45.50277, -122.654242],
  [45.502587, -122.654238],
  [45.502401, -122.654234],
  [45.502114, -122.654228],
  [45.501701, -122.654228],
  [45.501534, -122.654227],
  [45.501325, -122.654227],
  [45.501223, -122.654225],
  [45.501108, -122.654223],
  [45.501077, -122.654065],
  [45.501007, -122.653757],
  [45.500932, -122.653478],
  [45.500939, -122.653282],
  [45.500923, -122.653223],
  [45.500891, -122.653098],
  [45.500841, -122.652905],
  [45.500794, -122.652719],
  [45.500697, -122.652586],
  [45.500589, -122.652136],
  [45.500577, -122.651996],
  [45.500445, -122.651435],
  [45.500268, -122.650743],
  [45.500208, -122.650473],
  [45.50015, -122.650201],
  [45.500048, -122.649715],
  [45.499977, -122.649385],
  [45.499938, -122.649174],
  [45.499912, -122.649014],
  [45.499875, -122.648738],
  [45.49985, -122.648497],
  [45.499834, -122.648267],
  [45.499821, -122.648002],
  [45.499801, -122.647691],
  [45.499763, -122.647258],
  [45.499718, -122.646856],
  [45.499683, -122.646568],
  [45.499621, -122.646167],
  [45.499532, -122.64565],
  [45.499485, -122.645371],
  [45.499429, -122.645122],
  [45.49936, -122.644861],
  [45.499326, -122.644736],
  [45.499355, -122.644646],
  [45.499328, -122.644557],
  [45.499225, -122.644183],
  [45.499224, -122.644177],
  [45.499209, -122.644128],
  [45.499117, -122.643807],
  [45.499088, -122.643706],
  [45.499009, -122.643435],
  [45.498796, -122.64271],
  [45.498721, -122.642455],
  [45.498623, -122.642122],
  [45.498534, -122.641819],
  [45.498498, -122.641698],
  [45.498415, -122.6416],
  [45.498304, -122.641193],
  [45.498301, -122.64103],
  [45.498202, -122.640697],
  [45.498064, -122.640211],
  [45.498024, -122.640055],
  [45.498003, -122.639947],
  [45.497985, -122.639842],
  [45.497969, -122.639735],
  [45.497967, -122.639724],
  [45.497955, -122.639627],
  [45.497941, -122.639521],
  [45.497898, -122.639014],
  [45.497867, -122.638646],
  [45.4978, -122.638471],
  [45.497786, -122.638323],
  [45.497777, -122.638233],
  [45.497718, -122.637593],
  [45.497693, -122.637276],
  [45.497677, -122.637137],
  [45.497618, -122.636889],
  [45.497543, -122.636595],
  [45.497497, -122.636431],
  [45.497465, -122.636301],
  [45.497434, -122.636185],
  [45.497448, -122.636066],
  [45.497424, -122.635976],
  [45.497315, -122.635567],
  [45.497258, -122.635356],
  [45.497209, -122.635178],
  [45.497145, -122.634928],
  [45.497122, -122.634801],
  [45.497101, -122.634655],
  [45.497085, -122.634544],
  [45.497068, -122.634402],
  [45.497018, -122.634001],
  [45.49701, -122.633932],
  [45.496992, -122.633781],
  [45.496963, -122.633537],
  [45.496928, -122.633239],
  [45.496831, -122.632446],
  [45.496814, -122.632294],
  [45.496801, -122.632036],
  [45.496799, -122.631975],
  [45.496793, -122.631635],
  [45.496792, -122.631583],
  [45.496791, -122.631504],
  [45.49679, -122.631408],
  [45.496783, -122.63104],
  [45.496778, -122.630803],
  [45.496771, -122.63047],
  [45.496767, -122.630268],
  [45.496771, -122.630144],
  [45.496779, -122.630019],
  [45.496813, -122.6295],
  [45.496828, -122.629305],
  [45.496851, -122.628966],
  [45.496857, -122.628873],
  [45.496874, -122.628619],
  [45.496886, -122.628441],
  [45.49691, -122.628085],
  [45.496934, -122.627727],
  [45.49699, -122.626927],
  [45.497008, -122.626669],
  [45.49703, -122.626355],
  [45.49704, -122.626211],
  [45.497003, -122.626076],
  [45.497013, -122.625889],
  [45.497032, -122.625619],
  [45.497047, -122.625412],
  [45.497105, -122.625288],
  [45.49714, -122.624892],
  [45.497092, -122.624793],
  [45.497125, -122.624467],
  [45.49716, -122.623907],
  [45.497165, -122.623836],
  [45.497191, -122.623479],
  [45.497212, -122.623192],
  [45.497225, -122.622997],
  [45.497245, -122.622766],
  [45.497318, -122.622603],
  [45.497328, -122.622486],
  [45.497347, -122.622237],
  [45.497365, -122.621998],
  [45.497384, -122.621743],
  [45.497394, -122.621612],
  [45.497403, -122.621502],
  [45.497457, -122.620779],
  [45.497482, -122.620381],
  [45.497506, -122.619926],
  [45.497508, -122.61988],
  [45.497516, -122.61968],
  [45.497529, -122.619431],
  [45.497531, -122.619369],
  [45.497533, -122.619311],
  [45.497545, -122.619032],
  [45.497545, -122.619023],
  [45.497548, -122.618881],
  [45.49755, -122.618768],
  [45.497549, -122.61853],
  [45.497547, -122.618036],
  [45.497547, -122.617911],
  [45.497542, -122.617118],
  [45.497542, -122.61682],
  [45.497541, -122.616361],
  [45.497542, -122.61627],
  [45.497541, -122.614973],
  [45.497541, -122.614536],
  [45.497541, -122.614223],
  [45.49754, -122.613978],
  [45.497538, -122.613593],
  [45.497537, -122.612613],
  [45.497536, -122.612445],
  [45.497535, -122.612302],
  [45.497534, -122.61216],
  [45.497533, -122.611909],
  [45.497532, -122.611833],
  [45.497527, -122.611633],
  [45.497518, -122.611471],
  [45.497511, -122.611358],
  [45.497456, -122.611191],
  [45.497447, -122.610914],
  [45.497445, -122.610807],
  [45.497444, -122.610641],
  [45.497442, -122.610111],
  [45.497437, -122.609167],
  [45.49749, -122.609049],
  [45.497489, -122.608683],
  [45.497488, -122.608558],
  [45.497488, -122.608549],
  [45.497486, -122.608059],
  [45.497443, -122.607893],
  [45.497435, -122.607172],
  [45.497435, -122.606366],
  [45.497435, -122.606073],
  [45.497432, -122.605084],
  [45.497431, -122.604774],
  [45.497429, -122.604072],
  [45.497431, -122.603422],
  [45.497431, -122.603088],
  [45.497428, -122.602205],
  [45.497426, -122.60192],
  [45.497425, -122.601551],
  [45.497423, -122.600441],
  [45.497423, -122.599793],
  [45.497422, -122.599402],
  [45.497421, -122.599035],
  [45.49742, -122.59836],
  [45.497417, -122.597898],
  [45.497415, -122.597601],
  [45.49741, -122.596693],
  [45.497456, -122.596617],
  [45.497452, -122.596273],
  [45.497451, -122.596227],
  [45.497444, -122.595648],
  [45.4974, -122.595555],
  [45.497395, -122.594695],
  [45.497395, -122.594359],
  [45.497394, -122.593799],
  [45.497393, -122.593467],
  [45.497441, -122.593323],
  [45.497439, -122.592827],
  [45.497439, -122.592721],
  [45.497439, -122.592677],
  [45.497436, -122.592318],
  [45.497395, -122.592246],
  [45.497393, -122.591894],
  [45.497392, -122.591706],
  [45.497386, -122.591185],
  [45.497386, -122.590337],
  [45.497384, -122.590003],
  [45.497385, -122.589905],
  [45.497386, -122.589823],
  [45.497385, -122.58926],
  [45.497385, -122.589202],
  [45.497384, -122.589134],
  [45.497383, -122.589061],
  [45.497379, -122.588016],
  [45.497378, -122.587106],
  [45.497425, -122.58692],
  [45.497425, -122.586466],
  [45.497424, -122.586323],
  [45.497424, -122.585855],
  [45.497374, -122.585713],
  [45.497374, -122.585473],
  [45.497371, -122.584863],
  [45.497369, -122.583635],
  [45.49737, -122.583229],
  [45.49737, -122.582907],
  [45.497367, -122.582236],
  [45.497366, -122.581916],
  [45.497367, -122.581515],
  [45.497366, -122.581216],
  [45.497367, -122.581016],
  [45.497413, -122.580916],
  [45.497411, -122.580366],
  [45.497408, -122.58006],
  [45.49741, -122.579967],
  [45.497409, -122.579859],
  [45.497409, -122.579796],
  [45.497409, -122.579732],
  [45.497408, -122.579577],
  [45.497408, -122.579451],
  [45.497407, -122.579298],
  [45.497406, -122.578725],
  [45.497406, -122.578554],
  [45.497405, -122.578242],
  [45.497404, -122.578149],
  [45.497404, -122.577789],
  [45.497404, -122.577746],
  [45.497403, -122.577483],
  [45.4974, -122.576301],
  [45.497397, -122.575916],
  [45.497347, -122.57583],
  [45.497346, -122.57548],
  [45.497345, -122.574999],
  [45.497342, -122.574055],
  [45.497342, -122.573959],
  [45.497341, -122.573721],
  [45.497338, -122.572343],
  [45.497338, -122.572212],
  [45.497337, -122.571831],
  [45.497334, -122.57095],
  [45.497333, -122.570622],
  [45.497332, -122.569456],
  [45.497374, -122.569281],
  [45.497374, -122.56913],
  [45.497376, -122.568657],
  [45.497379, -122.568512],
  [45.49733, -122.568365],
  [45.497329, -122.568032],
  [45.497326, -122.567034],
  [45.497324, -122.566578],
  [45.497325, -122.566312],
  [45.497321, -122.566143],
  [45.497313, -122.565919],
  [45.4973, -122.565679],
  [45.497285, -122.565464],
  [45.497266, -122.565291],
  [45.497246, -122.565114],
  [45.497231, -122.565016],
  [45.497207, -122.564883],
  [45.497177, -122.564723],
  [45.497198, -122.564586],
  [45.497176, -122.564471],
  [45.497127, -122.564251],
  [45.497036, -122.563891],
  [45.496923, -122.563477],
  [45.496897, -122.563371],
  [45.496834, -122.56311],
  [45.49681, -122.56301],
  [45.496489, -122.56187],
  [45.496437, -122.561684],
  [45.496133, -122.5606],
  [45.49581, -122.559462],
  [45.49576, -122.559255],
  [45.495739, -122.559114],
  [45.495729, -122.559017],
  [45.495724, -122.558921],
  [45.495724, -122.558813],
  [45.495735, -122.55864],
  [45.495763, -122.55829],
  [45.495786, -122.557983],
  [45.495787, -122.557963],
  [45.495922, -122.556219],
  [45.495936, -122.556053],
  [45.495945, -122.555959],
  [45.496009, -122.555121],
  [45.496021, -122.554968],
  [45.496065, -122.554379],
  [45.496127, -122.55356],
  [45.496182, -122.552884],
  [45.496204, -122.552583],
  [45.496219, -122.552381],
  [45.496283, -122.551559],
  [45.496296, -122.551364],
  [45.496302, -122.551284],
  [45.496311, -122.551164],
  [45.496341, -122.550785],
  [45.496378, -122.550306],
  [45.496388, -122.550189],
  [45.496455, -122.549327],
  [45.496502, -122.548708],
  [45.496543, -122.548177],
  [45.496555, -122.54802],
  [45.496606, -122.547383],
  [45.496616, -122.54727],
  [45.496617, -122.547251],
  [45.496641, -122.546908],
  [45.496658, -122.546665],
  [45.496675, -122.546427],
  [45.496695, -122.546159],
  [45.496749, -122.545435],
  [45.4968, -122.544808],
  [45.496853, -122.544097],
  [45.496869, -122.543843],
  [45.496873, -122.54377],
  [45.496887, -122.543489],
  [45.49691, -122.542839],
  [45.496913, -122.542742],
  [45.496924, -122.542433],
  [45.496932, -122.542203],
  [45.496935, -122.541979],
  [45.496963, -122.54098],
  [45.496966, -122.540897],
  [45.496969, -122.540774],
  [45.496976, -122.540538],
  [45.496992, -122.540107],
  [45.497005, -122.539672],
  [45.497015, -122.5394],
  [45.497032, -122.538752],
  [45.497038, -122.538515],
  [45.49705, -122.538089],
  [45.497057, -122.537811],
  [45.497062, -122.537665],
  [45.497068, -122.537481],
  [45.497081, -122.537131],
  [45.49709, -122.53688],
  [45.497107, -122.536456],
  [45.497128, -122.535945],
  [45.497155, -122.535337],
  [45.497203, -122.534167],
  [45.497215, -122.533854],
  [45.497232, -122.533391],
  [45.497241, -122.533169],
  [45.49725, -122.532939],
  [45.497262, -122.53266],
  [45.497281, -122.532239],
  [45.497283, -122.532168],
  [45.497296, -122.531875],
  [45.497323, -122.531157],
  [45.497329, -122.530948],
  [45.497343, -122.530617],
  [45.497368, -122.529984],
  [45.497378, -122.529719],
  [45.497387, -122.529479],
  [45.497393, -122.529336],
  [45.497406, -122.529004],
  [45.497425, -122.528544],
  [45.497427, -122.528487],
  [45.497429, -122.528425],
  [45.497448, -122.527929],
  [45.497465, -122.527495],
  [45.497485, -122.526999],
  [45.497521, -122.526141],
  [45.497534, -122.525852],
  [45.497541, -122.525708],
  [45.497552, -122.525499],
  [45.497564, -122.525361],
  [45.497579, -122.525216],
  [45.497601, -122.525026],
  [45.497623, -122.524879],
  [45.497691, -122.524481],
  [45.497831, -122.523669],
  [45.497854, -122.523544],
  [45.497877, -122.523423],
  [45.497934, -122.523092],
  [45.498016, -122.522606],
  [45.49809, -122.522171],
  [45.498224, -122.521377],
  [45.498261, -122.521144],
  [45.49831, -122.520867],
  [45.498318, -122.520825],
  [45.498437, -122.520145],
  [45.498581, -122.519322],
  [45.498717, -122.518545],
  [45.49874, -122.518411],
  [45.498891, -122.517556],
  [45.498978, -122.517067],
  [45.499088, -122.516429],
  [45.499188, -122.515848],
  [45.499201, -122.515754],
  [45.499211, -122.515677],
  [45.499219, -122.515591],
  [45.499225, -122.515461],
  [45.499224, -122.515335],
  [45.49922, -122.515249],
  [45.499211, -122.515129],
  [45.499178, -122.514933],
  [45.499137, -122.51475],
  [45.499064, -122.514465],
  [45.498908, -122.513864],
  [45.498806, -122.513477],
  [45.498707, -122.513105],
  [45.498508, -122.512325],
  [45.498279, -122.51146],
  [45.498058, -122.510625],
  [45.498017, -122.510468],
  [45.497908, -122.510058],
  [45.497879, -122.509948],
  [45.497796, -122.509638],
  [45.497679, -122.509196],
  [45.497638, -122.509041],
  [45.49751, -122.508552],
  [45.497391, -122.508088],
  [45.497244, -122.507519],
  [45.497186, -122.507294],
  [45.497058, -122.506812],
  [45.497016, -122.506649],
  [45.496862, -122.506053],
  [45.496698, -122.505428],
  [45.496519, -122.504767],
  [45.496485, -122.504639],
  [45.49641, -122.504354],
  [45.496302, -122.503931],
  [45.496165, -122.503382],
  [45.496138, -122.503271],
  [45.496067, -122.502957],
  [45.495961, -122.502442],
  [45.495944, -122.502363],
  [45.495769, -122.501488],
  [45.495641, -122.500869],
  [45.495565, -122.500492],
  [45.495258, -122.498978],
  [45.495182, -122.498605],
  [45.495098, -122.498191],
  [45.495022, -122.497824],
  [45.494917, -122.497314],
  [45.494811, -122.496802],
  [45.494786, -122.49668],
  [45.494756, -122.496529],
  [45.494706, -122.496292],
  [45.494627, -122.495919],
  [45.4946, -122.49579],
  [45.494436, -122.495007],
  [45.494298, -122.494343],
  [45.49417, -122.493711],
  [45.494046, -122.493088],
  [45.493889, -122.492337],
  [45.493815, -122.491988],
  [45.493684, -122.491372],
  [45.493534, -122.490648],
  [45.493406, -122.490024],
  [45.493299, -122.489507],
  [45.493203, -122.489039],
  [45.492996, -122.488021],
  [45.492968, -122.487883],
  [45.492893, -122.487513],
  [45.492815, -122.487123],
  [45.492778, -122.486935],
  [45.492768, -122.486886],
  [45.492739, -122.486733],
  [45.492709, -122.48658],
  [45.492661, -122.486344],
  [45.492434, -122.485242],
  [45.492361, -122.484886],
  [45.49233, -122.484721],
  [45.492294, -122.484531],
  [45.492211, -122.484122],
  [45.492193, -122.484034],
  [45.492156, -122.483846],
  [45.49211, -122.483619],
  [45.492017, -122.483156],
  [45.49197, -122.482928],
  [45.491831, -122.482334],
  [45.491762, -122.481985],
  [45.491747, -122.48191],
  [45.491522, -122.480806],
  [45.49145, -122.480683],
  [45.491371, -122.480292],
  [45.491334, -122.480108],
  [45.491272, -122.479806],
  [45.491212, -122.479513],
  [45.490978, -122.478345],
  [45.490993, -122.478197],
  [45.490935, -122.477907],
  [45.490811, -122.477287],
  [45.49074, -122.476928],
  [45.490668, -122.476814],
  [45.490581, -122.476457],
  [45.490387, -122.475792],
  [45.490309, -122.475543],
  [45.490249, -122.475349],
  [45.490124, -122.474935],
  [45.490021, -122.474597],
  [45.489848, -122.474014],
  [45.489797, -122.473823],
  [45.489729, -122.473517],
  [45.489663, -122.473206],
  [45.489646, -122.47311],
  [45.489615, -122.472918],
  [45.4896, -122.472808],
  [45.489566, -122.472512],
  [45.489548, -122.472268],
  [45.48954, -122.472048],
  [45.489536, -122.471791],
  [45.489542, -122.471467],
  [45.489559, -122.471183],
  [45.489582, -122.470874],
  [45.489629, -122.470548],
  [45.489684, -122.470227],
  [45.489756, -122.469895],
  [45.489842, -122.469569],
  [45.489955, -122.46921],
  [45.490091, -122.468853],
  [45.490195, -122.468613],
  [45.490327, -122.468337],
  [45.490455, -122.468096],
  [45.490593, -122.467856],
  [45.490688, -122.467694],
  [45.490764, -122.467565],
  [45.491008, -122.467162],
  [45.491334, -122.466625],
  [45.492247, -122.4651],
  [45.49259, -122.464535],
  [45.493181, -122.463577],
  [45.493579, -122.462927],
  [45.493721, -122.462695],
  [45.493843, -122.462497],
  [45.493894, -122.462399],
  [45.493954, -122.462285],
  [45.494342, -122.461652],
  [45.495022, -122.460531],
  [45.495264, -122.460133],
  [45.495287, -122.460094],
  [45.495335, -122.460015],
  [45.495385, -122.459932],
  [45.49594, -122.459016],
  [45.496191, -122.458603],
  [45.496329, -122.458372],
  [45.496544, -122.457989],
  [45.496616, -122.457852],
  [45.496683, -122.457708],
  [45.49675, -122.457541],
  [45.49681, -122.457366],
  [45.496861, -122.457183],
  [45.496889, -122.457055],
  [45.49692, -122.456901],
  [45.496951, -122.456712],
  [45.496972, -122.456525],
  [45.496986, -122.456336],
  [45.496997, -122.456157],
  [45.497005, -122.455967],
  [45.497032, -122.455865],
  [45.497036, -122.455223],
  [45.497037, -122.455059],
  [45.497037, -122.454938],
  [45.49704, -122.453903],
  [45.497042, -122.453338],
  [45.497047, -122.45167],
  [45.497048, -122.451464],
  [45.497019, -122.451352],
  [45.497019, -122.45098],
  [45.49702, -122.4509],
  [45.49702, -122.450647],
  [45.497022, -122.449905],
  [45.497023, -122.449627],
  [45.497057, -122.449523],
  [45.497062, -122.448402],
  [45.497064, -122.44802],
  [45.497072, -122.44732],
  [45.497076, -122.447124],
  [45.497079, -122.446967],
  [45.497079, -122.446548],
  [45.497079, -122.446391],
  [45.497079, -122.445803],
  [45.497079, -122.444787],
  [45.497081, -122.44403],
  [45.497084, -122.443112],
  [45.497087, -122.442347],
  [45.497092, -122.441352],
  [45.497094, -122.441135],
  [45.497096, -122.440781],
  [45.4971, -122.440598],
  [45.497114, -122.44015],
  [45.497119, -122.43991],
  [45.497119, -122.43964],
  [45.497121, -122.439289],
  [45.497125, -122.438426],
  [45.497126, -122.438331],
  [45.497129, -122.438187],
  [45.49713, -122.438101],
  [45.497131, -122.437823],
  [45.497132, -122.437725],
  [45.497133, -122.437539],
  [45.497133, -122.437505],
  [45.497136, -122.436939],
  [45.497137, -122.436746],
  [45.497146, -122.435791],
  [45.497147, -122.435638],
  [45.49715, -122.43541],
  [45.49716, -122.435099],
  [45.497183, -122.434735],
  [45.497194, -122.434598],
  [45.497162, -122.43444],
  [45.497184, -122.434272],
  [45.497215, -122.434061],
  [45.497232, -122.433969],
  [45.49727, -122.433757],
  [45.497297, -122.433617],
  [45.497369, -122.433315],
  [45.497447, -122.432994],
  [45.497523, -122.432911],
  [45.497623, -122.432518],
  [45.497689, -122.432259],
  [45.497749, -122.431999],
  [45.497767, -122.43191],
  [45.497832, -122.431592],
  [45.497868, -122.431375],
  [45.497928, -122.430973],
  [45.498061, -122.430986],
  [45.498339, -122.430988],
  [45.498439, -122.430986],
  [45.498498, -122.430985],
  [45.498862, -122.430982],
  [45.498888, -122.430982],
  [45.498951, -122.430983],
  [45.499049, -122.430983],
  [45.499107, -122.430984],
  [45.499583, -122.430986],
  [45.499706, -122.430989],
  [45.499788, -122.43099],
  [45.500186, -122.430989],
  [45.500321, -122.43099],
  [45.50087, -122.430987],
  [45.500925, -122.430987],
  [45.501008, -122.430985],
  [45.501074, -122.430983],
  [45.501742, -122.430985],
  [45.50268, -122.430988],
  [45.502838, -122.430988],
  [45.502981, -122.430989],
  [45.50338, -122.430987],
  [45.503541, -122.430986],
  [45.503659, -122.430988],
  [45.503703, -122.430989],
  [45.503792, -122.430991],
  [45.503776, -122.430915],
  [45.503418, -122.429668],
  [45.503201, -122.428927],
  [45.503056, -122.42843],
  [45.503008, -122.428251],
  [45.502978, -122.42812]
];

const stopNames = {
  "3397": "300 Block SW Lincoln",
  "3683": "N Main &amp; NE 10th",
  "3715": "N Main &amp; NE 2nd",
  "3725": "N Main &amp; NE 5th",
  "4504": "10800 Block SE Powell",
  "4507": "2900 Block W Powell",
  "4513": "W Powell &amp; NW Bella Vista",
  "4515": "W Powell &amp; SW Birdsdale",
  "4534": "SE Powell &amp; Meadowland Center",
  "4552": "W Powell &amp; SW Towle",
  "4555": "W Powell &amp; SW Wallula",
  "4557": "W Powell &amp; SW Walters",
  "4562": "SE Powell &amp; 102nd",
  "4564": "SE Powell &amp; 104th",
  "4567": "SE Powell &amp; 112th",
  "4568": "SE Powell &amp; 116th",
  "4571": "SE Powell &amp; 119th",
  "4573": "SE Powell &amp; 122nd",
  "4580": "SE Powell &amp; 130th",
  "4585": "SE Powell &amp; 136th",
  "4588": "SE Powell &amp; 138th",
  "4592": "SE Powell &amp; 141st",
  "4596": "SE Powell &amp; 145th",
  "4598": "SE Powell &amp; 148th",
  "4599": "SE Powell &amp; 151st",
  "4600": "SE Powell &amp; 154th",
  "4602": "SE Powell &amp; 157th",
  "4606": "SE Powell &amp; 160th",
  "4610": "SE Powell &amp; Naegeli",
  "4612": "SE Powell &amp; 168th",
  "4615": "SE Powell &amp; 174th",
  "4618": "W Powell &amp; SW Highland",
  "4620": "W Powell &amp; Powell Loop",
  "4622": "SE Powell &amp; 21st",
  "4625": "SE Powell &amp; 24th",
  "4627": "SE Powell &amp; 26th",
  "4644": "SE Powell &amp; 33rd",
  "4647": "SE Powell &amp; 34th",
  "4648": "SE Powell &amp; 36th Pl",
  "4651": "SE Powell &amp; Cesar Chavez Blvd",
  "4656": "SE Powell &amp; 42nd",
  "4662": "SE Powell &amp; 47th",
  "4666": "SE Powell &amp; 50th/Foster",
  "4667": "SE Powell &amp; 52nd",
  "4675": "SE Powell &amp; 60th",
  "4679": "SE Powell &amp; 65th",
  "4680": "SE Powell &amp; 67th",
  "4682": "SE Powell &amp; 69th",
  "4686": "SE Powell &amp; 72nd",
  "4691": "SE Powell &amp; 79th",
  "4693": "SE Powell &amp; 82nd",
  "4699": "SE Powell &amp; 86th",
  "4707": "SE Powell &amp; 92nd",
  "7594": "SW 5th &amp; Columbia",
  "7602": "SW 5th &amp; Harrison",
  "7636": "SW 5th &amp; Harvey Milk",
  "7640": "SW 5th &amp; Taylor",
  "8199": "Gresham Central Transit Center",
  "8742": "2700 Block W Powell",
  "8812": "4700 Block W Powell",
  "9300": "NW 6th &amp; Flanders",
  "9301": "NW 5th &amp; Davis",
  "10858": "Gresham Central Transit Center ",
  "11742": "SE Powell &amp; 125th Pl",
  "11920": "SE Powell &amp; 57th",
  "11921": "SE Powell &amp; 62nd",
  "11922": "SE Powell &amp; 75th",
  "12757": "NE 10th &amp; Hood (Gresham Central TC)",
  "12866": "W Powell &amp; NW Wilson",
  "12867": "W Powell &amp; SW Eastman Parkway",
  "13732": "South Waterfront/S Moody",
  "13772": "OMSI/SE Water",
  "13778": "SE Division Pl &amp; 8th",
  "13791": "SE Milwaukie &amp; Gideon",
  "13792": "SE Powell &amp; 12th",
  "13957": "SE Powell &amp; 162nd",
  "14018": "SE Powell &amp; 99th (Powell Garage)",
  "14121": "13300 Block SE Powell"
};

const stops = [
  { stop_id: "9301", name: "NW 5th &amp; Davis", lat: 45.524705, lon: -122.675552, times: ["4:20 PM"] },
  { stop_id: "7636", name: "SW 5th &amp; Harvey Milk", lat: 45.520945, lon: -122.676484, times: ["4:22 PM"] },
  { stop_id: "7640", name: "SW 5th &amp; Taylor", lat: 45.517603, lon: -122.678292, times: ["4:25 PM"] },
  { stop_id: "7594", name: "SW 5th &amp; Columbia", lat: 45.514297, lon: -122.680113, times: ["4:11 PM"] },
  { stop_id: "7602", name: "SW 5th &amp; Harrison", lat: 45.510939, lon: -122.681923, times: ["4:12 PM"] },
  { stop_id: "3397", name: "300 Block SW Lincoln", lat: 45.507794, lon: -122.680132, times: ["4:15 PM"] },
  { stop_id: "13732", name: "South Waterfront/S Moody", lat: 45.502797, lon: -122.670872, times: ["4:18 PM"] },
  { stop_id: "13772", name: "OMSI/SE Water", lat: 45.506493, lon: -122.662291, times: ["4:19 PM"] },
  { stop_id: "13778", name: "SE Division Pl &amp; 8th", lat: 45.504815, lon: -122.658124, times: ["4:22 PM"] },
  { stop_id: "13791", name: "SE Milwaukie &amp; Gideon", lat: 45.502586, lon: -122.65436, times: ["4:24 PM"] },
  { stop_id: "13792", name: "SE Powell &amp; 12th", lat: 45.500809, lon: -122.653283, times: ["4:11 PM"] },
  { stop_id: "4622", name: "SE Powell &amp; 21st", lat: 45.49914, lon: -122.644225, times: ["4:13 PM"] },
  { stop_id: "4625", name: "SE Powell &amp; 24th", lat: 45.498447, lon: -122.641871, times: ["4:13 PM"] },
  { stop_id: "4627", name: "SE Powell &amp; 26th", lat: 45.497847, lon: -122.63978, times: ["4:14 PM"] },
  { stop_id: "4644", name: "SE Powell &amp; 33rd", lat: 45.496709, lon: -122.63167, times: ["4:15 PM"] },
  { stop_id: "4647", name: "SE Powell &amp; 34th", lat: 45.49676, lon: -122.628953, times: ["4:16 PM"] },
  { stop_id: "4648", name: "SE Powell &amp; 36th Pl", lat: 45.496993, lon: -122.625613, times: ["4:17 PM"] },
  { stop_id: "4651", name: "SE Powell &amp; Cesar Chavez Blvd", lat: 45.497225, lon: -122.622217, times: ["4:18 PM"] },
  { stop_id: "4656", name: "SE Powell &amp; 42nd", lat: 45.497454, lon: -122.619023, times: ["4:18 PM"] },
  { stop_id: "4662", name: "SE Powell &amp; 47th", lat: 45.49745, lon: -122.613988, times: ["4:20 PM"] },
  { stop_id: "4666", name: "SE Powell &amp; 50th/Foster", lat: 45.497384, lon: -122.61064, times: ["4:20 PM"] },
  { stop_id: "4667", name: "SE Powell &amp; 52nd", lat: 45.497372, lon: -122.608552, times: ["4:21 PM"] },
  { stop_id: "11920", name: "SE Powell &amp; 57th", lat: 45.497385, lon: -122.604775, times: ["4:22 PM"] },
  { stop_id: "4675", name: "SE Powell &amp; 60th", lat: 45.497356, lon: -122.601551, times: ["4:23 PM"] },
  { stop_id: "11921", name: "SE Powell &amp; 62nd", lat: 45.497381, lon: -122.599036, times: ["4:23 PM"] },
  { stop_id: "4679", name: "SE Powell &amp; 65th", lat: 45.497352, lon: -122.596229, times: ["4:24 PM"] },
  { stop_id: "4680", name: "SE Powell &amp; 67th", lat: 45.497331, lon: -122.594359, times: ["4:24 PM"] },
  { stop_id: "4682", name: "SE Powell &amp; 69th", lat: 45.49733, lon: -122.591896, times: ["4:10 PM"] },
  { stop_id: "4686", name: "SE Powell &amp; 72nd", lat: 45.497311, lon: -122.58926, times: ["4:11 PM"] },
  { stop_id: "11922", name: "SE Powell &amp; 75th", lat: 45.497337, lon: -122.585473, times: ["4:12 PM"] },
  { stop_id: "4691", name: "SE Powell &amp; 79th", lat: 45.49729, lon: -122.581514, times: ["4:13 PM"] },
  { stop_id: "4693", name: "SE Powell &amp; 82nd", lat: 45.497295, lon: -122.578244, times: ["4:14 PM"] },
  { stop_id: "4699", name: "SE Powell &amp; 86th", lat: 45.497286, lon: -122.573721, times: ["4:15 PM"] },
  { stop_id: "4707", name: "SE Powell &amp; 92nd", lat: 45.497288, lon: -122.568031, times: ["4:17 PM"] },
  { stop_id: "14018", name: "SE Powell &amp; 99th (Powell Garage)", lat: 45.496376, lon: -122.561939, times: ["4:20 PM"] },
  { stop_id: "4562", name: "SE Powell &amp; 102nd", lat: 45.49572, lon: -122.557972, times: ["4:20 PM"] },
  { stop_id: "4564", name: "SE Powell &amp; 104th", lat: 45.495953, lon: -122.55496, times: ["4:21 PM"] },
  { stop_id: "4504", name: "10800 Block SE Powell", lat: 45.496214, lon: -122.551353, times: ["4:22 PM"] },
  { stop_id: "4567", name: "SE Powell &amp; 112th", lat: 45.496516, lon: -122.547255, times: ["4:22 PM"] },
  { stop_id: "4568", name: "SE Powell &amp; 116th", lat: 45.496803, lon: -122.543763, times: ["4:23 PM"] },
  { stop_id: "4571", name: "SE Powell &amp; 119th", lat: 45.496895, lon: -122.540769, times: ["4:24 PM"] },
  { stop_id: "4573", name: "SE Powell &amp; 122nd", lat: 45.496974, lon: -122.537108, times: ["4:25 PM"] },
  { stop_id: "11742", name: "SE Powell &amp; 125th Pl", lat: 45.49714, lon: -122.533848, times: ["4:10 PM"] },
  { stop_id: "4580", name: "SE Powell &amp; 130th", lat: 45.497301, lon: -122.529704, times: ["4:11 PM"] },
  { stop_id: "14121", name: "13300 Block SE Powell", lat: 45.497456, lon: -122.525847, times: ["4:12 PM"] },
  { stop_id: "4585", name: "SE Powell &amp; 136th", lat: 45.497848, lon: -122.523042, times: ["4:12 PM"] },
  { stop_id: "4588", name: "SE Powell &amp; 138th", lat: 45.498234, lon: -122.520839, times: ["4:13 PM"] },
  { stop_id: "4592", name: "SE Powell &amp; 141st", lat: 45.49865, lon: -122.518522, times: ["4:13 PM"] },
  { stop_id: "4596", name: "SE Powell &amp; 145th", lat: 45.498738, lon: -122.513513, times: ["4:14 PM"] },
  { stop_id: "4598", name: "SE Powell &amp; 148th", lat: 45.497794, lon: -122.51012, times: ["4:15 PM"] },
  { stop_id: "4599", name: "SE Powell &amp; 151st", lat: 45.496946, lon: -122.506686, times: ["4:15 PM"] },
  { stop_id: "4600", name: "SE Powell &amp; 154th", lat: 45.496426, lon: -122.504669, times: ["4:16 PM"] },
  { stop_id: "4602", name: "SE Powell &amp; 157th", lat: 45.495897, lon: -122.502469, times: ["4:16 PM"] },
  { stop_id: "4606", name: "SE Powell &amp; 160th", lat: 45.495108, lon: -122.498635, times: ["4:17 PM"] },
  { stop_id: "13957", name: "SE Powell &amp; 162nd", lat: 45.494563, lon: -122.496025, times: ["4:17 PM"] },
  { stop_id: "4610", name: "SE Powell &amp; Naegeli", lat: 45.493735, lon: -122.492021, times: ["4:18 PM"] },
  { stop_id: "4612", name: "SE Powell &amp; 168th", lat: 45.493226, lon: -122.489534, times: ["4:19 PM"] },
  { stop_id: "4534", name: "SE Powell &amp; Meadowland Center", lat: 45.492655, lon: -122.486984, times: ["4:19 PM"] },
  { stop_id: "4615", name: "SE Powell &amp; 174th", lat: 45.492085, lon: -122.483874, times: ["4:20 PM"] },
  { stop_id: "8812", name: "4700 Block W Powell", lat: 45.491307, lon: -122.480318, times: ["4:20 PM"] },
  { stop_id: "4618", name: "W Powell &amp; SW Highland", lat: 45.490082, lon: -122.474961, times: ["4:22 PM"] },
  { stop_id: "4620", name: "W Powell &amp; Powell Loop", lat: 45.490955, lon: -122.467099, times: ["4:23 PM"] },
  { stop_id: "4507", name: "2900 Block W Powell", lat: 45.493674, lon: -122.462638, times: ["4:24 PM"] },
  { stop_id: "8742", name: "2700 Block W Powell", lat: 45.495221, lon: -122.460083, times: ["4:25 PM"] },
  { stop_id: "4515", name: "W Powell &amp; SW Birdsdale", lat: 45.496934, lon: -122.455223, times: ["4:11 PM"] },
  { stop_id: "4513", name: "W Powell &amp; NW Bella Vista", lat: 45.496979, lon: -122.450981, times: ["4:12 PM"] },
  { stop_id: "4552", name: "W Powell &amp; SW Towle", lat: 45.496989, lon: -122.446549, times: ["4:12 PM"] },
  { stop_id: "4555", name: "W Powell &amp; SW Wallula", lat: 45.497014, lon: -122.444028, times: ["4:13 PM"] },
  { stop_id: "12866", name: "W Powell &amp; NW Wilson", lat: 45.496998, lon: -122.441134, times: ["4:13 PM"] },
  { stop_id: "12867", name: "W Powell &amp; SW Eastman Parkway", lat: 45.497019, lon: -122.437822, times: ["4:14 PM"] },
  { stop_id: "4557", name: "W Powell &amp; SW Walters", lat: 45.49718, lon: -122.43395, times: ["4:15 PM"] },
  { stop_id: "3715", name: "N Main &amp; NE 2nd", lat: 45.498859, lon: -122.430911, times: ["4:16 PM"] },
  { stop_id: "3725", name: "N Main &amp; NE 5th", lat: 45.500853, lon: -122.430887, times: ["4:16 PM"] },
  { stop_id: "3683", name: "N Main &amp; NE 10th", lat: 45.50338, lon: -122.430915, times: ["4:17 PM"] },
  { stop_id: "10858", name: "Gresham Central Transit Center ", lat: 45.50287, lon: -122.42659, times: ["7:28 PM"] },
  { stop_id: "12757", name: "NE 10th &amp; Hood (Gresham Central TC)", lat: 45.502929, lon: -122.42814, times: ["4:18 PM"] },
  { stop_id: "8199", name: "Gresham Central Transit Center", lat: 45.502862, lon: -122.426918, times: ["5:33 PM"] },
  { stop_id: "9300", name: "NW 6th &amp; Flanders", lat: 45.525725, lon: -122.676441, times: ["12:29 AM"] },
]

  const polylineOut = L.polyline(shapeOutbound, {
    color: 'blue',
    weight: 4,
    opacity: 0.7
  }).addTo(map);

  map.fitBounds(polylineOut.getBounds());

  stops.forEach(stop => {
    const marker = L.circleMarker([stop.lat, stop.lon], {
      radius: 6,
      color: '#4dd0e1',
      fillColor: '#4dd0e1',
      fillOpacity: 0.9,
      weight: 1
    });

    const popupContent = `
      <strong>${stop.name}</strong><br>
      ${stop.times && stop.times.length ? stop.times.join("<br>") : "No scheduled times"}
    `;

    marker.bindPopup(popupContent);
    marker.addTo(map);
  });

  let busMarkers = {};

  async function fetchAndDisplay() {
    const res = await fetch(`https://developer.trimet.org/ws/v2/vehicles?route=${routeNumber}&appID=${apiKey}&json=true`);
    const data = await res.json();
    const buses = (data.resultSet.vehicle || []).filter(v =>
      v.routeNumber == routeNumber && v.direction == direction
    );

    Object.values(busMarkers).forEach(m => map.removeLayer(m));
    busMarkers = {};

    if (buses.length === 0) return;

    buses.forEach(bus => {
      if (!bus.latitude || !bus.longitude || !bus.blockID) return;

      const icon = L.divIcon({
        className: '',
        html: `
          <div style="text-align:center;">
            <div style="background:#0071CE;color:#fff;padding:2px 6px;border-radius:6px;font-weight:bold;">${bus.vehicleID}</div>
            <div style="width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:10px solid #00bfff;margin:auto;"></div>
          </div>
        `,
        iconSize: [40, 30],
        iconAnchor: [20, 30]
      });

      const marker = L.marker([bus.latitude, bus.longitude], { icon }).addTo(map);
      busMarkers[bus.vehicleID] = marker;
    });
  }

  fetchAndDisplay();
  setInterval(fetchAndDisplay, 15000);
  </script>

<footer class="site-footer">
  <a href="terms.html">Terms of Use</a> &nbsp;|&nbsp;
  <a href="contact.html">Contact Us</a> &nbsp;|&nbsp;
  <a href="report.html">Report a Problem</a> &nbsp;|&nbsp;
  <a href="privacy.html">Privacy Policy</a>
</footer>

<div id="cookie-banner" style="display: none; position: fixed; bottom: 0; width: 100%; background: #333; color: #fff; text-align: center; padding: 1rem; z-index: 1000; font-size: 0.9rem;">
  📢 We use cookies for personalized ads and analytics. By using MetroFeed, you agree to our 
  <a href="privacy.html" style="color: #4dd0e1; text-decoration: underline;">Privacy Policy</a>.
  <button onclick="acceptCookies()" style="margin-left: 1rem; background: #4dd0e1; color: #000; border: none; padding: 0.5rem 1rem; border-radius: 5px; cursor: pointer;">OK</button>
</div>

<script>
  function acceptCookies() {
    localStorage.setItem('cookieConsent', 'true');
    document.getElementById('cookie-banner').style.display = 'none';
  }

  window.onload = function() {
    if (!localStorage.getItem('cookieConsent')) {
      document.getElementById('cookie-banner').style.display = 'block';
    }
  }
</script>


</body>
</html>