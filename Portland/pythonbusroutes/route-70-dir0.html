<!DOCTYPE html>
<html lang="en">
<head>
  

<meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Route 70 - To 33rd & Sunderland | MetroFeed Portland</title>
  <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
  <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
  <style>
    body {
      margin: 0;
      font-family: 'Segoe UI', sans-serif;
      background-color: #0d0d0d;
      color: #cccccc;
    }
    header {
      background-color: #0d0d0d;
      border-bottom: 3px solid #4dd0e1;
      padding: 1rem;
      text-align: center;
    }
    header img {
      max-height: 60px;
    }
    .ad-banner {
      text-align: center;
      margin: 1rem auto;
      background-color: #222;
      color: #888;
      padding: 1rem;
      border: 2px dashed #4dd0e1;
      font-size: 0.9rem;
      border-radius: 8px;
    }
    h1 {
      text-align: center;
      margin: 1rem 0;
      font-size: 2rem;
      color: #f0f0f0;
    }
    .content-box {
      border-radius: 12px;
      padding: 0;
      margin: 0;
      background-color: #1e1e1e;
    }
    #map {
  width: 100%;
  height: 85vh;
  border: none;
  margin: 0 auto;
  display: block;
  border-radius: 8px;
}
    .button-bar {
      display: flex;
      justify-content: center;
      margin: 1rem 0;
    }
    .button-bar a {
      background: #4dd0e1;
      color: #0d0d0d;
      padding: 0.5rem 1rem;
      text-decoration: none;
      border-radius: 8px;
      font-weight: bold;
    }

.back-button {
  background-color: #4dd0e1;
  color: #0d0d0d;
  border: none;
  padding: 0.6rem 1.2rem;
  font-size: 1rem;
  font-weight: bold;
  border-radius: 8px;
  cursor: pointer;
  box-shadow: 0 0 10px #4dd0e1;
  text-decoration: none;
}
.back-button:hover {
  background-color: #35c0d6;
}
.site-footer {
      text-align: center;
      margin-top: 3rem;
      margin-bottom: 120px;
      font-size: 0.85rem;
      color: #aaa;
    }
    .site-footer a {
      color: #00BFFF;
      text-decoration: none;
    }
    .site-footer a:hover {
      text-decoration: underline;
    }
body {
  overflow-y: auto;
}
  </style>
</head>
<body>
  <header>
    <img src="MetroFeedPortlandLogo.png" alt="MetroFeed Portland">
  </header>

  

  <div class="disclaimer" style="margin: 1rem auto 0.5rem; max-width: 600px; font-size: 0.8rem; color: #bbb; text-align: center; padding: 0.5rem 1rem; background-color: #111; border: 1px dashed #444; border-radius: 6px;">
    ⚠️ This is a Beta program, work in progress. Please REPORT bugs and pretend to be impressed.
  </div>
  <div class="disclaimer" style="margin: 0 auto 1rem; max-width: 600px; font-size: 0.75rem; color: #888; text-align: center; padding: 0.25rem 1rem;">
    This tool is not affiliated with or endorsed by TriMet. For official schedules and service alerts, visit <a href="https://trimet.org" style="color:#4dd0e1;">trimet.org</a>.
  </div>

  <div style="margin: 2rem 0; text-align: center;">
  <button class="back-button" onclick="history.back()">Back</button>
  </div>

  <h1>Route 70 - To 33rd & Sunderland</h1>

  <div class="content-box">
    <div id="map"></div>
    <div style="text-align:right; font-size: 0.7rem; color: #777; margin-top: 0.5rem;">
      Data courtesy of TriMet.
    </div>
  </div>

  
  <script>
  
  if (document.referrer === "" && performance.navigation.type === 0) {
    // No referrer + user opened directly = likely a bookmark
    window.location.href = "/index.html";
  }

  const apiKey = "2C4447D4A42083BCD84DE3B8E";
  const routeNumber = 70;
  const direction = parseInt(0);

  const map = L.map('map', {
  center: [45.6, -122.7],
  zoom: 12,
  minZoom: 12,
  maxZoom: 18,
  maxBounds: [
    [45.3, -123.1],  // Southwest corner
    [45.9, -122.3]   // Northeast corner
  ],
  maxBoundsViscosity: 1.0
});
  L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
    maxZoom: 19
  }).addTo(map);

  const shapeOutbound = [
  [45.444867, -122.640731],
  [45.444891, -122.640505],
  [45.444907, -122.64036],
  [45.445015, -122.640385],
  [45.445042, -122.640392],
  [45.445576, -122.64053],
  [45.445651, -122.640556],
  [45.445644, -122.640656],
  [45.445546, -122.641512],
  [45.445522, -122.641654],
  [45.445506, -122.641754],
  [45.445405, -122.642606],
  [45.445397, -122.642711],
  [45.445385, -122.642861],
  [45.445377, -122.642967],
  [45.445374, -122.643067],
  [45.445382, -122.643173],
  [45.445408, -122.643266],
  [45.445438, -122.643324],
  [45.445469, -122.643359],
  [45.445511, -122.643386],
  [45.445546, -122.643395],
  [45.445613, -122.643397],
  [45.445822, -122.643338],
  [45.445981, -122.643308],
  [45.446162, -122.643277],
  [45.446238, -122.643271],
  [45.446402, -122.643258],
  [45.446578, -122.643252],
  [45.446745, -122.643261],
  [45.446892, -122.643276],
  [45.447013, -122.643294],
  [45.447127, -122.643319],
  [45.447225, -122.643346],
  [45.44737, -122.643388],
  [45.447466, -122.643426],
  [45.447536, -122.643455],
  [45.447885, -122.643589],
  [45.447924, -122.643606],
  [45.448293, -122.64377],
  [45.44865, -122.643933],
  [45.449021, -122.644101],
  [45.449638, -122.644386],
  [45.449816, -122.64447],
  [45.449938, -122.644525],
  [45.450316, -122.644712],
  [45.450991, -122.645046],
  [45.451401, -122.645263],
  [45.451857, -122.645538],
  [45.452266, -122.645767],
  [45.45246, -122.645851],
  [45.452825, -122.645982],
  [45.452971, -122.646036],
  [45.453068, -122.646072],
  [45.453174, -122.646112],
  [45.453257, -122.646135],
  [45.45357, -122.64623],
  [45.45365, -122.646252],
  [45.453878, -122.646289],
  [45.453997, -122.646306],
  [45.454279, -122.646338],
  [45.454734, -122.646395],
  [45.455008, -122.646428],
  [45.455715, -122.646508],
  [45.456417, -122.646593],
  [45.456847, -122.646649],
  [45.458024, -122.64679],
  [45.458214, -122.646818],
  [45.458286, -122.646832],
  [45.458355, -122.646843],
  [45.45839, -122.646855],
  [45.458497, -122.646891],
  [45.458662, -122.646969],
  [45.458799, -122.647026],
  [45.458894, -122.647042],
  [45.459013, -122.647052],
  [45.45933, -122.64705],
  [45.459876, -122.64705],
  [45.459981, -122.64705],
  [45.460041, -122.64705],
  [45.460335, -122.64705],
  [45.460758, -122.64705],
  [45.461091, -122.647049],
  [45.46147, -122.647048],
  [45.4621, -122.647045],
  [45.462181, -122.647044],
  [45.462614, -122.647045],
  [45.462894, -122.647045],
  [45.4632, -122.647044],
  [45.463466, -122.647043],
  [45.463606, -122.647042],
  [45.463771, -122.647042],
  [45.464047, -122.647041],
  [45.464098, -122.647041],
  [45.464318, -122.64704],
  [45.464397, -122.647039],
  [45.464471, -122.64704],
  [45.464571, -122.647041],
  [45.464646, -122.647042],
  [45.464802, -122.647043],
  [45.464893, -122.647044],
  [45.464951, -122.647021],
  [45.465034, -122.647019],
  [45.465121, -122.647017],
  [45.465167, -122.647046],
  [45.465448, -122.647041],
  [45.465504, -122.647046],
  [45.465573, -122.647069],
  [45.465622, -122.647095],
  [45.465658, -122.647124],
  [45.465748, -122.647229],
  [45.466111, -122.647706],
  [45.466162, -122.647756],
  [45.466206, -122.647785],
  [45.466257, -122.647809],
  [45.466311, -122.647821],
  [45.466462, -122.647837],
  [45.467066, -122.647916],
  [45.467174, -122.647931],
  [45.467397, -122.64796],
  [45.467674, -122.647996],
  [45.467882, -122.648022],
  [45.467928, -122.648029],
  [45.468297, -122.648078],
  [45.46861, -122.648117],
  [45.469437, -122.648224],
  [45.470136, -122.648311],
  [45.470315, -122.648333],
  [45.470862, -122.648398],
  [45.471565, -122.648484],
  [45.471915, -122.648527],
  [45.472062, -122.648545],
  [45.472291, -122.648573],
  [45.472341, -122.648579],
  [45.472703, -122.648622],
  [45.472945, -122.64865],
  [45.472998, -122.648656],
  [45.473457, -122.648713],
  [45.47372, -122.648745],
  [45.473795, -122.648756],
  [45.474071, -122.648787],
  [45.474431, -122.64883],
  [45.47473, -122.648867],
  [45.474968, -122.648895],
  [45.475144, -122.648917],
  [45.475331, -122.64894],
  [45.475434, -122.648952],
  [45.475526, -122.648963],
  [45.475902, -122.649008],
  [45.476152, -122.649039],
  [45.476418, -122.649071],
  [45.476465, -122.649076],
  [45.47654, -122.649086],
  [45.476756, -122.649112],
  [45.47693, -122.649134],
  [45.476992, -122.649142],
  [45.47707, -122.64915],
  [45.477084, -122.649152],
  [45.477183, -122.649164],
  [45.47733, -122.649181],
  [45.4775, -122.649201],
  [45.477594, -122.649213],
  [45.477892, -122.649249],
  [45.477959, -122.649257],
  [45.478227, -122.649288],
  [45.478347, -122.649302],
  [45.478389, -122.649307],
  [45.47862, -122.649334],
  [45.479055, -122.64938],
  [45.479326, -122.649409],
  [45.48003, -122.649483],
  [45.480762, -122.649565],
  [45.480845, -122.649574],
  [45.481527, -122.649649],
  [45.481667, -122.64966],
  [45.481787, -122.649661],
  [45.482001, -122.649656],
  [45.482363, -122.649647],
  [45.482672, -122.649639],
  [45.483082, -122.64963],
  [45.483122, -122.649629],
  [45.483304, -122.649624],
  [45.48355, -122.649616],
  [45.483915, -122.649609],
  [45.484174, -122.649605],
  [45.485226, -122.649587],
  [45.485321, -122.649595],
  [45.485655, -122.649733],
  [45.485712, -122.649756],
  [45.485981, -122.649874],
  [45.486087, -122.649919],
  [45.486355, -122.650034],
  [45.486612, -122.650125],
  [45.487048, -122.65026],
  [45.487557, -122.650419],
  [45.488198, -122.650623],
  [45.488735, -122.650758],
  [45.488849, -122.650787],
  [45.488864, -122.65079],
  [45.489168, -122.650866],
  [45.489483, -122.650944],
  [45.489612, -122.650976],
  [45.490021, -122.651072],
  [45.490251, -122.651126],
  [45.49033, -122.651157],
  [45.490407, -122.651188],
  [45.490668, -122.651309],
  [45.490851, -122.651394],
  [45.491192, -122.651542],
  [45.491307, -122.651593],
  [45.491437, -122.651652],
  [45.491999, -122.651902],
  [45.492144, -122.65197],
  [45.492297, -122.65204],
  [45.492702, -122.652219],
  [45.493059, -122.652383],
  [45.493999, -122.6528],
  [45.494503, -122.652962],
  [45.494973, -122.653112],
  [45.495335, -122.653224],
  [45.495399, -122.653243],
  [45.496068, -122.653434],
  [45.496378, -122.653526],
  [45.496789, -122.653641],
  [45.497177, -122.653752],
  [45.497507, -122.653846],
  [45.498117, -122.654023],
  [45.498183, -122.654043],
  [45.49877, -122.654203],
  [45.498862, -122.654219],
  [45.498902, -122.654219],
  [45.499614, -122.654219],
  [45.499681, -122.65422],
  [45.500204, -122.654223],
  [45.500282, -122.654223],
  [45.50037, -122.654223],
  [45.500569, -122.654223],
  [45.500696, -122.654223],
  [45.501018, -122.654221],
  [45.501108, -122.654223],
  [45.501077, -122.654065],
  [45.501007, -122.653757],
  [45.500932, -122.653478],
  [45.500939, -122.653282],
  [45.500923, -122.653223],
  [45.500891, -122.653098],
  [45.500841, -122.652905],
  [45.500794, -122.652719],
  [45.500697, -122.652586],
  [45.500589, -122.652136],
  [45.500577, -122.651996],
  [45.500445, -122.651435],
  [45.500268, -122.650743],
  [45.500208, -122.650473],
  [45.50015, -122.650201],
  [45.500048, -122.649715],
  [45.499977, -122.649385],
  [45.499938, -122.649174],
  [45.499912, -122.649014],
  [45.499875, -122.648738],
  [45.49985, -122.648497],
  [45.499834, -122.648267],
  [45.499821, -122.648002],
  [45.499801, -122.647691],
  [45.499763, -122.647258],
  [45.499718, -122.646856],
  [45.499683, -122.646568],
  [45.499621, -122.646167],
  [45.499532, -122.64565],
  [45.499485, -122.645371],
  [45.499429, -122.645122],
  [45.49936, -122.644861],
  [45.499326, -122.644736],
  [45.499355, -122.644646],
  [45.499451, -122.644644],
  [45.499725, -122.644642],
  [45.500625, -122.644636],
  [45.500849, -122.644634],
  [45.501332, -122.644628],
  [45.502003, -122.644626],
  [45.502685, -122.644624],
  [45.502836, -122.644623],
  [45.503399, -122.644619],
  [45.504111, -122.644609],
  [45.504564, -122.644605],
  [45.50482, -122.644603],
  [45.504821, -122.644695],
  [45.504822, -122.645075],
  [45.504923, -122.645219],
  [45.505097, -122.645412],
  [45.50515, -122.645471],
  [45.505323, -122.645673],
  [45.506751, -122.647338],
  [45.506782, -122.647374],
  [45.506794, -122.647357],
  [45.506808, -122.647344],
  [45.506825, -122.647336],
  [45.506842, -122.647334],
  [45.506859, -122.647337],
  [45.506874, -122.647346],
  [45.506889, -122.647359],
  [45.506901, -122.647377],
  [45.50691, -122.6474],
  [45.506915, -122.647424],
  [45.506916, -122.64745],
  [45.506913, -122.647475],
  [45.506905, -122.647498],
  [45.506894, -122.647518],
  [45.508097, -122.648893],
  [45.508194, -122.648923],
  [45.508223, -122.648932],
  [45.508267, -122.648944],
  [45.508352, -122.648947],
  [45.508396, -122.648916],
  [45.508464, -122.648886],
  [45.508542, -122.648874],
  [45.508581, -122.648877],
  [45.50865, -122.648896],
  [45.508719, -122.648935],
  [45.508788, -122.649001],
  [45.508839, -122.649075],
  [45.508864, -122.649121],
  [45.508896, -122.649208],
  [45.508918, -122.649304],
  [45.508927, -122.64941],
  [45.508925, -122.649462],
  [45.508921, -122.649518],
  [45.508911, -122.649577],
  [45.508926, -122.649704],
  [45.50894, -122.649771],
  [45.508989, -122.649929],
  [45.51014, -122.651274],
  [45.51019, -122.651332],
  [45.510199, -122.651318],
  [45.510211, -122.651308],
  [45.510224, -122.651302],
  [45.510238, -122.6513],
  [45.510251, -122.651303],
  [45.510264, -122.651311],
  [45.510275, -122.651322],
  [45.510285, -122.651339],
  [45.510291, -122.651359],
  [45.510294, -122.65138],
  [45.510293, -122.651402],
  [45.510287, -122.651422],
  [45.510278, -122.65144],
  [45.511334, -122.652674],
  [45.511423, -122.652731],
  [45.511517, -122.652836],
  [45.511715, -122.653047],
  [45.511806, -122.653208],
  [45.511947, -122.653364],
  [45.512078, -122.653509],
  [45.512105, -122.653546],
  [45.512191, -122.65369],
  [45.512382, -122.653682],
  [45.512457, -122.653683],
  [45.512924, -122.653688],
  [45.513119, -122.653689],
  [45.51315, -122.653689],
  [45.513208, -122.653688],
  [45.513641, -122.653687],
  [45.514353, -122.653668],
  [45.515065, -122.65367],
  [45.515778, -122.653664],
  [45.516417, -122.653657],
  [45.516502, -122.653659],
  [45.516566, -122.653661],
  [45.517061, -122.653653],
  [45.517203, -122.653651],
  [45.517286, -122.65365],
  [45.517917, -122.653646],
  [45.518631, -122.653645],
  [45.519229, -122.65364],
  [45.519342, -122.65364],
  [45.519407, -122.653639],
  [45.520058, -122.653632],
  [45.520632, -122.653629],
  [45.520778, -122.653628],
  [45.521061, -122.653626],
  [45.521156, -122.653625],
  [45.521483, -122.653623],
  [45.522196, -122.653618],
  [45.522284, -122.653618],
  [45.5227, -122.653615],
  [45.522907, -122.653618],
  [45.523016, -122.653619],
  [45.523192, -122.653618],
  [45.523201, -122.653618],
  [45.523385, -122.653622],
  [45.523618, -122.653618],
  [45.524335, -122.653608],
  [45.524427, -122.653605],
  [45.525765, -122.653596],
  [45.526561, -122.653591],
  [45.52659, -122.653591],
  [45.527234, -122.653591],
  [45.52745, -122.65359],
  [45.527852, -122.653587],
  [45.527932, -122.65359],
  [45.528043, -122.653596],
  [45.528175, -122.653596],
  [45.529044, -122.653605],
  [45.529111, -122.653607],
  [45.529238, -122.653617],
  [45.529104, -122.654163],
  [45.52906, -122.654334],
  [45.529147, -122.654388],
  [45.529237, -122.654443],
  [45.529301, -122.654482],
  [45.529409, -122.654557],
  [45.529446, -122.654574],
  [45.529491, -122.654585],
  [45.529522, -122.654586],
  [45.529894, -122.654585],
  [45.529938, -122.654585],
  [45.529999, -122.654583],
  [45.530051, -122.654581],
  [45.530104, -122.65458],
  [45.530119, -122.654579],
  [45.530178, -122.654578],
  [45.530202, -122.654577],
  [45.530574, -122.654588],
  [45.53065, -122.654591],
  [45.530817, -122.654589],
  [45.531391, -122.654592],
  [45.531487, -122.654597],
  [45.531488, -122.654494],
  [45.531483, -122.652799],
  [45.531482, -122.652543],
  [45.53148, -122.65211],
  [45.531479, -122.651906],
  [45.531476, -122.651451],
  [45.531476, -122.651321],
  [45.531471, -122.650513],
  [45.53147, -122.650394],
  [45.53147, -122.64974],
  [45.53147, -122.649656],
  [45.53147, -122.649483],
  [45.531471, -122.649362],
  [45.531469, -122.648734],
  [45.531457, -122.648471],
  [45.531451, -122.648305],
  [45.531451, -122.647948],
  [45.531451, -122.647514],
  [45.531458, -122.646825],
  [45.53146, -122.646693],
  [45.531453, -122.644855],
  [45.532076, -122.644851],
  [45.532167, -122.64485],
  [45.532708, -122.644846],
  [45.532878, -122.644845],
  [45.533597, -122.644841],
  [45.534217, -122.644839],
  [45.534245, -122.644839],
  [45.534311, -122.644837],
  [45.534308, -122.644712],
  [45.534301, -122.643137],
  [45.534301, -122.643005],
  [45.534297, -122.641275],
  [45.534297, -122.641179],
  [45.534481, -122.641177],
  [45.534863, -122.641177],
  [45.534919, -122.641171],
  [45.534966, -122.641164],
  [45.534991, -122.641154],
  [45.535011, -122.641143],
  [45.535027, -122.64113],
  [45.535043, -122.641114],
  [45.535078, -122.641058],
  [45.535096, -122.641025],
  [45.535118, -122.640968],
  [45.535139, -122.640895],
  [45.535153, -122.640813],
  [45.53516, -122.640714],
  [45.535164, -122.640628],
  [45.535167, -122.640537],
  [45.535168, -122.640446],
  [45.535168, -122.640332],
  [45.535168, -122.640119],
  [45.535168, -122.640027],
  [45.535168, -122.639228],
  [45.535167, -122.639124],
  [45.535166, -122.638752],
  [45.535164, -122.638152],
  [45.535165, -122.637845],
  [45.535165, -122.637606],
  [45.535164, -122.636809],
  [45.535164, -122.636716],
  [45.535164, -122.63638],
  [45.535164, -122.635527],
  [45.535121, -122.635382],
  [45.535118, -122.635311],
  [45.535112, -122.635187],
  [45.535112, -122.635039],
  [45.535112, -122.634918],
  [45.535114, -122.634312],
  [45.535159, -122.634123],
  [45.535159, -122.633732],
  [45.535161, -122.633252],
  [45.535161, -122.632699],
  [45.53516, -122.632345],
  [45.53516, -122.631423],
  [45.53516, -122.631264],
  [45.535159, -122.630849],
  [45.535158, -122.630682],
  [45.535381, -122.630679],
  [45.53556, -122.630677],
  [45.535626, -122.630676],
  [45.535702, -122.630675],
  [45.535782, -122.630674],
  [45.535868, -122.630674],
  [45.536272, -122.630672],
  [45.536302, -122.630672],
  [45.536399, -122.630671],
  [45.536448, -122.630672],
  [45.536514, -122.630672],
  [45.53669, -122.630672],
  [45.537095, -122.630671],
  [45.537349, -122.630673],
  [45.537583, -122.630675],
  [45.537779, -122.630674],
  [45.538036, -122.630672],
  [45.538175, -122.630674],
  [45.538179, -122.630674],
  [45.538959, -122.630676],
  [45.539037, -122.630676],
  [45.539928, -122.630679],
  [45.540098, -122.63068],
  [45.540996, -122.63068],
  [45.54167, -122.630683],
  [45.542068, -122.630685],
  [45.542167, -122.630687],
  [45.542335, -122.630686],
  [45.542386, -122.630685],
  [45.54267, -122.630685],
  [45.54364, -122.630686],
  [45.54378, -122.630687],
  [45.544638, -122.630691],
  [45.545287, -122.630692],
  [45.545915, -122.630694],
  [45.546017, -122.630695],
  [45.546732, -122.630698],
  [45.546789, -122.63065],
  [45.546924, -122.630652],
  [45.547012, -122.630697],
  [45.547956, -122.6307],
  [45.548189, -122.630701],
  [45.548255, -122.630702],
  [45.548327, -122.630704],
  [45.548561, -122.630705],
  [45.548823, -122.630706],
  [45.548942, -122.630707],
  [45.549307, -122.63071],
  [45.549925, -122.630695],
  [45.550069, -122.630693],
  [45.55021, -122.630692],
  [45.551693, -122.630691],
  [45.551779, -122.630691],
  [45.552273, -122.630688],
  [45.552976, -122.630687],
  [45.553042, -122.630686],
  [45.553103, -122.630685],
  [45.553682, -122.630685],
  [45.553844, -122.630685],
  [45.554303, -122.630686],
  [45.555079, -122.630684],
  [45.555144, -122.630683],
  [45.555236, -122.630682],
  [45.555369, -122.630681],
  [45.555444, -122.63068],
  [45.556279, -122.630679],
  [45.556733, -122.630679],
  [45.557638, -122.630678],
  [45.558201, -122.630675],
  [45.5583, -122.630675],
  [45.558954, -122.630675],
  [45.559023, -122.630674],
  [45.559095, -122.630673],
  [45.559725, -122.630673],
  [45.559821, -122.630673],
  [45.560301, -122.63067],
  [45.561433, -122.630669],
  [45.561442, -122.630669],
  [45.561508, -122.630669],
  [45.562134, -122.630668],
  [45.562403, -122.630667],
  [45.562599, -122.630667],
  [45.56265, -122.630667],
  [45.562715, -122.630666],
  [45.563051, -122.630665],
  [45.5635, -122.630663],
  [45.563886, -122.630662],
  [45.564459, -122.630662],
  [45.564572, -122.630662],
  [45.565125, -122.630661],
  [45.565926, -122.630661],
  [45.566212, -122.63066],
  [45.566296, -122.63066],
  [45.566412, -122.63066],
  [45.566781, -122.630659],
  [45.56819, -122.630651],
  [45.568207, -122.630627],
  [45.568213, -122.630619],
  [45.568247, -122.630618],
  [45.568292, -122.630618],
  [45.568312, -122.630655],
  [45.569859, -122.630655],
  [45.569985, -122.630656],
  [45.570151, -122.630656],
  [45.57069, -122.63065],
  [45.571072, -122.630644],
  [45.571756, -122.630644],
  [45.571894, -122.630643],
  [45.572344, -122.630647],
  [45.57259, -122.630647],
  [45.572693, -122.630583],
  [45.572792, -122.630573],
  [45.572833, -122.630561],
  [45.572864, -122.630542],
  [45.57291, -122.630504],
  [45.572955, -122.630456],
  [45.572999, -122.630396],
  [45.57305, -122.630301],
  [45.573159, -122.630067],
  [45.573202, -122.629998],
  [45.573249, -122.629938],
  [45.573288, -122.629901],
  [45.573328, -122.629876],
  [45.573364, -122.62986],
  [45.573409, -122.629854],
  [45.573446, -122.629855],
  [45.573471, -122.62986],
  [45.573515, -122.62988],
  [45.573549, -122.6299],
  [45.573594, -122.629939],
  [45.573624, -122.629978],
  [45.57366, -122.630047],
  [45.573684, -122.630114],
  [45.5737, -122.630173],
  [45.573799, -122.630702],
  [45.573903, -122.631252],
  [45.573963, -122.631574],
  [45.573927, -122.631918],
  [45.574025, -122.632382],
  [45.574241, -122.633371],
  [45.574321, -122.633748],
  [45.57454, -122.634739],
  [45.574559, -122.634826],
  [45.574742, -122.635678],
  [45.574788, -122.635891],
  [45.574848, -122.63617],
  [45.574888, -122.636356],
  [45.574914, -122.63648],
  [45.574972, -122.636752],
  [45.575175, -122.63772],
  [45.575255, -122.6381],
  [45.575304, -122.638335],
  [45.575466, -122.639106],
  [45.575591, -122.639675],
  [45.575713, -122.640198],
  [45.575976, -122.64133],
  [45.576063, -122.641715],
  [45.576072, -122.641751],
  [45.576105, -122.641899],
  [45.576164, -122.642164],
  [45.576217, -122.642402],
  [45.576242, -122.642518],
  [45.576401, -122.643265],
  [45.57643, -122.643398],
  [45.576452, -122.643502],
  [45.576474, -122.643608],
  [45.576532, -122.643879],
  [45.57656, -122.644004],
  [45.576649, -122.643944],
  [45.577123, -122.643942],
  [45.57719, -122.643941],
  [45.57806, -122.643928],
  [45.579254, -122.643921],
  [45.579622, -122.643919],
  [45.580963, -122.643904],
  [45.58132, -122.6439],
  [45.581361, -122.643897],
  [45.581407, -122.643891],
  [45.581413, -122.643889],
  [45.581473, -122.643874],
  [45.58152, -122.643856],
  [45.581604, -122.643815],
  [45.581671, -122.64377],
  [45.581916, -122.643577],
  [45.582101, -122.643423],
  [45.58219, -122.643346],
  [45.582079, -122.643059],
  [45.581754, -122.642228],
  [45.581622, -122.641867],
  [45.581456, -122.641371],
  [45.581285, -122.640856],
  [45.580859, -122.639572],
  [45.580703, -122.639101],
  [45.580586, -122.638751],
  [45.580372, -122.638104],
  [45.58033, -122.637979],
  [45.580303, -122.637896],
  [45.580242, -122.637694],
  [45.580198, -122.637533],
  [45.580149, -122.637305],
  [45.580141, -122.63726],
  [45.580123, -122.637155],
  [45.580099, -122.636961],
  [45.580097, -122.63693],
  [45.580084, -122.636757],
  [45.580076, -122.636523],
  [45.580075, -122.636002],
  [45.580075, -122.635725],
  [45.580075, -122.635367],
  [45.580075, -122.634704],
  [45.580075, -122.634025],
  [45.580075, -122.633662],
  [45.580075, -122.633375],
  [45.580344, -122.633374],
  [45.580639, -122.633356],
  [45.580815, -122.633336],
  [45.580834, -122.633334],
  [45.580946, -122.633318],
  [45.581341, -122.633259],
  [45.581422, -122.633247],
  [45.581735, -122.6332],
  [45.581849, -122.633183],
  [45.58343, -122.632944],
  [45.583577, -122.632921],
  [45.583828, -122.632881],
  [45.58395, -122.632858],
  [45.584063, -122.63283],
  [45.584234, -122.632779],
  [45.584424, -122.632709],
  [45.584674, -122.632594],
  [45.585053, -122.632389],
  [45.585527, -122.632135],
  [45.585669, -122.632074],
  [45.585832, -122.63202],
  [45.586006, -122.631985],
  [45.586113, -122.631968],
  [45.586236, -122.631958],
  [45.5871, -122.631951],
  [45.587995, -122.631954],
  [45.588684, -122.631958],
  [45.588836, -122.631966],
  [45.589, -122.631985],
  [45.589189, -122.632021],
  [45.589407, -122.632076],
  [45.589565, -122.632132],
  [45.5897, -122.632179],
  [45.589947, -122.632298],
  [45.59009, -122.632382],
  [45.590623, -122.632708],
  [45.592714, -122.634011],
  [45.594639, -122.635208],
  [45.594742, -122.635273],
  [45.59482, -122.635316],
  [45.59498, -122.635398],
  [45.595162, -122.635475],
  [45.595413, -122.635556],
  [45.595401, -122.63567],
  [45.595386, -122.635728],
  [45.595361, -122.635773],
  [45.595211, -122.635783],
  [45.595091, -122.635787],
  [45.595008, -122.635786],
  [45.594301, -122.635774],
  [45.593348, -122.63577],
  [45.593264, -122.635769],
  [45.593183, -122.63577],
  [45.591412, -122.635769],
  [45.591288, -122.635768],
  [45.590867, -122.635765],
  [45.590661, -122.635763],
  [45.590597, -122.635763],
  [45.590454, -122.635763],
  [45.590328, -122.635763],
  [45.589874, -122.635765]
];

const stopNames = {
  "636": "NE Broadway &amp; 26th",
  "638": "NE Broadway &amp; 28th",
  "642": "NE Broadway &amp; 32nd",
  "1115": "NE Columbia Blvd &amp; 27th",
  "3301": "SE Ladd &amp; Division",
  "3303": "SE Ladd &amp; Hawthorne",
  "3305": "SE Ladd &amp; Ladd Circle",
  "3307": "SE Ladd &amp; Lavender",
  "3310": "SE Ladd &amp; Palm",
  "3908": "SE Milwaukie &amp; Center",
  "3912": "SE Milwaukie &amp; Claybourne",
  "3917": "SE Milwaukie &amp; Haig",
  "3922": "SE Milwaukie &amp; Insley",
  "3929": "SE Milwaukie &amp; Long",
  "3932": "SE Milwaukie &amp; Mall",
  "3933": "SE Milwaukie &amp; Mitchell",
  "3940": "SE Milwaukie &amp; Ramona",
  "3947": "SE Milwaukie &amp; Tolman",
  "4047": "NE Multnomah &amp; 13th",
  "4048": "NE Multnomah &amp; 16th",
  "4050": "NE Multnomah &amp; 19th",
  "4912": "N Riverside Way &amp; 33rd Dr",
  "6237": "NE Weidler &amp; 22nd",
  "6239": "NE Weidler &amp; 24th",
  "6582": "NE 12th &amp; Irving",
  "6585": "SE 12th &amp; Madison",
  "6588": "SE 12th &amp; Morrison",
  "6589": "SE 12th &amp; Pine",
  "6592": "NE 12th &amp; E Burnside",
  "6594": "SE 12th &amp; Stark",
  "6853": "SE 17th &amp; Marion",
  "6860": "SE 17th &amp; Harney",
  "6871": "SE 17th &amp; Lava",
  "6885": "SE 17th &amp; Ochoco St",
  "6897": "SE 17th &amp; Tenino",
  "6901": "SE 17th &amp; Waverly",
  "7105": "NE 21st &amp; Argyle",
  "7107": "NE 21st &amp; Clackamas",
  "7138": "NE 21st &amp; Weidler",
  "7362": "NE 33rd &amp; Ainsworth",
  "7364": "NE 33rd &amp; Alberta Ct",
  "7365": "NE 33rd &amp; Brazee",
  "7369": "NE 33rd &amp; Dekum",
  "7371": "NE 33rd &amp; Emerson",
  "7373": "NE 33rd &amp; Alameda",
  "7378": "NE 33rd &amp; Holman",
  "7380": "NE 33rd &amp; Jarrett",
  "7383": "NE 33rd &amp; Killingsworth",
  "7385": "NE 33rd &amp; Knott",
  "7389": "NE 33rd &amp; Rosa Parks Way",
  "7390": "NE 33rd &amp; Prescott",
  "7392": "NE 33rd &amp; Schuyler",
  "7393": "NE 33rd &amp; Shaver",
  "7395": "NE 33rd &amp; Siskiyou",
  "7398": "NE 33rd &amp; Skidmore",
  "7399": "NE 33rd &amp; Stanton",
  "7402": "NE 33rd &amp; US Grant Pl",
  "7404": "NE 33rd &amp; Webster",
  "8225": "SE Jackson &amp; 21st",
  "8303": "7500 Block NE 21st",
  "8498": "NE Columbia Blvd &amp; 24th",
  "8508": "NE Columbia Blvd &amp; 29th",
  "8513": "NE 11th &amp; Holladay",
  "8854": "2500 Block NE Riverside Way",
  "8883": "NE 21st &amp; Riverside Way",
  "9339": "NE 33rd Dr &amp; Sunderland",
  "9365": "NE 33rd Dr &amp; Elrod Dr",
  "9367": "9600 Block NE Sunderland",
  "9368": "NE Sunderland &amp; Columbia River Corr Inst",
  "9550": "2800 Block NE Riverside Way",
  "10302": "SE 17th &amp; Spokane",
  "10452": "8400 Block NE 33rd Dr",
  "11171": "NE Sunderland &amp; 33rd Dr",
  "13040": "9400 Block NE Sunderland",
  "13477": "SE Jackson &amp; Main",
  "13792": "SE Powell &amp; 12th",
  "14222": "SE Milwaukie &amp; Rex St",
  "14415": "SE Milwaukie &amp; Lexington",
  "14477": "SE 21st &amp; Powell"
};

const stops = [
  { stop_id: "13477", name: "SE Jackson &amp; Main", lat: 45.444786, lon: -122.640713, times: ["6:27 PM", "6:57 PM", "7:27 PM"] },
  { stop_id: "8225", name: "SE Jackson &amp; 21st", lat: 45.444827, lon: -122.640491, times: ["6:27 PM", "6:57 PM", "7:27 PM"] },
  { stop_id: "6871", name: "SE 17th &amp; Lava", lat: 45.447957, lon: -122.643463, times: ["6:28 PM", "6:58 PM", "7:28 PM"] },
  { stop_id: "6901", name: "SE 17th &amp; Waverly", lat: 45.452991, lon: -122.645928, times: ["6:30 PM", "7:00 PM", "7:30 PM"] },
  { stop_id: "6885", name: "SE 17th &amp; Ochoco St", lat: 45.458401, lon: -122.64677, times: ["6:31 PM", "7:01 PM", "7:31 PM"] },
  { stop_id: "6853", name: "SE 17th &amp; Marion", lat: 45.459985, lon: -122.646965, times: ["6:32 PM", "7:02 PM", "7:32 PM"] },
  { stop_id: "6860", name: "SE 17th &amp; Harney", lat: 45.462095, lon: -122.646967, times: ["6:33 PM", "7:03 PM", "7:33 PM"] },
  { stop_id: "6897", name: "SE 17th &amp; Tenino", lat: 45.463467, lon: -122.646963, times: ["6:33 PM", "7:03 PM", "7:33 PM"] },
  { stop_id: "10302", name: "SE 17th &amp; Spokane", lat: 45.464947, lon: -122.646937, times: ["6:34 PM", "7:04 PM", "7:34 PM"] },
  { stop_id: "14415", name: "SE Milwaukie &amp; Lexington", lat: 45.467404, lon: -122.647879, times: ["6:34 PM", "7:04 PM", "7:34 PM"] },
  { stop_id: "14222", name: "SE Milwaukie &amp; Rex St", lat: 45.470325, lon: -122.648244, times: ["6:35 PM", "7:05 PM", "7:35 PM"] },
  { stop_id: "3912", name: "SE Milwaukie &amp; Claybourne", lat: 45.47544, lon: -122.648873, times: ["6:37 PM", "7:07 PM", "7:37 PM"] },
  { stop_id: "3947", name: "SE Milwaukie &amp; Tolman", lat: 45.477059, lon: -122.649063, times: ["6:37 PM", "7:07 PM", "7:37 PM"] },
  { stop_id: "3940", name: "SE Milwaukie &amp; Ramona", lat: 45.480763, lon: -122.649477, times: ["6:38 PM", "7:08 PM", "7:38 PM"] },
  { stop_id: "3922", name: "SE Milwaukie &amp; Insley", lat: 45.484167, lon: -122.649513, times: ["6:39 PM", "7:09 PM", "7:39 PM"] },
  { stop_id: "3933", name: "SE Milwaukie &amp; Mitchell", lat: 45.486102, lon: -122.649833, times: ["6:40 PM", "7:10 PM", "7:40 PM"] },
  { stop_id: "3929", name: "SE Milwaukie &amp; Long", lat: 45.488855, lon: -122.650702, times: ["6:11 PM", "6:41 PM", "7:11 PM"] },
  { stop_id: "3932", name: "SE Milwaukie &amp; Mall", lat: 45.491215, lon: -122.651461, times: ["6:11 PM", "6:41 PM", "7:11 PM"] },
  { stop_id: "3908", name: "SE Milwaukie &amp; Center", lat: 45.494515, lon: -122.652879, times: ["6:12 PM", "6:42 PM", "7:12 PM"] },
  { stop_id: "3917", name: "SE Milwaukie &amp; Haig", lat: 45.498128, lon: -122.653948, times: ["6:13 PM", "6:43 PM", "7:13 PM"] },
  { stop_id: "13792", name: "SE Powell &amp; 12th", lat: 45.500809, lon: -122.653283, times: ["6:15 PM", "6:45 PM", "7:15 PM"] },
  { stop_id: "14477", name: "SE 21st &amp; Powell", lat: 45.499727, lon: -122.644556, times: ["6:17 PM", "6:47 PM", "7:17 PM"] },
  { stop_id: "3301", name: "SE Ladd &amp; Division", lat: 45.505364, lon: -122.645603, times: ["6:20 PM", "6:50 PM", "7:20 PM"] },
  { stop_id: "3307", name: "SE Ladd &amp; Lavender", lat: 45.506795, lon: -122.647262, times: ["6:21 PM", "6:51 PM", "7:21 PM"] },
  { stop_id: "3305", name: "SE Ladd &amp; Ladd Circle", lat: 45.508203, lon: -122.648856, times: ["6:22 PM", "6:52 PM", "7:22 PM"] },
  { stop_id: "3310", name: "SE Ladd &amp; Palm", lat: 45.510199, lon: -122.651165, times: ["6:23 PM", "6:53 PM", "7:23 PM"] },
  { stop_id: "3303", name: "SE Ladd &amp; Hawthorne", lat: 45.511989, lon: -122.653307, times: ["6:24 PM", "6:54 PM", "7:24 PM"] },
  { stop_id: "6585", name: "SE 12th &amp; Madison", lat: 45.513115, lon: -122.653625, times: ["6:25 PM", "6:55 PM", "7:25 PM"] },
  { stop_id: "6588", name: "SE 12th &amp; Morrison", lat: 45.517059, lon: -122.65358, times: ["6:26 PM", "6:56 PM", "7:26 PM"] },
  { stop_id: "6594", name: "SE 12th &amp; Stark", lat: 45.519229, lon: -122.653546, times: ["6:28 PM", "6:58 PM", "7:28 PM"] },
  { stop_id: "6589", name: "SE 12th &amp; Pine", lat: 45.520632, lon: -122.65356, times: ["6:28 PM", "6:58 PM", "7:28 PM"] },
  { stop_id: "6592", name: "NE 12th &amp; E Burnside", lat: 45.523192, lon: -122.653486, times: ["6:30 PM", "7:00 PM", "7:30 PM"] },
  { stop_id: "6582", name: "NE 12th &amp; Irving", lat: 45.527449, lon: -122.653462, times: ["6:12 PM", "6:31 PM", "7:01 PM"] },
  { stop_id: "8513", name: "NE 11th &amp; Holladay", lat: 45.529894, lon: -122.65446, times: ["6:14 PM", "6:33 PM", "7:03 PM"] },
  { stop_id: "4047", name: "NE Multnomah &amp; 13th", lat: 45.531331, lon: -122.652112, times: ["6:15 PM", "6:34 PM", "7:04 PM"] },
  { stop_id: "4048", name: "NE Multnomah &amp; 16th", lat: 45.531377, lon: -122.649739, times: ["6:16 PM", "6:35 PM", "7:05 PM"] },
  { stop_id: "4050", name: "NE Multnomah &amp; 19th", lat: 45.531365, lon: -122.646822, times: ["6:17 PM", "6:35 PM", "7:05 PM"] },
  { stop_id: "7107", name: "NE 21st &amp; Clackamas", lat: 45.532708, lon: -122.644761, times: ["6:18 PM", "6:36 PM", "7:06 PM"] },
  { stop_id: "7138", name: "NE 21st &amp; Weidler", lat: 45.534197, lon: -122.644735, times: ["6:18 PM", "6:37 PM", "7:07 PM"] },
  { stop_id: "6237", name: "NE Weidler &amp; 22nd", lat: 45.53425, lon: -122.64315, times: ["6:19 PM", "6:37 PM", "7:07 PM"] },
  { stop_id: "6239", name: "NE Weidler &amp; 24th", lat: 45.534253, lon: -122.641287, times: ["6:20 PM", "6:38 PM", "7:08 PM"] },
  { stop_id: "636", name: "NE Broadway &amp; 26th", lat: 45.535076, lon: -122.638753, times: ["6:21 PM", "6:39 PM", "7:09 PM"] },
  { stop_id: "638", name: "NE Broadway &amp; 28th", lat: 45.535069, lon: -122.63638, times: ["6:21 PM", "6:40 PM", "7:10 PM"] },
  { stop_id: "642", name: "NE Broadway &amp; 32nd", lat: 45.53508, lon: -122.632699, times: ["6:23 PM", "6:41 PM", "7:11 PM"] },
  { stop_id: "7392", name: "NE 33rd &amp; Schuyler", lat: 45.535699, lon: -122.630553, times: ["6:24 PM", "6:42 PM", "7:12 PM"] },
  { stop_id: "7402", name: "NE 33rd &amp; US Grant Pl", lat: 45.538173, lon: -122.630596, times: ["6:24 PM", "6:42 PM", "7:12 PM"] },
  { stop_id: "7365", name: "NE 33rd &amp; Brazee", lat: 45.539931, lon: -122.630606, times: ["6:25 PM", "6:43 PM", "7:13 PM"] },
  { stop_id: "7385", name: "NE 33rd &amp; Knott", lat: 45.542332, lon: -122.630608, times: ["6:26 PM", "6:44 PM", "7:14 PM"] },
  { stop_id: "7399", name: "NE 33rd &amp; Stanton", lat: 45.54378, lon: -122.630603, times: ["6:26 PM", "6:44 PM", "7:14 PM"] },
  { stop_id: "7395", name: "NE 33rd &amp; Siskiyou", lat: 45.545911, lon: -122.630606, times: ["6:27 PM", "6:45 PM", "7:15 PM"] },
  { stop_id: "7373", name: "NE 33rd &amp; Alameda", lat: 45.548816, lon: -122.630615, times: ["6:28 PM", "6:46 PM", "7:16 PM"] },
  { stop_id: "7393", name: "NE 33rd &amp; Shaver", lat: 45.55169, lon: -122.630615, times: ["6:29 PM", "6:46 PM", "7:16 PM"] },
  { stop_id: "7398", name: "NE 33rd &amp; Skidmore", lat: 45.553844, lon: -122.6306, times: ["6:10 PM", "6:29 PM", "6:47 PM"] },
  { stop_id: "7390", name: "NE 33rd &amp; Prescott", lat: 45.555075, lon: -122.630592, times: ["6:11 PM", "6:30 PM", "6:47 PM"] },
  { stop_id: "7364", name: "NE 33rd &amp; Alberta Ct", lat: 45.5582, lon: -122.630588, times: ["6:12 PM", "6:31 PM", "6:48 PM"] },
  { stop_id: "7404", name: "NE 33rd &amp; Webster", lat: 45.559709, lon: -122.63059, times: ["6:12 PM", "6:31 PM", "6:49 PM"] },
  { stop_id: "7371", name: "NE 33rd &amp; Emerson", lat: 45.561419, lon: -122.630587, times: ["6:13 PM", "6:32 PM", "6:49 PM"] },
  { stop_id: "7383", name: "NE 33rd &amp; Killingsworth", lat: 45.562596, lon: -122.630582, times: ["6:14 PM", "6:33 PM", "6:50 PM"] },
  { stop_id: "7380", name: "NE 33rd &amp; Jarrett", lat: 45.564568, lon: -122.630583, times: ["6:14 PM", "6:33 PM", "6:50 PM"] },
  { stop_id: "7362", name: "NE 33rd &amp; Ainsworth", lat: 45.566212, lon: -122.630571, times: ["6:14 PM", "6:33 PM", "6:50 PM"] },
  { stop_id: "7378", name: "NE 33rd &amp; Holman", lat: 45.568167, lon: -122.630569, times: ["6:15 PM", "6:34 PM", "6:51 PM"] },
  { stop_id: "7389", name: "NE 33rd &amp; Rosa Parks Way", lat: 45.569864, lon: -122.630563, times: ["6:15 PM", "6:34 PM", "6:51 PM"] },
  { stop_id: "7369", name: "NE 33rd &amp; Dekum", lat: 45.571753, lon: -122.630535, times: ["6:16 PM", "6:35 PM", "6:52 PM"] },
  { stop_id: "8508", name: "NE Columbia Blvd &amp; 29th", lat: 45.57497, lon: -122.63632, times: ["6:17 PM", "6:36 PM", "6:53 PM"] },
  { stop_id: "1115", name: "NE Columbia Blvd &amp; 27th", lat: 45.575371, lon: -122.638302, times: ["6:18 PM", "6:37 PM", "6:54 PM"] },
  { stop_id: "8498", name: "NE Columbia Blvd &amp; 24th", lat: 45.576139, lon: -122.641676, times: ["6:18 PM", "6:37 PM", "6:54 PM"] },
  { stop_id: "8303", name: "7500 Block NE 21st", lat: 45.577178, lon: -122.643853, times: ["6:19 PM", "6:38 PM", "6:55 PM"] },
  { stop_id: "7105", name: "NE 21st &amp; Argyle", lat: 45.579251, lon: -122.643832, times: ["6:20 PM", "6:39 PM", "6:56 PM"] },
  { stop_id: "8883", name: "NE 21st &amp; Riverside Way", lat: 45.5814, lon: -122.643806, times: ["6:20 PM", "6:39 PM", "6:56 PM"] },
  { stop_id: "8854", name: "2500 Block NE Riverside Way", lat: 45.580798, lon: -122.63961, times: ["6:21 PM", "6:40 PM", "6:57 PM"] },
  { stop_id: "9550", name: "2800 Block NE Riverside Way", lat: 45.579999, lon: -122.636001, times: ["6:22 PM", "6:41 PM", "6:58 PM"] },
  { stop_id: "4912", name: "N Riverside Way &amp; 33rd Dr", lat: 45.580006, lon: -122.633663, times: ["6:22 PM", "6:41 PM", "6:58 PM"] },
  { stop_id: "9365", name: "NE 33rd Dr &amp; Elrod Dr", lat: 45.581409, lon: -122.633106, times: ["6:22 PM", "6:41 PM", "6:58 PM"] },
  { stop_id: "10452", name: "8400 Block NE 33rd Dr", lat: 45.583567, lon: -122.632794, times: ["6:23 PM", "6:42 PM", "6:59 PM"] },
  { stop_id: "9339", name: "NE 33rd Dr &amp; Sunderland", lat: 45.589587, lon: -122.631995, times: ["6:25 PM", "6:44 PM", "7:01 PM"] },
  { stop_id: "11171", name: "NE Sunderland &amp; 33rd Dr", lat: 45.595007, lon: -122.635862, times: ["6:26 PM", "6:45 PM", "7:02 PM"] },
  { stop_id: "9367", name: "9600 Block NE Sunderland", lat: 45.593179, lon: -122.635854, times: ["6:27 PM", "6:46 PM", "7:03 PM"] },
  { stop_id: "13040", name: "9400 Block NE Sunderland", lat: 45.591283, lon: -122.63585, times: ["6:10 PM", "6:27 PM", "6:46 PM"] },
  { stop_id: "9368", name: "NE Sunderland &amp; Columbia River Corr Inst", lat: 45.589872, lon: -122.635888, times: ["6:11 PM", "6:28 PM", "6:47 PM"] },
]

  const polylineOut = L.polyline(shapeOutbound, {
    color: 'blue',
    weight: 4,
    opacity: 0.7
  }).addTo(map);

  map.fitBounds(polylineOut.getBounds());

  stops.forEach(stop => {
    const marker = L.circleMarker([stop.lat, stop.lon], {
      radius: 6,
      color: '#4dd0e1',
      fillColor: '#4dd0e1',
      fillOpacity: 0.9,
      weight: 1
    });

    const popupContent = `
      <strong>${stop.name}</strong><br>
      ${stop.times && stop.times.length ? stop.times.slice(0, 3).join("<br>") : "No scheduled times"}
    `;

    marker.bindPopup(popupContent);
    marker.addTo(map);
  });

  let busMarkers = {};

  async function fetchAndDisplay() {
    const res = await fetch(`https://developer.trimet.org/ws/v2/vehicles?route=${routeNumber}&appID=${apiKey}&json=true`);
    const data = await res.json();
    const buses = (data.resultSet.vehicle || []).filter(v =>
      v.routeNumber == routeNumber && v.direction == direction
    );

    Object.values(busMarkers).forEach(m => map.removeLayer(m));
    busMarkers = {};

    if (buses.length === 0) return;

    buses.forEach(bus => {
      if (!bus.latitude || !bus.longitude || !bus.blockID) return;

      const icon = L.divIcon({
        className: '',
        html: `
          <div style="text-align:center;">
            <div style="background:#0071CE;color:#fff;padding:2px 6px;border-radius:6px;font-weight:bold;">${bus.vehicleID}</div>
            <div style="width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:10px solid #00bfff;margin:auto;"></div>
          </div>
        `,
        iconSize: [40, 30],
        iconAnchor: [20, 30]
      });

      const marker = L.marker([bus.latitude, bus.longitude], { icon }).addTo(map);
      busMarkers[bus.vehicleID] = marker;
    });
  }

  fetchAndDisplay();
  setInterval(fetchAndDisplay, 15000);
  </script>

<footer class="site-footer">
  <a href="terms.html">Terms of Use</a> &nbsp;|&nbsp;
  <a href="contact.html">Contact Us</a> &nbsp;|&nbsp;
  <a href="report.html">Report a Problem</a> &nbsp;|&nbsp;
  <a href="privacy.html">Privacy Policy</a>
</footer>

<script>
  if (!localStorage.getItem('cookieConsent')) {
    document.write(`
      <div id="cookie-banner" style="position: fixed; bottom: 0; left: 0; right: 0; background: #333; color: #fff; padding: 1rem; z-index: 1000; font-size: 0.9rem; line-height: 1.4; text-align: center; box-sizing: border-box;">
        📢 We use cookies to improve functionality and analyze traffic.
        By using MetroFeed, you agree to our 
        <a href='privacy.html' style='color: #4dd0e1; text-decoration: underline;'>Privacy Policy</a>.<br>
        <button onclick='localStorage.setItem("cookieConsent", "true"); document.getElementById("cookie-banner").remove();' style='margin-top: 0.5rem; background: #4dd0e1; color: #000; border: none; padding: 0.5rem 1rem; border-radius: 5px; cursor: pointer; font-weight: bold;'>OK</button>
      </div>
    `);
  }
</script>

</body>
</html>