<!DOCTYPE html>
<html lang="en">
<head>
<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-EL337T4JX4"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'G-EL337T4JX4');
</script>

<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>Route 77 - To Troutdale Frontage Rd or TRIP | MetroFeed Portland</title>
<link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
<script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
<style>
  html, body {
    margin: 0;
    padding: 0;
    font-family: 'Segoe UI', sans-serif;
    background-color: #0d0d0d;
    color: #cccccc;
    overflow-y: auto;
  }

  .back-button-fixed {
    position: fixed;
    top: 20px;
    left: 20px;
    width: 45px;
    height: 45px;
    background-color: #4dd0e1;
    border: 2px solid #000;
    border-radius: 10px;
    display: flex;
    align-items: center;
    justify-content: center;
    z-index: 1001;
    box-shadow: 0 0 10px #4dd0e1;
    cursor: pointer;
    transition: background 0.2s;
    outline: none;
  }
  .back-button-fixed:active, .back-button-fixed:focus {
    background-color: #1976d2;
  }
  .back-button-fixed svg {
    width: 24px;
    height: 24px;
    fill: #000;
    display: block;
  }
  .back-button-fixed:active svg,
  .back-button-fixed:focus svg {
    fill: #fff;
  }

  header {
    background-color: #0d0d0d;
    border-top: 4px solid #4dd0e1;
    border-bottom: 3px solid #4dd0e1;
    padding: 1rem;
    text-align: center;
  }

  header img {
    max-height: 60px;
  }

  h1#route-title {
    text-align: center;
    margin: 1rem 0;
    font-size: 2rem;
    color: #f0f0f0;
  }

  .content-box {
    border-radius: 12px;
    padding: 0;
    margin: 0;
    background-color: #1e1e1e;
  }

  #map {
    width: 100%;
    height: 85vh;
    border: none;
    margin: 0 auto;
    display: block;
    border-radius: 8px;
  }

  .button-bar {
    display: flex;
    justify-content: center;
    margin: 1rem 0;
  }

  .button-bar a, .back-button {
    background: #4dd0e1;
    color: #0d0d0d;
    padding: 0.6rem 1.2rem;
    text-decoration: none;
    border-radius: 8px;
    font-weight: bold;
    border: none;
    cursor: pointer;
    box-shadow: 0 0 10px #4dd0e1;
  }

  .back-button:hover {
    background-color: #35c0d6;
  }

  .site-footer {
    text-align: center;
    margin-top: 3rem;
    margin-bottom: 120px;
    font-size: 0.85rem;
    color: #aaa;
  }

  .site-footer a {
    color: #00BFFF;
    text-decoration: none;
  }

  .site-footer a:hover {
    text-decoration: underline;
  }

.favorite-save-box {
  position: absolute;
  top: 20px;
  right: 20px;
  display: flex;
  flex-direction: column;
  align-items: center;
  z-index: 1010;
}

.favorite-star {
  background: #4dd0e1;
  color: #FFD700;
  font-size: 2.5rem;
  border: 2px solid #222;
  border-radius: 10px;
  width: 56px;
  height: 56px;
  cursor: pointer;
  box-shadow: 0 0 8px #4dd0e1;
  transition: background 0.18s, color 0.18s;
  display: flex;
  align-items: center;
  justify-content: center;
  outline: none;
  margin-bottom: 8px;
}
.favorite-star:active,
.favorite-star:focus {
  background: #1976d2;
  color: #ffea00;
}

.favorite-label {
  color: #4dd0e1;
  font-size: 1.03rem;
  font-weight: bold;
  background: #181818;
  border-radius: 6px;
  padding: 2px 10px;
  text-align: center;
  letter-spacing: 0.01em;
  margin-top: 0;
  box-shadow: 0 1px 6px #2224;
}
.fav-dropdown {
  display: none;
  position: absolute;
  top: 65px;
  right: 0;
  z-index: 99999;
  background: #222;
  border: 2px solid #4dd0e1;
  border-radius: 10px;
  padding: 10px 20px;
  text-align: center;
  box-shadow: 0 2px 12px #2224;
}
.fav-dropdown button {
  font-size: 1.1rem;
  padding: 6px 16px;
  background: #4dd0e1;
  color: #222;
  border: none;
  border-radius: 7px;
  cursor: pointer;
  font-weight: bold;
}
.fav-dropdown button:hover, .fav-dropdown button:focus {
  background: #fff;
  color: #0071ce;
  outline: none;
}
</style>
</head>
<body>
  
  <header>
    <img src="MetroFeedPortlandLogo.png" alt="MetroFeed Portland">
  </header>

<!-- Favorite Route Button (Top Right) with Dropdown -->
<div class="favorite-save-box">
  <button class="favorite-star" id="fav-star" aria-label="Save route to favorites" onclick="showFavDropdown(event)">☆</button>
  <div class="favorite-label">Save to Favorites</div>
  <div class="fav-dropdown" id="fav-dropdown">
    <button id="fav-dropdown-btn">Add to Favorites</button>
  </div>
</div>

  <!-- Beta Disclaimers -->
  <div class="disclaimer" style="margin: 1rem auto 0.5rem; max-width: 600px; font-size: 0.8rem; color: #bbb; text-align: center; padding: 0.5rem 1rem; background-color: #111; border: 1px dashed #444; border-radius: 6px;">
    ⚠️ This is a Beta program, work in progress. Please REPORT bugs and pretend to be impressed.
  </div>
  <div class="disclaimer" style="margin: 0 auto 1rem; max-width: 600px; font-size: 0.75rem; color: #888; text-align: center; padding: 0.25rem 1rem;">
    This tool is not affiliated with or endorsed by TriMet. For official schedules and service alerts, visit <a href="https://trimet.org" style="color:#4dd0e1;">trimet.org</a>.
  </div>

  <!-- Back button -->
  <button class="back-button-fixed" onclick="history.back()" aria-label="Go back">
    <svg viewBox="0 0 24 24">
      <path d="M15.5 19c-.28 0-.53-.11-.71-.29l-6.5-6.5a1.003 1.003 0 010-1.42l6.5-6.5a1.003 1.003 0 011.42 1.42L10.41 12l6.3 6.29a1.003 1.003 0 01-1.21 1.54z"/>
    </svg>
  </button>

  <h1 id="route-title">Route 77 - To Troutdale Frontage Rd or TRIP</h1>
  <span id="route-type" style="display:none;"></span>

  <div class="content-box">
    <div id="map"></div>
    <div style="text-align:right; font-size: 0.7rem; color: #777; margin-top: 0.5rem;">
      Data courtesy of TriMet.
    </div>
  </div>

  <script>
    if (document.referrer === "" && performance.navigation.type === 0) {
      window.location.href = "/index.html";
    }

    const apiKey = "2C4447D4A42083BCD84DE3B8E";
    const routeNumber = 77;
    const direction = parseInt(0);

    const map = L.map('map', {
      center: [45.6, -122.7],
      zoom: 12,
      minZoom: 12,
      maxZoom: 18,
      maxBounds: [[45.3, -123.1], [45.9, -122.3]],
      maxBoundsViscosity: 1.0
    });
    L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', { maxZoom: 19 }).addTo(map);

    const shapeOutbound = [
  [45.537505, -122.706559],
  [45.537501, -122.706911],
  [45.537174, -122.706904],
  [45.537041, -122.706901],
  [45.536943, -122.706899],
  [45.536888, -122.706897],
  [45.536778, -122.706893],
  [45.53678, -122.70679],
  [45.536784, -122.706534],
  [45.536786, -122.706458],
  [45.536792, -122.706263],
  [45.536803, -122.705894],
  [45.536806, -122.70575],
  [45.53681, -122.705513],
  [45.536822, -122.704891],
  [45.53683, -122.704496],
  [45.536843, -122.703763],
  [45.536847, -122.703213],
  [45.536849, -122.70299],
  [45.536851, -122.702901],
  [45.536855, -122.702623],
  [45.536864, -122.702046],
  [45.536867, -122.70184],
  [45.536885, -122.700987],
  [45.536888, -122.700869],
  [45.536904, -122.699814],
  [45.536907, -122.699597],
  [45.536913, -122.699215],
  [45.536916, -122.699026],
  [45.536919, -122.698895],
  [45.536755, -122.698887],
  [45.536453, -122.698877],
  [45.535559, -122.698847],
  [45.535498, -122.698838],
  [45.5355, -122.698729],
  [45.535503, -122.698433],
  [45.535505, -122.698352],
  [45.535533, -122.696798],
  [45.535552, -122.695714],
  [45.535568, -122.694975],
  [45.535572, -122.694778],
  [45.534896, -122.694746],
  [45.534877, -122.694746],
  [45.534146, -122.69472],
  [45.533427, -122.694692],
  [45.532817, -122.694671],
  [45.532718, -122.694668],
  [45.5323, -122.694651],
  [45.532007, -122.694639],
  [45.531719, -122.694628],
  [45.531388, -122.694614],
  [45.531357, -122.694613],
  [45.531308, -122.694612],
  [45.531295, -122.694611],
  [45.530579, -122.694585],
  [45.530515, -122.694583],
  [45.53005, -122.694569],
  [45.530022, -122.694568],
  [45.529971, -122.694566],
  [45.529934, -122.694565],
  [45.529867, -122.694562],
  [45.529852, -122.694562],
  [45.529698, -122.694556],
  [45.529672, -122.694555],
  [45.529389, -122.694544],
  [45.529157, -122.694535],
  [45.528444, -122.694507],
  [45.528375, -122.694504],
  [45.527823, -122.694483],
  [45.527728, -122.694479],
  [45.527083, -122.694457],
  [45.527022, -122.694454],
  [45.526953, -122.694451],
  [45.526414, -122.694432],
  [45.526302, -122.694428],
  [45.525863, -122.694412],
  [45.525672, -122.694405],
  [45.525593, -122.694399],
  [45.525529, -122.694395],
  [45.524948, -122.694379],
  [45.524878, -122.694375],
  [45.524882, -122.694172],
  [45.524885, -122.693983],
  [45.524889, -122.693782],
  [45.52489, -122.693745],
  [45.524894, -122.693526],
  [45.524897, -122.693364],
  [45.524917, -122.692348],
  [45.524937, -122.691324],
  [45.524946, -122.690869],
  [45.524953, -122.690503],
  [45.524956, -122.690322],
  [45.524959, -122.690228],
  [45.524962, -122.690066],
  [45.524976, -122.689316],
  [45.524987, -122.688674],
  [45.524994, -122.688292],
  [45.525013, -122.687264],
  [45.525009, -122.687157],
  [45.525016, -122.686818],
  [45.525024, -122.686423],
  [45.525027, -122.686261],
  [45.525042, -122.685417],
  [45.525045, -122.685253],
  [45.525064, -122.684236],
  [45.525082, -122.68322],
  [45.5251, -122.682227],
  [45.5251, -122.6822],
  [45.525106, -122.681895],
  [45.525119, -122.681196],
  [45.525119, -122.681173],
  [45.525125, -122.680835],
  [45.525137, -122.680176],
  [45.525155, -122.679167],
  [45.525166, -122.678543],
  [45.525182, -122.677667],
  [45.525185, -122.677502],
  [45.525203, -122.676534],
  [45.525206, -122.676508],
  [45.525222, -122.675623],
  [45.525224, -122.675507],
  [45.525224, -122.675481],
  [45.525242, -122.674483],
  [45.52526, -122.673462],
  [45.525261, -122.673355],
  [45.525275, -122.672598],
  [45.525275, -122.672572],
  [45.525276, -122.672471],
  [45.525277, -122.672349],
  [45.525287, -122.67187],
  [45.525294, -122.671672],
  [45.525301, -122.671576],
  [45.525314, -122.671457],
  [45.525324, -122.671403],
  [45.525343, -122.671324],
  [45.525365, -122.671238],
  [45.525392, -122.671156],
  [45.525407, -122.671111],
  [45.525427, -122.671063],
  [45.52545, -122.671014],
  [45.525482, -122.670958],
  [45.525515, -122.670909],
  [45.525554, -122.67086],
  [45.525582, -122.670829],
  [45.525619, -122.670794],
  [45.52566, -122.670759],
  [45.525729, -122.67071],
  [45.525774, -122.670689],
  [45.525825, -122.670674],
  [45.525884, -122.670662],
  [45.525945, -122.670655],
  [45.526016, -122.670656],
  [45.52607, -122.670663],
  [45.526291, -122.670722],
  [45.526372, -122.670752],
  [45.526407, -122.670758],
  [45.52645, -122.67076],
  [45.526493, -122.67076],
  [45.526536, -122.670756],
  [45.526604, -122.670734],
  [45.526638, -122.67072],
  [45.526671, -122.670702],
  [45.526716, -122.67067],
  [45.52675, -122.670644],
  [45.526785, -122.67061],
  [45.526829, -122.670557],
  [45.526873, -122.670494],
  [45.526904, -122.670434],
  [45.527335, -122.669479],
  [45.527667, -122.66877],
  [45.527963, -122.668126],
  [45.52806, -122.667916],
  [45.528164, -122.667724],
  [45.52834, -122.667407],
  [45.528488, -122.667091],
  [45.528534, -122.666987],
  [45.528559, -122.666926],
  [45.528585, -122.666845],
  [45.528614, -122.666741],
  [45.528627, -122.666676],
  [45.528639, -122.666585],
  [45.52865, -122.66648],
  [45.528655, -122.666408],
  [45.528657, -122.666372],
  [45.528661, -122.666257],
  [45.528662, -122.666015],
  [45.52866, -122.665857],
  [45.528661, -122.665755],
  [45.528741, -122.665758],
  [45.528992, -122.665759],
  [45.529088, -122.665767],
  [45.529148, -122.66578],
  [45.529192, -122.665794],
  [45.529239, -122.665819],
  [45.529314, -122.665836],
  [45.529388, -122.665864],
  [45.529436, -122.665896],
  [45.529474, -122.665956],
  [45.529722, -122.666465],
  [45.529752, -122.66653],
  [45.529774, -122.666575],
  [45.529782, -122.666594],
  [45.529802, -122.666637],
  [45.529814, -122.666665],
  [45.529851, -122.666749],
  [45.530029, -122.667165],
  [45.530085, -122.667067],
  [45.53015, -122.666966],
  [45.530193, -122.666889],
  [45.530238, -122.666773],
  [45.530266, -122.666704],
  [45.530304, -122.666632],
  [45.530337, -122.666578],
  [45.530361, -122.666551],
  [45.530388, -122.666531],
  [45.530427, -122.666502],
  [45.530525, -122.666448],
  [45.530571, -122.666414],
  [45.530609, -122.666373],
  [45.530662, -122.666303],
  [45.530698, -122.666237],
  [45.530745, -122.666199],
  [45.530771, -122.666114],
  [45.530781, -122.666069],
  [45.530787, -122.666016],
  [45.530788, -122.666007],
  [45.530792, -122.665913],
  [45.530794, -122.665782],
  [45.530796, -122.665669],
  [45.530797, -122.665528],
  [45.530791, -122.664722],
  [45.530789, -122.664629],
  [45.530784, -122.663947],
  [45.530785, -122.663828],
  [45.530794, -122.66372],
  [45.530807, -122.663625],
  [45.53082, -122.66354],
  [45.530844, -122.663438],
  [45.53087, -122.663358],
  [45.530893, -122.663299],
  [45.530916, -122.663245],
  [45.530966, -122.66314],
  [45.531049, -122.662985],
  [45.531094, -122.662897],
  [45.53129, -122.662513],
  [45.531343, -122.662413],
  [45.531416, -122.662269],
  [45.531445, -122.662198],
  [45.53147, -122.662125],
  [45.531483, -122.662072],
  [45.531485, -122.662062],
  [45.531502, -122.661972],
  [45.531509, -122.661879],
  [45.531512, -122.661812],
  [45.531511, -122.661673],
  [45.531509, -122.661551],
  [45.531507, -122.660659],
  [45.531507, -122.660597],
  [45.531506, -122.660179],
  [45.531503, -122.659709],
  [45.531504, -122.659645],
  [45.5315, -122.658734],
  [45.531501, -122.658652],
  [45.531501, -122.658609],
  [45.5315, -122.658493],
  [45.531497, -122.657721],
  [45.531495, -122.656729],
  [45.531493, -122.656597],
  [45.531597, -122.656597],
  [45.532557, -122.656591],
  [45.533493, -122.656585],
  [45.533629, -122.656584],
  [45.533722, -122.656584],
  [45.533959, -122.656582],
  [45.534265, -122.65658],
  [45.534351, -122.65658],
  [45.534351, -122.656302],
  [45.53435, -122.656155],
  [45.53435, -122.656044],
  [45.534348, -122.655697],
  [45.534348, -122.655651],
  [45.534348, -122.655569],
  [45.534347, -122.655484],
  [45.534345, -122.654952],
  [45.534344, -122.654641],
  [45.534343, -122.654302],
  [45.534341, -122.653685],
  [45.534341, -122.653348],
  [45.534339, -122.652839],
  [45.534338, -122.652521],
  [45.534333, -122.651594],
  [45.534334, -122.651505],
  [45.534334, -122.650682],
  [45.534334, -122.650629],
  [45.534333, -122.650506],
  [45.534332, -122.65036],
  [45.53433, -122.649581],
  [45.534322, -122.649472],
  [45.534315, -122.649362],
  [45.534313, -122.649172],
  [45.53431, -122.648681],
  [45.534308, -122.648453],
  [45.534304, -122.646672],
  [45.534315, -122.645619],
  [45.534314, -122.644975],
  [45.534314, -122.644939],
  [45.534311, -122.644837],
  [45.534308, -122.644712],
  [45.534301, -122.643137],
  [45.534301, -122.643005],
  [45.534297, -122.641275],
  [45.534297, -122.641179],
  [45.534481, -122.641177],
  [45.534863, -122.641177],
  [45.534919, -122.641171],
  [45.534966, -122.641164],
  [45.534991, -122.641154],
  [45.535011, -122.641143],
  [45.535027, -122.64113],
  [45.535043, -122.641114],
  [45.535078, -122.641058],
  [45.535096, -122.641025],
  [45.535118, -122.640968],
  [45.535139, -122.640895],
  [45.535153, -122.640813],
  [45.53516, -122.640714],
  [45.535164, -122.640628],
  [45.535167, -122.640537],
  [45.535168, -122.640446],
  [45.535168, -122.640332],
  [45.535168, -122.640119],
  [45.535168, -122.640027],
  [45.535168, -122.639228],
  [45.535167, -122.639124],
  [45.535166, -122.638752],
  [45.535164, -122.638152],
  [45.535165, -122.637845],
  [45.535165, -122.637606],
  [45.535164, -122.636809],
  [45.535164, -122.636716],
  [45.535164, -122.63638],
  [45.535164, -122.635527],
  [45.535121, -122.635382],
  [45.535118, -122.635311],
  [45.535112, -122.635187],
  [45.535112, -122.635039],
  [45.535112, -122.634918],
  [45.535114, -122.634312],
  [45.535159, -122.634123],
  [45.535159, -122.633732],
  [45.535161, -122.633252],
  [45.535161, -122.632699],
  [45.53516, -122.632345],
  [45.53516, -122.631423],
  [45.53516, -122.631264],
  [45.535159, -122.630849],
  [45.535158, -122.630682],
  [45.535156, -122.630562],
  [45.535154, -122.630374],
  [45.535153, -122.630249],
  [45.535152, -122.628403],
  [45.535156, -122.6278],
  [45.535168, -122.626026],
  [45.535167, -122.625778],
  [45.535167, -122.625552],
  [45.535167, -122.625523],
  [45.535166, -122.625121],
  [45.535161, -122.625019],
  [45.535057, -122.625022],
  [45.53486, -122.625023],
  [45.534615, -122.625024],
  [45.534581, -122.625023],
  [45.534438, -122.625026],
  [45.534331, -122.625024],
  [45.534264, -122.625021],
  [45.534215, -122.625016],
  [45.534174, -122.625007],
  [45.534148, -122.624992],
  [45.53413, -122.624971],
  [45.5341, -122.62493],
  [45.534052, -122.624854],
  [45.53399, -122.624729],
  [45.533962, -122.62466],
  [45.53392, -122.624507],
  [45.533909, -122.624466],
  [45.53381, -122.624122],
  [45.533755, -122.623856],
  [45.533747, -122.623811],
  [45.533744, -122.623777],
  [45.533742, -122.623228],
  [45.533742, -122.62312],
  [45.533741, -122.622606],
  [45.533752, -122.621826],
  [45.533793, -122.621732],
  [45.533795, -122.621292],
  [45.533795, -122.621142],
  [45.533795, -122.621029],
  [45.533796, -122.620943],
  [45.533798, -122.62045],
  [45.533799, -122.620308],
  [45.533794, -122.619781],
  [45.533794, -122.619767],
  [45.533793, -122.619652],
  [45.533792, -122.619553],
  [45.53379, -122.619171],
  [45.53379, -122.619096],
  [45.53379, -122.619032],
  [45.533784, -122.618336],
  [45.533782, -122.617853],
  [45.533777, -122.61717],
  [45.533775, -122.616948],
  [45.533769, -122.616146],
  [45.533768, -122.615974],
  [45.53376, -122.614993],
  [45.533758, -122.614725],
  [45.533752, -122.613977],
  [45.533745, -122.612967],
  [45.533743, -122.612698],
  [45.533739, -122.612026],
  [45.533738, -122.611952],
  [45.533733, -122.6113],
  [45.533731, -122.610935],
  [45.533727, -122.610117],
  [45.533726, -122.609917],
  [45.533723, -122.609059],
  [45.533723, -122.608855],
  [45.533722, -122.608699],
  [45.53372, -122.607893],
  [45.533719, -122.607593],
  [45.533717, -122.606878],
  [45.533714, -122.605867],
  [45.533714, -122.605333],
  [45.533713, -122.605079],
  [45.533713, -122.604994],
  [45.533714, -122.604754],
  [45.533713, -122.604648],
  [45.533711, -122.604175],
  [45.53371, -122.60406],
  [45.533709, -122.603702],
  [45.533708, -122.603182],
  [45.533708, -122.603123],
  [45.533707, -122.602656],
  [45.533707, -122.602281],
  [45.533707, -122.602163],
  [45.533706, -122.602022],
  [45.533707, -122.601696],
  [45.533707, -122.601621],
  [45.533706, -122.601197],
  [45.533704, -122.600604],
  [45.533701, -122.60022],
  [45.533697, -122.599558],
  [45.533693, -122.598931],
  [45.53369, -122.598621],
  [45.533682, -122.59768],
  [45.533671, -122.596749],
  [45.533669, -122.596606],
  [45.533664, -122.596165],
  [45.533661, -122.595965],
  [45.533647, -122.594756],
  [45.533645, -122.594334],
  [45.533643, -122.593877],
  [45.533637, -122.592574],
  [45.533637, -122.59236],
  [45.533634, -122.591873],
  [45.533634, -122.591729],
  [45.533623, -122.590841],
  [45.533609, -122.590392],
  [45.5336, -122.590095],
  [45.533597, -122.589826],
  [45.533596, -122.58938],
  [45.533596, -122.589316],
  [45.533594, -122.588734],
  [45.533593, -122.588239],
  [45.533594, -122.587751],
  [45.533595, -122.58722],
  [45.533596, -122.587044],
  [45.533596, -122.586785],
  [45.533598, -122.586207],
  [45.533598, -122.585802],
  [45.533599, -122.585194],
  [45.5336, -122.584941],
  [45.5336, -122.584829],
  [45.533601, -122.584182],
  [45.533602, -122.583912],
  [45.533604, -122.583165],
  [45.533604, -122.58304],
  [45.533604, -122.582941],
  [45.533606, -122.582035],
  [45.533606, -122.58196],
  [45.533607, -122.581708],
  [45.533567, -122.581582],
  [45.533567, -122.580986],
  [45.533569, -122.580439],
  [45.533585, -122.580338],
  [45.533572, -122.580269],
  [45.53356, -122.580234],
  [45.533541, -122.580192],
  [45.533493, -122.580129],
  [45.533445, -122.58008],
  [45.533408, -122.580054],
  [45.53338, -122.58004],
  [45.533341, -122.580025],
  [45.533293, -122.580013],
  [45.53321, -122.580008],
  [45.532876, -122.580016],
  [45.532832, -122.580016],
  [45.532553, -122.580017],
  [45.532516, -122.580013],
  [45.532492, -122.580007],
  [45.532468, -122.579995],
  [45.532445, -122.579952],
  [45.532425, -122.579898],
  [45.532417, -122.57986],
  [45.532414, -122.579813],
  [45.532412, -122.579597],
  [45.532413, -122.579214],
  [45.532413, -122.579174],
  [45.532414, -122.579034],
  [45.532501, -122.579036],
  [45.532764, -122.579036],
  [45.532846, -122.579036],
  [45.532963, -122.579036],
  [45.533025, -122.578964],
  [45.533171, -122.578964],
  [45.533772, -122.578962],
  [45.53382, -122.578962],
  [45.533972, -122.579039],
  [45.533966, -122.578853],
  [45.533964, -122.578775],
  [45.533963, -122.578736],
  [45.533956, -122.578654],
  [45.533949, -122.578609],
  [45.533927, -122.578538],
  [45.533809, -122.578232],
  [45.533717, -122.577994],
  [45.53365, -122.577803],
  [45.533612, -122.577683],
  [45.533607, -122.57766],
  [45.533592, -122.577599],
  [45.533577, -122.577519],
  [45.533566, -122.577393],
  [45.533563, -122.577328],
  [45.533561, -122.577268],
  [45.533552, -122.576687],
  [45.533553, -122.576617],
  [45.533533, -122.576424],
  [45.533529, -122.576086],
  [45.533581, -122.575878],
  [45.533572, -122.575812],
  [45.533566, -122.575727],
  [45.533555, -122.575497],
  [45.533552, -122.575325],
  [45.533569, -122.575213],
  [45.533565, -122.574569],
  [45.533565, -122.574547],
  [45.533525, -122.57258],
  [45.533523, -122.572499],
  [45.53352, -122.572247],
  [45.533518, -122.572042],
  [45.533516, -122.571747],
  [45.533497, -122.570855],
  [45.533485, -122.569779],
  [45.533481, -122.569537],
  [45.533475, -122.569202],
  [45.533472, -122.568814],
  [45.533469, -122.56857],
  [45.533421, -122.568397],
  [45.533415, -122.568155],
  [45.533424, -122.567943],
  [45.53344, -122.567758],
  [45.533461, -122.567594],
  [45.533486, -122.567426],
  [45.533513, -122.567251],
  [45.533544, -122.567074],
  [45.533582, -122.566911],
  [45.533624, -122.566759],
  [45.533677, -122.566576],
  [45.533738, -122.566386],
  [45.533819, -122.566155],
  [45.533882, -122.565962],
  [45.533927, -122.565798],
  [45.533968, -122.56562],
  [45.534, -122.565458],
  [45.534025, -122.565297],
  [45.534046, -122.565138],
  [45.534062, -122.56498],
  [45.53407, -122.564823],
  [45.534074, -122.564653],
  [45.534073, -122.56447],
  [45.534067, -122.564279],
  [45.534057, -122.564091],
  [45.534038, -122.563896],
  [45.534012, -122.563715],
  [45.533973, -122.563517],
  [45.533929, -122.56333],
  [45.533881, -122.563138],
  [45.533757, -122.562701],
  [45.533644, -122.562256],
  [45.533589, -122.562027],
  [45.533559, -122.561882],
  [45.533541, -122.561768],
  [45.533526, -122.561445],
  [45.533521, -122.561371],
  [45.533519, -122.561269],
  [45.533516, -122.561053],
  [45.53349, -122.560927],
  [45.53349, -122.56083],
  [45.533494, -122.560418],
  [45.5335, -122.559974],
  [45.533528, -122.5596],
  [45.533533, -122.559289],
  [45.533535, -122.559063],
  [45.533537, -122.558838],
  [45.533539, -122.558646],
  [45.53354, -122.558547],
  [45.533542, -122.558224],
  [45.533538, -122.558063],
  [45.533535, -122.557891],
  [45.533534, -122.55764],
  [45.533533, -122.557519],
  [45.533533, -122.557444],
  [45.533532, -122.557287],
  [45.53353, -122.556831],
  [45.533528, -122.556527],
  [45.533524, -122.555723],
  [45.533523, -122.555486],
  [45.53352, -122.55501],
  [45.53352, -122.554986],
  [45.533519, -122.554776],
  [45.533518, -122.554577],
  [45.533517, -122.554484],
  [45.533515, -122.553968],
  [45.533514, -122.553781],
  [45.533513, -122.553548],
  [45.533509, -122.552816],
  [45.533508, -122.552577],
  [45.533507, -122.552451],
  [45.533507, -122.552404],
  [45.533504, -122.55181],
  [45.533503, -122.551616],
  [45.533501, -122.551359],
  [45.533499, -122.550895],
  [45.533498, -122.550712],
  [45.533496, -122.550375],
  [45.533496, -122.550284],
  [45.533493, -122.549656],
  [45.533492, -122.549514],
  [45.533491, -122.549319],
  [45.53349, -122.549074],
  [45.53349, -122.548853],
  [45.53349, -122.548649],
  [45.533491, -122.548409],
  [45.533491, -122.548013],
  [45.533491, -122.547913],
  [45.533492, -122.547467],
  [45.533493, -122.547099],
  [45.533492, -122.546735],
  [45.533485, -122.546544],
  [45.533474, -122.546315],
  [45.533459, -122.546019],
  [45.533454, -122.545827],
  [45.533454, -122.545767],
  [45.533456, -122.545317],
  [45.533459, -122.545018],
  [45.533463, -122.544701],
  [45.533463, -122.544672],
  [45.533506, -122.544564],
  [45.53351, -122.544119],
  [45.533517, -122.543307],
  [45.533525, -122.542652],
  [45.533529, -122.542059],
  [45.533534, -122.541426],
  [45.533541, -122.540791],
  [45.533546, -122.540225],
  [45.533554, -122.539341],
  [45.533555, -122.539138],
  [45.533558, -122.538819],
  [45.53356, -122.538594],
  [45.533562, -122.538451],
  [45.533563, -122.538295],
  [45.533566, -122.537982],
  [45.533568, -122.537654],
  [45.53357, -122.537485],
  [45.533567, -122.537084],
  [45.533567, -122.537042],
  [45.533566, -122.536898],
  [45.533563, -122.536607],
  [45.533558, -122.535907],
  [45.533554, -122.535158],
  [45.533552, -122.534692],
  [45.53355, -122.534338],
  [45.533548, -122.533795],
  [45.533544, -122.533192],
  [45.53354, -122.532439],
  [45.533538, -122.532138],
  [45.533536, -122.531668],
  [45.533533, -122.531164],
  [45.53353, -122.530729],
  [45.533522, -122.529336],
  [45.533517, -122.528565],
  [45.533513, -122.527887],
  [45.533509, -122.527401],
  [45.533509, -122.52732],
  [45.533509, -122.527219],
  [45.53351, -122.527131],
  [45.53352, -122.526602],
  [45.533533, -122.52595],
  [45.533537, -122.525791],
  [45.533547, -122.525351],
  [45.533562, -122.524514],
  [45.533563, -122.524155],
  [45.533566, -122.523266],
  [45.533575, -122.522628],
  [45.533584, -122.522155],
  [45.533585, -122.52205],
  [45.533598, -122.521313],
  [45.533614, -122.520566],
  [45.533636, -122.519398],
  [45.533638, -122.519318],
  [45.533664, -122.518126],
  [45.533677, -122.517327],
  [45.533684, -122.516921],
  [45.533682, -122.515631],
  [45.533682, -122.515586],
  [45.533679, -122.515058],
  [45.533673, -122.514277],
  [45.533668, -122.512967],
  [45.533664, -122.512411],
  [45.533658, -122.511659],
  [45.533658, -122.511253],
  [45.533656, -122.510526],
  [45.533658, -122.510274],
  [45.533667, -122.509665],
  [45.533675, -122.509201],
  [45.533676, -122.509021],
  [45.533676, -122.508841],
  [45.533673, -122.508386],
  [45.533672, -122.508194],
  [45.533663, -122.506501],
  [45.533664, -122.50601],
  [45.533664, -122.505525],
  [45.533664, -122.505037],
  [45.533663, -122.504737],
  [45.533662, -122.504087],
  [45.533662, -122.503826],
  [45.533662, -122.503712],
  [45.533661, -122.503537],
  [45.533662, -122.502708],
  [45.533663, -122.502463],
  [45.533663, -122.501059],
  [45.533663, -122.500941],
  [45.533662, -122.500447],
  [45.53366, -122.499652],
  [45.533659, -122.499016],
  [45.53366, -122.498631],
  [45.533667, -122.498392],
  [45.533674, -122.498293],
  [45.533681, -122.498192],
  [45.533694, -122.498085],
  [45.533703, -122.498003],
  [45.533725, -122.497881],
  [45.533755, -122.497745],
  [45.533781, -122.497631],
  [45.533823, -122.497473],
  [45.533851, -122.49737],
  [45.53395, -122.497056],
  [45.534025, -122.496822],
  [45.534082, -122.496632],
  [45.534144, -122.4964],
  [45.534199, -122.496164],
  [45.534206, -122.496133],
  [45.534233, -122.496005],
  [45.534258, -122.495833],
  [45.534284, -122.495661],
  [45.534296, -122.495564],
  [45.534309, -122.495429],
  [45.534322, -122.495262],
  [45.534331, -122.49509],
  [45.534333, -122.494931],
  [45.534324, -122.494129],
  [45.534317, -122.493553],
  [45.534307, -122.492611],
  [45.534303, -122.492254],
  [45.534295, -122.49146],
  [45.534294, -122.491359],
  [45.53429, -122.49086],
  [45.534297, -122.490641],
  [45.534309, -122.490425],
  [45.534324, -122.490241],
  [45.534345, -122.490033],
  [45.534363, -122.489912],
  [45.53438, -122.489793],
  [45.534425, -122.489523],
  [45.5345, -122.489133],
  [45.534576, -122.488728],
  [45.534606, -122.488533],
  [45.534637, -122.488326],
  [45.53466, -122.48811],
  [45.534677, -122.487909],
  [45.534686, -122.487713],
  [45.534692, -122.487322],
  [45.534692, -122.487301],
  [45.534692, -122.486881],
  [45.534692, -122.48627],
  [45.534693, -122.485828],
  [45.534693, -122.485747],
  [45.534693, -122.485386],
  [45.534693, -122.485009],
  [45.534694, -122.484226],
  [45.534694, -122.484139],
  [45.534694, -122.483128],
  [45.534694, -122.482589],
  [45.534694, -122.482545],
  [45.534695, -122.481997],
  [45.534696, -122.480964],
  [45.534696, -122.480695],
  [45.534697, -122.480383],
  [45.534696, -122.479308],
  [45.534698, -122.478188],
  [45.534698, -122.47806],
  [45.534699, -122.477272],
  [45.534651, -122.477095],
  [45.534651, -122.476923],
  [45.53464, -122.476744],
  [45.534628, -122.47664],
  [45.534623, -122.476595],
  [45.534596, -122.476432],
  [45.534567, -122.476292],
  [45.534529, -122.476146],
  [45.534483, -122.476002],
  [45.534437, -122.475878],
  [45.534386, -122.475764],
  [45.534379, -122.475635],
  [45.534319, -122.475521],
  [45.534069, -122.475089],
  [45.533958, -122.474899],
  [45.533935, -122.474845],
  [45.533857, -122.474659],
  [45.533817, -122.474554],
  [45.533776, -122.474419],
  [45.533749, -122.474302],
  [45.533719, -122.474166],
  [45.533698, -122.474032],
  [45.533678, -122.473889],
  [45.533671, -122.473754],
  [45.533667, -122.47356],
  [45.533666, -122.472869],
  [45.533665, -122.472425],
  [45.533665, -122.47209],
  [45.533663, -122.47132],
  [45.533659, -122.469163],
  [45.533659, -122.468336],
  [45.533658, -122.467279],
  [45.533659, -122.466379],
  [45.533659, -122.46632],
  [45.533658, -122.466199],
  [45.533653, -122.465501],
  [45.53365, -122.464504],
  [45.533643, -122.462218],
  [45.533641, -122.461746],
  [45.533641, -122.461727],
  [45.533638, -122.461193],
  [45.533638, -122.460946],
  [45.533636, -122.460391],
  [45.533635, -122.459924],
  [45.533631, -122.459219],
  [45.533631, -122.45903],
  [45.533631, -122.459013],
  [45.533631, -122.458473],
  [45.533631, -122.458442],
  [45.53363, -122.458251],
  [45.533625, -122.458089],
  [45.533608, -122.457777],
  [45.533576, -122.457327],
  [45.533571, -122.457261],
  [45.533551, -122.457003],
  [45.533532, -122.456678],
  [45.533527, -122.456528],
  [45.533523, -122.4564],
  [45.533504, -122.45602],
  [45.53348, -122.455564],
  [45.53345, -122.455037],
  [45.533422, -122.454503],
  [45.533413, -122.454221],
  [45.533408, -122.453928],
  [45.533404, -122.45368],
  [45.533402, -122.452988],
  [45.5334, -122.45237],
  [45.533398, -122.451797],
  [45.533395, -122.450983],
  [45.533397, -122.450613],
  [45.533398, -122.450381],
  [45.533404, -122.450108],
  [45.533415, -122.449856],
  [45.533432, -122.44951],
  [45.53344, -122.449355],
  [45.533474, -122.44871],
  [45.533545, -122.447387],
  [45.533586, -122.44661],
  [45.533593, -122.446453],
  [45.5336, -122.446317],
  [45.533609, -122.446125],
  [45.53365, -122.445365],
  [45.533679, -122.444842],
  [45.53372, -122.444107],
  [45.533786, -122.442971],
  [45.533809, -122.442556],
  [45.533824, -122.442403],
  [45.533846, -122.442185],
  [45.533887, -122.441785],
  [45.534001, -122.440801],
  [45.534087, -122.440102],
  [45.534098, -122.44001],
  [45.534111, -122.439901],
  [45.534183, -122.439291],
  [45.534301, -122.438289],
  [45.534329, -122.43801],
  [45.534348, -122.437708],
  [45.534361, -122.437423],
  [45.534365, -122.437162],
  [45.534369, -122.436191],
  [45.53438, -122.435968],
  [45.534405, -122.435777],
  [45.534436, -122.4356],
  [45.534472, -122.435445],
  [45.534523, -122.435271],
  [45.534588, -122.435092],
  [45.534662, -122.43492],
  [45.534804, -122.434587],
  [45.534861, -122.434443],
  [45.534912, -122.4343],
  [45.534963, -122.434134],
  [45.534995, -122.434007],
  [45.53502, -122.433889],
  [45.535039, -122.433769],
  [45.535057, -122.433648],
  [45.53508, -122.4335],
  [45.535119, -122.433203],
  [45.535175, -122.432787],
  [45.535243, -122.43233],
  [45.535305, -122.431913],
  [45.535402, -122.431255],
  [45.535542, -122.430216],
  [45.535633, -122.429541],
  [45.535695, -122.429081],
  [45.535726, -122.428849],
  [45.535853, -122.427914],
  [45.535872, -122.427786],
  [45.535973, -122.427028],
  [45.536054, -122.426433],
  [45.536091, -122.426153],
  [45.536282, -122.424733],
  [45.53633, -122.424375],
  [45.536363, -122.424125],
  [45.536458, -122.423422],
  [45.536503, -122.423091],
  [45.536594, -122.422411],
  [45.536605, -122.422332],
  [45.536663, -122.421904],
  [45.536737, -122.421359],
  [45.536774, -122.421074],
  [45.536808, -122.420729],
  [45.53687, -122.420195],
  [45.536965, -122.419508],
  [45.537033, -122.418997],
  [45.537088, -122.418587],
  [45.537116, -122.418382],
  [45.537144, -122.418173],
  [45.537213, -122.417671],
  [45.537256, -122.417353],
  [45.537354, -122.416603],
  [45.537405, -122.416229],
  [45.53757, -122.415018],
  [45.537806, -122.413255],
  [45.537948, -122.412195],
  [45.53801, -122.411734],
  [45.538025, -122.411632],
  [45.538312, -122.409483],
  [45.538406, -122.408775],
  [45.538516, -122.40797],
  [45.538578, -122.407494],
  [45.538623, -122.407095],
  [45.538656, -122.406791],
  [45.538682, -122.406505],
  [45.538684, -122.406478],
  [45.538703, -122.406243],
  [45.538729, -122.405856],
  [45.538749, -122.405522],
  [45.538768, -122.405115],
  [45.538785, -122.404751],
  [45.538838, -122.403607],
  [45.538941, -122.401198],
  [45.538947, -122.401073],
  [45.538973, -122.400446],
  [45.538987, -122.400129],
  [45.538992, -122.400001],
  [45.539019, -122.399308],
  [45.539057, -122.398443],
  [45.539077, -122.397984],
  [45.539098, -122.397477],
  [45.539119, -122.396969],
  [45.539123, -122.396883],
  [45.539142, -122.396432],
  [45.539161, -122.396022],
  [45.539162, -122.395983],
  [45.539175, -122.395651],
  [45.539194, -122.395396],
  [45.539218, -122.395148],
  [45.539252, -122.394918],
  [45.539301, -122.394653],
  [45.539342, -122.394485],
  [45.539389, -122.3943],
  [45.539448, -122.394108],
  [45.539513, -122.393931],
  [45.539594, -122.393761],
  [45.539674, -122.393601],
  [45.539836, -122.393304],
  [45.539884, -122.393219],
  [45.539988, -122.39304],
  [45.540083, -122.39289],
  [45.540194, -122.392732],
  [45.540332, -122.392557],
  [45.540492, -122.392379],
  [45.540621, -122.392246],
  [45.5407, -122.392165],
  [45.540731, -122.392103],
  [45.540748, -122.392055],
  [45.540761, -122.392003],
  [45.540766, -122.391919],
  [45.540764, -122.391252],
  [45.540761, -122.390788],
  [45.540761, -122.390588],
  [45.540874, -122.390587],
  [45.541061, -122.390584],
  [45.541239, -122.390582],
  [45.541638, -122.390578],
  [45.543138, -122.390537],
  [45.543257, -122.390542],
  [45.543482, -122.390545],
  [45.543543, -122.390545],
  [45.543813, -122.390545],
  [45.543961, -122.390486],
  [45.544171, -122.390503],
  [45.544326, -122.390525],
  [45.544413, -122.390549],
  [45.54455, -122.390599],
  [45.544617, -122.390629],
  [45.544768, -122.390717],
  [45.545167, -122.390985],
  [45.545288, -122.391066],
  [45.545462, -122.391175],
  [45.545575, -122.391256],
  [45.545633, -122.391324],
  [45.545666, -122.391383],
  [45.545693, -122.391449],
  [45.545714, -122.391546],
  [45.545729, -122.391666],
  [45.545738, -122.391884],
  [45.54551, -122.393869],
  [45.54547, -122.394266],
  [45.54543, -122.394728],
  [45.54541, -122.395062],
  [45.545396, -122.395355],
  [45.545389, -122.395648],
  [45.545385, -122.395899],
  [45.54539, -122.396305],
  [45.545394, -122.396522],
  [45.545413, -122.397469],
  [45.545441, -122.399162],
  [45.545438, -122.399644],
  [45.545426, -122.39977],
  [45.545413, -122.399908],
  [45.545391, -122.400058],
  [45.545311, -122.400491],
  [45.545299, -122.400566],
  [45.545087, -122.400505],
  [45.544155, -122.400399],
  [45.544196, -122.400086],
  [45.544247, -122.399686],
  [45.544314, -122.399147],
  [45.544332, -122.398967],
  [45.544355, -122.398697],
  [45.544386, -122.398215],
  [45.544388, -122.398173],
  [45.544404, -122.397861],
  [45.544428, -122.397375],
  [45.544495, -122.396188],
  [45.544547, -122.395252],
  [45.544557, -122.394769],
  [45.544528, -122.393811],
  [45.544511, -122.393388]
];

const stopNames = {
  "636": "NE Broadway &amp; 26th",
  "638": "NE Broadway &amp; 28th",
  "642": "NE Broadway &amp; 32nd",
  "646": "NE Broadway &amp; 35th",
  "648": "NE Broadway &amp; 37th",
  "1606": "NW Everett &amp; Broadway",
  "1607": "NW Everett &amp; 11th",
  "1608": "NW Everett &amp; 14th",
  "1611": "NW Everett &amp; 19th",
  "1612": "NW Everett &amp; 2nd",
  "1615": "NW Everett &amp; 21st",
  "2320": "NE Halsey &amp; 148th",
  "2322": "NE Halsey &amp; 176th",
  "2327": "NE Halsey &amp; Market Dr",
  "2330": "23300 Block NE Halsey",
  "2339": "2100 Block SW Halsey (Edgefield Manor)",
  "2341": "NE Halsey &amp; Fairview/223rd",
  "2345": "SW Halsey &amp; Halsey Loop",
  "2353": "NE Halsey &amp; Wasco",
  "2358": "NE Halsey &amp; 111th",
  "2360": "NE Halsey &amp; 114th",
  "2366": "NE Halsey &amp; 122nd",
  "2370": "NE Halsey &amp; 128th",
  "2374": "NE Halsey &amp; 131st Pl",
  "2380": "NE Halsey &amp; 140th",
  "2383": "NE Halsey &amp; 143rd",
  "2389": "NE Halsey &amp; 155th",
  "2393": "NE Halsey &amp; 160th",
  "2396": "NE Halsey &amp; 162nd",
  "2397": "NE Halsey &amp; 168th Pl",
  "2400": "NE Halsey &amp; 172nd",
  "2401": "NE Halsey &amp; 181st",
  "2405": "NE Halsey &amp; 186th",
  "2408": "NE Halsey &amp; 192nd",
  "2409": "NE Halsey &amp; 195th",
  "2410": "NE Halsey &amp; 201st",
  "2415": "NE Halsey &amp; Fairview Parkway",
  "2416": "NE Halsey &amp; 227th",
  "2418": "NE Halsey &amp; 230th Ct",
  "2421": "NE Halsey &amp; 238th",
  "2422": "NE Halsey &amp; 244th",
  "2426": "NE Halsey &amp; 50th",
  "2429": "NE Halsey &amp; 53rd",
  "2434": "NE Halsey &amp; 58th",
  "2436": "NE Halsey &amp; Village St",
  "2439": "NE Halsey &amp; 60th",
  "2442": "NE Halsey &amp; 66th",
  "2446": "NE Halsey &amp; 69th",
  "2448": "NE Halsey &amp; 72nd",
  "2450": "NE Halsey &amp; 74th",
  "2452": "NE Halsey &amp; 76th",
  "2454": "NE Halsey &amp; 78th",
  "2456": "NE Halsey &amp; 86th",
  "2458": "NE Halsey &amp; 88th",
  "2460": "NE Halsey &amp; 92nd",
  "4042": "NE Multnomah &amp; Grand",
  "4787": "NW Thurman &amp; 21st",
  "6013": "NW Vaughn &amp; 24th",
  "6216": "NE Weidler &amp; Lloyd Center",
  "6227": "NE Weidler &amp; 17th",
  "6235": "NE Weidler &amp; 21st",
  "6237": "NE Weidler &amp; 22nd",
  "6239": "NE Weidler &amp; 24th",
  "7112": "NW 21st &amp; Glisan",
  "7114": "NW 21st &amp; Irving",
  "7121": "NW 21st &amp; Lovejoy",
  "7127": "NW 21st &amp; Northrup",
  "7999": "NE 82nd &amp; 82nd Ave MAX Stn/I-84",
  "8886": "NW Everett &amp; 5th",
  "9217": "NE Wasco &amp; 82nd",
  "9362": "NE Multnomah &amp; 3rd",
  "9470": "NW Graham/257th &amp; 257th Way",
  "9472": "900 Block NW North Frontage Rd",
  "9473": "NW Frontage Rd &amp; Phoenix Dr",
  "9481": "1100 Block NW Frontage Rd",
  "10125": "20700 Block NE Halsey",
  "10425": "NE Weidler &amp; 15th",
  "10598": "SW Halsey &amp; Edgefield Meadows",
  "10747": "NE Halsey &amp; 102nd",
  "10758": "NW Graham/257th &amp; North Frontage Rd",
  "10866": "NE 9th &amp; Halsey",
  "11817": "Rose Quarter Transit Center",
  "13532": "NW Graham/257th &amp; W Columbia River Hwy",
  "13899": "NW 21st &amp; Pettygrove",
  "14032": "NW Thurman &amp; 23rd",
  "14071": "NE Halsey &amp; 106th",
  "14247": "NW Vaughn &amp; 27th",
  "14365": "NW Wilson &amp; 27th",
  "14401": "NE Halsey &amp; 42nd",
  "14402": "NE Halsey &amp; 45th",
  "14424": "NE Halsey &amp; 137th"
};

const stops = [
  { stop_id: "14365", name: "NW Wilson &amp; 27th", lat: 45.537551, lon: -122.706558, times: ["5:41 AM", "6:39 AM", "7:43 AM", "8:14 AM", "8:49 AM", "9:23 AM", "9:57 AM", "10:35 AM"] },
  { stop_id: "14247", name: "NW Vaughn &amp; 27th", lat: 45.536721, lon: -122.706452, times: ["5:41 AM", "6:39 AM", "7:43 AM", "8:14 AM", "8:49 AM", "9:23 AM", "9:57 AM", "10:35 AM"] },
  { stop_id: "6013", name: "NW Vaughn &amp; 24th", lat: 45.536792, lon: -122.700997, times: ["5:42 AM", "6:40 AM", "7:44 AM", "8:15 AM", "8:50 AM", "9:25 AM", "9:59 AM", "10:37 AM"] },
  { stop_id: "14032", name: "NW Thurman &amp; 23rd", lat: 45.535446, lon: -122.698388, times: ["5:43 AM", "6:41 AM", "7:46 AM", "8:17 AM", "8:52 AM", "9:26 AM", "10:00 AM", "10:38 AM"] },
  { stop_id: "4787", name: "NW Thurman &amp; 21st", lat: 45.535522, lon: -122.694973, times: ["5:44 AM", "6:42 AM", "7:46 AM", "8:17 AM", "8:52 AM", "9:27 AM", "10:01 AM", "10:39 AM"] },
  { stop_id: "13899", name: "NW 21st &amp; Pettygrove", lat: 45.532833, lon: -122.694736, times: ["5:45 AM", "6:43 AM", "7:47 AM", "8:18 AM", "8:53 AM", "9:28 AM", "10:02 AM", "10:40 AM"] },
  { stop_id: "7127", name: "NW 21st &amp; Northrup", lat: 45.531387, lon: -122.69466, times: ["5:45 AM", "6:43 AM", "7:48 AM", "8:19 AM", "8:54 AM", "9:29 AM", "10:03 AM", "10:41 AM"] },
  { stop_id: "7121", name: "NW 21st &amp; Lovejoy", lat: 45.52997, lon: -122.694628, times: ["5:46 AM", "6:44 AM", "7:49 AM", "8:20 AM", "8:55 AM", "9:30 AM", "10:04 AM", "10:42 AM"] },
  { stop_id: "7114", name: "NW 21st &amp; Irving", lat: 45.527818, lon: -122.694539, times: ["5:46 AM", "6:44 AM", "7:49 AM", "8:21 AM", "8:56 AM", "9:31 AM", "10:05 AM", "10:43 AM"] },
  { stop_id: "7112", name: "NW 21st &amp; Glisan", lat: 45.526408, lon: -122.694503, times: ["5:47 AM", "6:45 AM", "7:50 AM", "8:21 AM", "8:56 AM", "9:31 AM", "10:05 AM", "10:43 AM"] },
  { stop_id: "1615", name: "NW Everett &amp; 21st", lat: 45.524833, lon: -122.69398, times: ["5:48 AM", "6:46 AM", "7:51 AM", "8:22 AM", "8:57 AM", "9:32 AM", "10:06 AM", "10:44 AM"] },
  { stop_id: "1611", name: "NW Everett &amp; 19th", lat: 45.5249, lon: -122.690501, times: ["5:49 AM", "6:47 AM", "7:52 AM", "8:23 AM", "8:58 AM", "9:33 AM", "10:07 AM", "10:45 AM"] },
  { stop_id: "1608", name: "NW Everett &amp; 14th", lat: 45.524978, lon: -122.685415, times: ["5:50 AM", "6:48 AM", "7:53 AM", "8:25 AM", "9:00 AM", "9:35 AM", "10:09 AM", "10:47 AM"] },
  { stop_id: "1607", name: "NW Everett &amp; 11th", lat: 45.525051, lon: -122.681893, times: ["5:52 AM", "6:50 AM", "7:55 AM", "8:26 AM", "9:01 AM", "9:36 AM", "10:10 AM", "10:48 AM"] },
  { stop_id: "1606", name: "NW Everett &amp; Broadway", lat: 45.525112, lon: -122.677664, times: ["5:53 AM", "6:51 AM", "7:56 AM", "8:27 AM", "9:02 AM", "9:37 AM", "10:11 AM", "10:50 AM"] },
  { stop_id: "8886", name: "NW Everett &amp; 5th", lat: 45.525182, lon: -122.675622, times: ["5:53 AM", "6:51 AM", "7:56 AM", "8:28 AM", "9:03 AM", "9:38 AM", "10:12 AM", "10:51 AM"] },
  { stop_id: "1612", name: "NW Everett &amp; 2nd", lat: 45.525237, lon: -122.672587, times: ["5:54 AM", "6:52 AM", "7:57 AM", "8:29 AM", "9:04 AM", "9:39 AM", "10:13 AM", "10:52 AM"] },
  { stop_id: "11817", name: "Rose Quarter Transit Center", lat: 45.530712, lon: -122.665999, times: ["5:59 AM", "6:57 AM", "8:02 AM", "8:34 AM", "9:09 AM", "9:44 AM", "10:18 AM", "10:57 AM"] },
  { stop_id: "9362", name: "NE Multnomah &amp; 3rd", lat: 45.531017, lon: -122.662817, times: ["5:59 AM", "6:57 AM", "8:03 AM", "8:35 AM", "9:10 AM", "9:45 AM", "10:19 AM", "10:58 AM"] },
  { stop_id: "4042", name: "NE Multnomah &amp; Grand", lat: 45.531419, lon: -122.660179, times: ["6:00 AM", "6:58 AM", "8:04 AM", "8:36 AM", "9:11 AM", "9:46 AM", "10:20 AM", "10:59 AM"] },
  { stop_id: "10866", name: "NE 9th &amp; Halsey", lat: 45.533492, lon: -122.656463, times: ["6:02 AM", "7:00 AM", "8:06 AM", "8:38 AM", "9:13 AM", "9:48 AM", "10:22 AM", "11:01 AM"] },
  { stop_id: "6216", name: "NE Weidler &amp; Lloyd Center", lat: 45.534276, lon: -122.653686, times: ["6:04 AM", "7:02 AM", "8:08 AM", "8:40 AM", "9:15 AM", "9:50 AM", "10:24 AM", "11:03 AM"] },
  { stop_id: "10425", name: "NE Weidler &amp; 15th", lat: 45.534255, lon: -122.650682, times: ["6:04 AM", "7:02 AM", "8:08 AM", "8:40 AM", "9:15 AM", "9:50 AM", "10:24 AM", "11:03 AM"] },
  { stop_id: "6227", name: "NE Weidler &amp; 17th", lat: 45.534266, lon: -122.648682, times: ["6:05 AM", "7:03 AM", "8:09 AM", "8:41 AM", "9:16 AM", "9:51 AM", "10:25 AM", "11:04 AM"] },
  { stop_id: "6235", name: "NE Weidler &amp; 21st", lat: 45.534252, lon: -122.644976, times: ["6:06 AM", "7:04 AM", "8:10 AM", "8:42 AM", "9:17 AM", "9:52 AM", "10:26 AM", "11:05 AM"] },
  { stop_id: "6237", name: "NE Weidler &amp; 22nd", lat: 45.53425, lon: -122.64315, times: ["6:06 AM", "7:04 AM", "8:10 AM", "8:42 AM", "9:17 AM", "9:52 AM", "10:26 AM", "11:05 AM"] },
  { stop_id: "6239", name: "NE Weidler &amp; 24th", lat: 45.534253, lon: -122.641287, times: ["6:07 AM", "7:05 AM", "8:11 AM", "8:43 AM", "9:18 AM", "9:53 AM", "10:27 AM", "11:06 AM"] },
  { stop_id: "636", name: "NE Broadway &amp; 26th", lat: 45.535076, lon: -122.638753, times: ["6:07 AM", "7:05 AM", "8:11 AM", "8:43 AM", "9:18 AM", "9:53 AM", "10:27 AM", "11:07 AM"] },
  { stop_id: "638", name: "NE Broadway &amp; 28th", lat: 45.535069, lon: -122.63638, times: ["6:08 AM", "7:06 AM", "8:12 AM", "8:44 AM", "9:19 AM", "9:54 AM", "10:28 AM", "11:08 AM"] },
  { stop_id: "642", name: "NE Broadway &amp; 32nd", lat: 45.53508, lon: -122.632699, times: ["6:09 AM", "7:07 AM", "8:13 AM", "8:45 AM", "9:20 AM", "9:55 AM", "10:29 AM", "11:09 AM"] },
  { stop_id: "646", name: "NE Broadway &amp; 35th", lat: 45.535066, lon: -122.627798, times: ["6:10 AM", "7:08 AM", "8:14 AM", "8:46 AM", "9:21 AM", "9:56 AM", "10:30 AM", "11:10 AM"] },
  { stop_id: "648", name: "NE Broadway &amp; 37th", lat: 45.535058, lon: -122.625522, times: ["6:11 AM", "7:09 AM", "8:15 AM", "8:47 AM", "9:22 AM", "9:57 AM", "10:31 AM", "11:11 AM"] },
  { stop_id: "14401", name: "NE Halsey &amp; 42nd", lat: 45.533708, lon: -122.619767, times: ["6:13 AM", "7:11 AM", "8:17 AM", "8:49 AM", "9:24 AM", "9:59 AM", "10:33 AM", "11:13 AM"] },
  { stop_id: "14402", name: "NE Halsey &amp; 45th", lat: 45.533681, lon: -122.61717, times: ["6:13 AM", "7:11 AM", "8:17 AM", "8:49 AM", "9:24 AM", "9:59 AM", "10:33 AM", "11:13 AM"] },
  { stop_id: "2426", name: "NE Halsey &amp; 50th", lat: 45.53368, lon: -122.612027, times: ["6:14 AM", "7:12 AM", "8:18 AM", "8:51 AM", "9:26 AM", "10:01 AM", "10:35 AM", "11:15 AM"] },
  { stop_id: "2429", name: "NE Halsey &amp; 53rd", lat: 45.533664, lon: -122.609059, times: ["6:15 AM", "7:13 AM", "8:19 AM", "8:51 AM", "9:26 AM", "10:01 AM", "10:36 AM", "11:16 AM"] },
  { stop_id: "2434", name: "NE Halsey &amp; 58th", lat: 45.533656, lon: -122.604176, times: ["6:16 AM", "7:14 AM", "8:20 AM", "8:53 AM", "9:28 AM", "10:03 AM", "10:37 AM", "11:17 AM"] },
  { stop_id: "2439", name: "NE Halsey &amp; 60th", lat: 45.533648, lon: -122.601694, times: ["6:17 AM", "7:15 AM", "8:21 AM", "8:53 AM", "9:28 AM", "10:03 AM", "10:38 AM", "11:18 AM"] },
  { stop_id: "2442", name: "NE Halsey &amp; 66th", lat: 45.533607, lon: -122.596166, times: ["6:18 AM", "7:16 AM", "8:22 AM", "8:55 AM", "9:30 AM", "10:05 AM", "10:39 AM", "11:19 AM"] },
  { stop_id: "2446", name: "NE Halsey &amp; 69th", lat: 45.533526, lon: -122.591874, times: ["6:19 AM", "7:17 AM", "8:23 AM", "8:56 AM", "9:31 AM", "10:06 AM", "10:41 AM", "11:21 AM"] },
  { stop_id: "2448", name: "NE Halsey &amp; 72nd", lat: 45.533517, lon: -122.589326, times: ["6:20 AM", "7:18 AM", "8:24 AM", "8:57 AM", "9:32 AM", "10:07 AM", "10:41 AM", "11:21 AM"] },
  { stop_id: "2450", name: "NE Halsey &amp; 74th", lat: 45.533509, lon: -122.587044, times: ["6:21 AM", "7:19 AM", "8:25 AM", "8:57 AM", "9:32 AM", "10:07 AM", "10:42 AM", "11:22 AM"] },
  { stop_id: "2452", name: "NE Halsey &amp; 76th", lat: 45.533525, lon: -122.584942, times: ["6:21 AM", "7:19 AM", "8:25 AM", "8:58 AM", "9:33 AM", "10:08 AM", "10:43 AM", "11:23 AM"] },
  { stop_id: "2454", name: "NE Halsey &amp; 78th", lat: 45.533533, lon: -122.58304, times: ["6:22 AM", "7:20 AM", "8:26 AM", "8:58 AM", "9:33 AM", "10:08 AM", "10:43 AM", "11:23 AM"] },
  { stop_id: "9217", name: "NE Wasco &amp; 82nd", lat: 45.532372, lon: -122.579209, times: ["6:23 AM", "7:21 AM", "8:27 AM", "9:00 AM", "9:35 AM", "10:10 AM", "10:45 AM", "11:25 AM"] },
  { stop_id: "7999", name: "NE 82nd &amp; 82nd Ave MAX Stn/I-84", lat: 45.53378, lon: -122.578903, times: ["6:24 AM", "7:22 AM", "8:28 AM", "9:01 AM", "9:36 AM", "10:11 AM", "10:46 AM", "11:26 AM"] },
  { stop_id: "2456", name: "NE Halsey &amp; 86th", lat: 45.533472, lon: -122.574569, times: ["6:24 AM", "7:22 AM", "8:28 AM", "9:01 AM", "9:36 AM", "10:11 AM", "10:46 AM", "11:26 AM"] },
  { stop_id: "2458", name: "NE Halsey &amp; 88th", lat: 45.533439, lon: -122.572249, times: ["6:25 AM", "7:23 AM", "8:29 AM", "9:02 AM", "9:37 AM", "10:12 AM", "10:47 AM", "11:27 AM"] },
  { stop_id: "2460", name: "NE Halsey &amp; 92nd", lat: 45.53337, lon: -122.568815, times: ["6:25 AM", "7:24 AM", "8:30 AM", "9:03 AM", "9:38 AM", "10:13 AM", "10:48 AM", "11:28 AM"] },
  { stop_id: "10747", name: "NE Halsey &amp; 102nd", lat: 45.533483, lon: -122.558544, times: ["6:27 AM", "7:25 AM", "8:31 AM", "9:04 AM", "9:39 AM", "10:14 AM", "10:49 AM", "11:29 AM"] },
  { stop_id: "14071", name: "NE Halsey &amp; 106th", lat: 45.533482, lon: -122.553781, times: ["6:28 AM", "7:26 AM", "8:32 AM", "9:05 AM", "9:40 AM", "10:15 AM", "10:50 AM", "11:30 AM"] },
  { stop_id: "2358", name: "NE Halsey &amp; 111th", lat: 45.53347, lon: -122.549661, times: ["6:28 AM", "7:27 AM", "8:33 AM", "9:06 AM", "9:41 AM", "10:16 AM", "10:51 AM", "11:31 AM"] },
  { stop_id: "2360", name: "NE Halsey &amp; 114th", lat: 45.533383, lon: -122.544698, times: ["6:29 AM", "7:28 AM", "8:34 AM", "9:07 AM", "9:42 AM", "10:17 AM", "10:52 AM", "11:32 AM"] },
  { stop_id: "2366", name: "NE Halsey &amp; 122nd", lat: 45.533458, lon: -122.537086, times: ["6:31 AM", "7:30 AM", "8:36 AM", "9:09 AM", "9:44 AM", "10:19 AM", "10:54 AM", "11:34 AM"] },
  { stop_id: "2370", name: "NE Halsey &amp; 128th", lat: 45.53342, lon: -122.530726, times: ["6:31 AM", "7:30 AM", "8:36 AM", "9:09 AM", "9:44 AM", "10:19 AM", "10:54 AM", "11:34 AM"] },
  { stop_id: "2374", name: "NE Halsey &amp; 131st Pl", lat: 45.533397, lon: -122.527401, times: ["6:32 AM", "7:31 AM", "8:37 AM", "9:10 AM", "9:45 AM", "10:20 AM", "10:55 AM", "11:35 AM"] },
  { stop_id: "14424", name: "NE Halsey &amp; 137th", lat: 45.533488, lon: -122.52215, times: ["6:33 AM", "7:32 AM", "8:38 AM", "9:11 AM", "9:46 AM", "10:21 AM", "10:56 AM", "11:36 AM"] },
  { stop_id: "2380", name: "NE Halsey &amp; 140th", lat: 45.533524, lon: -122.519392, times: ["6:33 AM", "7:32 AM", "8:38 AM", "9:11 AM", "9:46 AM", "10:21 AM", "10:56 AM", "11:36 AM"] },
  { stop_id: "2383", name: "NE Halsey &amp; 143rd", lat: 45.533569, lon: -122.515632, times: ["6:33 AM", "7:32 AM", "8:38 AM", "9:11 AM", "9:46 AM", "10:21 AM", "10:56 AM", "11:36 AM"] },
  { stop_id: "2320", name: "NE Halsey &amp; 148th", lat: 45.533568, lon: -122.508197, times: ["6:34 AM", "7:33 AM", "8:39 AM", "9:12 AM", "9:47 AM", "10:22 AM", "10:57 AM", "11:37 AM"] },
  { stop_id: "2389", name: "NE Halsey &amp; 155th", lat: 45.533572, lon: -122.503712, times: ["6:35 AM", "7:34 AM", "8:40 AM", "9:13 AM", "9:48 AM", "10:23 AM", "10:58 AM", "11:38 AM"] },
  { stop_id: "2393", name: "NE Halsey &amp; 160th", lat: 45.533579, lon: -122.49806, times: ["6:36 AM", "7:35 AM", "8:41 AM", "9:14 AM", "9:49 AM", "10:24 AM", "10:59 AM", "11:39 AM"] },
  { stop_id: "2396", name: "NE Halsey &amp; 162nd", lat: 45.534088, lon: -122.496111, times: ["6:36 AM", "7:35 AM", "8:41 AM", "9:14 AM", "9:49 AM", "10:24 AM", "10:59 AM", "11:39 AM"] },
  { stop_id: "2397", name: "NE Halsey &amp; 168th Pl", lat: 45.534253, lon: -122.489882, times: ["6:37 AM", "7:36 AM", "8:42 AM", "9:15 AM", "9:50 AM", "10:25 AM", "11:00 AM", "11:40 AM"] },
  { stop_id: "2400", name: "NE Halsey &amp; 172nd", lat: 45.534578, lon: -122.485827, times: ["6:37 AM", "7:36 AM", "8:42 AM", "9:15 AM", "9:50 AM", "10:25 AM", "11:00 AM", "11:40 AM"] },
  { stop_id: "2322", name: "NE Halsey &amp; 176th", lat: 45.534581, lon: -122.482547, times: ["6:38 AM", "7:37 AM", "8:43 AM", "9:16 AM", "9:51 AM", "10:26 AM", "11:01 AM", "11:41 AM"] },
  { stop_id: "2401", name: "NE Halsey &amp; 181st", lat: 45.534588, lon: -122.478059, times: ["6:39 AM", "7:38 AM", "8:44 AM", "9:17 AM", "9:52 AM", "10:27 AM", "11:02 AM", "11:42 AM"] },
  { stop_id: "2405", name: "NE Halsey &amp; 186th", lat: 45.533537, lon: -122.472426, times: ["6:39 AM", "7:38 AM", "8:44 AM", "9:17 AM", "9:52 AM", "10:27 AM", "11:02 AM", "11:43 AM"] },
  { stop_id: "2408", name: "NE Halsey &amp; 192nd", lat: 45.533592, lon: -122.466379, times: ["6:40 AM", "7:39 AM", "8:45 AM", "9:18 AM", "9:53 AM", "10:28 AM", "11:03 AM", "11:44 AM"] },
  { stop_id: "2409", name: "NE Halsey &amp; 195th", lat: 45.533581, lon: -122.461747, times: ["6:41 AM", "7:40 AM", "8:46 AM", "9:19 AM", "9:54 AM", "10:29 AM", "11:04 AM", "11:44 AM"] },
  { stop_id: "2353", name: "NE Halsey &amp; Wasco", lat: 45.533578, lon: -122.459029, times: ["6:41 AM", "7:40 AM", "8:46 AM", "9:19 AM", "9:54 AM", "10:29 AM", "11:04 AM", "11:45 AM"] },
  { stop_id: "2410", name: "NE Halsey &amp; 201st", lat: 45.533382, lon: -122.456033, times: ["6:42 AM", "7:41 AM", "8:47 AM", "9:20 AM", "9:55 AM", "10:30 AM", "11:05 AM", "11:45 AM"] },
  { stop_id: "10125", name: "20700 Block NE Halsey", lat: 45.533334, lon: -122.449344, times: ["6:43 AM", "7:42 AM", "8:48 AM", "9:21 AM", "9:56 AM", "10:31 AM", "11:06 AM", "11:47 AM"] },
  { stop_id: "2415", name: "NE Halsey &amp; Fairview Parkway", lat: 45.533555, lon: -122.445353, times: ["6:44 AM", "7:43 AM", "8:49 AM", "9:22 AM", "9:57 AM", "10:32 AM", "11:07 AM", "11:47 AM"] },
  { stop_id: "2327", name: "NE Halsey &amp; Market Dr", lat: 45.533738, lon: -122.442387, times: ["6:44 AM", "7:43 AM", "8:49 AM", "9:22 AM", "9:57 AM", "10:32 AM", "11:07 AM", "11:48 AM"] },
  { stop_id: "2436", name: "NE Halsey &amp; Village St", lat: 45.534078, lon: -122.439267, times: ["6:45 AM", "7:44 AM", "8:50 AM", "9:23 AM", "9:58 AM", "10:33 AM", "11:08 AM", "11:48 AM"] },
  { stop_id: "2341", name: "NE Halsey &amp; Fairview/223rd", lat: 45.535019, lon: -122.433161, times: ["6:46 AM", "7:45 AM", "8:51 AM", "9:24 AM", "9:59 AM", "10:34 AM", "11:09 AM", "11:50 AM"] },
  { stop_id: "2416", name: "NE Halsey &amp; 227th", lat: 45.535662, lon: -122.428833, times: ["6:46 AM", "7:45 AM", "8:51 AM", "9:24 AM", "9:59 AM", "10:34 AM", "11:09 AM", "11:50 AM"] },
  { stop_id: "2418", name: "NE Halsey &amp; 230th Ct", lat: 45.535972, lon: -122.426411, times: ["6:47 AM", "7:46 AM", "8:52 AM", "9:25 AM", "10:00 AM", "10:35 AM", "11:10 AM", "11:51 AM"] },
  { stop_id: "2330", name: "23300 Block NE Halsey", lat: 45.536526, lon: -122.422394, times: ["6:47 AM", "7:46 AM", "8:52 AM", "9:25 AM", "10:00 AM", "10:35 AM", "11:10 AM", "11:51 AM"] },
  { stop_id: "2421", name: "NE Halsey &amp; 238th", lat: 45.537107, lon: -122.417642, times: ["6:48 AM", "7:47 AM", "8:53 AM", "9:26 AM", "10:01 AM", "10:36 AM", "11:11 AM", "11:52 AM"] },
  { stop_id: "2422", name: "NE Halsey &amp; 244th", lat: 45.537861, lon: -122.412171, times: ["6:49 AM", "7:48 AM", "8:54 AM", "9:27 AM", "10:02 AM", "10:37 AM", "11:12 AM", "11:53 AM"] },
  { stop_id: "2339", name: "2100 Block SW Halsey (Edgefield Manor)", lat: 45.538606, lon: -122.406465, times: ["6:50 AM", "7:49 AM", "8:55 AM", "9:28 AM", "10:03 AM", "10:38 AM", "11:13 AM", "11:54 AM"] },
  { stop_id: "10598", name: "SW Halsey &amp; Edgefield Meadows", lat: 45.538924, lon: -122.399995, times: ["6:51 AM", "7:50 AM", "8:56 AM", "9:29 AM", "10:04 AM", "10:39 AM", "11:14 AM", "11:55 AM"] },
  { stop_id: "2345", name: "SW Halsey &amp; Halsey Loop", lat: 45.539054, lon: -122.396012, times: ["11:16 PM", "6:52 AM", "7:51 AM", "8:57 AM", "9:30 AM", "10:05 AM", "10:40 AM", "11:15 AM"] },
  { stop_id: "13532", name: "NW Graham/257th &amp; W Columbia River Hwy", lat: 45.541235, lon: -122.390398, times: ["11:17 PM", "6:53 AM", "7:52 AM", "8:58 AM", "9:31 AM", "10:06 AM", "10:41 AM", "11:16 AM"] },
  { stop_id: "9470", name: "NW Graham/257th &amp; 257th Way", lat: 45.543491, lon: -122.39036, times: ["11:17 PM", "6:53 AM", "7:52 AM", "8:59 AM", "9:32 AM", "10:07 AM", "10:42 AM", "11:17 AM"] },
  { stop_id: "10758", name: "NW Graham/257th &amp; North Frontage Rd", lat: 45.545208, lon: -122.39086, times: ["11:18 PM", "6:54 AM", "7:53 AM", "8:59 AM", "9:32 AM", "10:07 AM", "10:42 AM", "11:17 AM"] },
  { stop_id: "9472", name: "900 Block NW North Frontage Rd", lat: 45.545493, lon: -122.396518, times: ["11:19 PM", "6:54 AM", "7:53 AM", "9:00 AM", "9:33 AM", "10:08 AM", "10:43 AM", "11:18 AM"] },
  { stop_id: "9481", name: "1100 Block NW Frontage Rd", lat: 45.544285, lon: -122.398192, times: ["11:20 PM", "6:56 AM", "7:55 AM", "9:02 AM", "9:35 AM", "10:10 AM", "10:45 AM", "11:20 AM"] },
  { stop_id: "9473", name: "NW Frontage Rd &amp; Phoenix Dr", lat: 45.544394, lon: -122.393414, times: ["11:21 PM", "6:57 AM", "7:56 AM", "9:03 AM", "9:36 AM", "10:11 AM", "10:46 AM", "11:21 AM"] },
]

    const polylineOut = L.polyline(shapeOutbound, { color: 'blue', weight: 4, opacity: 0.7 }).addTo(map);
    map.fitBounds(polylineOut.getBounds());

    const nowPT = new Date(new Date().toLocaleString('en-US', { timeZone: 'America/Los_Angeles' }));
    const nowMins = nowPT.getHours() * 60 + nowPT.getMinutes();

    stops.forEach(stop => {
      let highlightedTimes = [];
      let foundNext = false;
      stop.times.forEach(timeStr => {
        let cleanTime = timeStr.trim();
        let [h, m] = cleanTime.split(":");
        let schedMins = parseInt(h, 10) * 60 + parseInt(m, 10);
        if (schedMins < nowMins && nowMins - schedMins > 720) {
          schedMins += 1440;
        }
        if (!foundNext && schedMins >= nowMins) {
          highlightedTimes.push(`<span style="background:#4dd0e1; color:#000; padding:2px 6px; border-radius:6px; font-weight:bold;">${cleanTime}</span>`);
          foundNext = true;
        } else {
          highlightedTimes.push(cleanTime);
        }
      });

      L.circleMarker([stop.lat, stop.lon], {
        radius: 6,
        color: '#4dd0e1',
        fillColor: '#4dd0e1',
        fillOpacity: 0.9,
        weight: 1
      })
      .bindPopup(`<strong>${stop.name}</strong><br>${highlightedTimes.join("<br>") || 'No scheduled times'}`)
      .addTo(map);
    });

    let busMarkers = {};
    async function fetchAndDisplay() {
      const res = await fetch(`https://developer.trimet.org/ws/v2/vehicles?route=${routeNumber}&appID=${apiKey}&json=true`);
      const data = await res.json();
      const buses = (data.resultSet.vehicle || []).filter(v => v.routeNumber == routeNumber && v.direction == direction);

      Object.values(busMarkers).forEach(m => map.removeLayer(m));
      busMarkers = {};
      if (!buses.length) return;

      buses.forEach(bus => {
        if (!bus.latitude || !bus.longitude || !bus.blockID) return;
        const icon = L.divIcon({    
           className: '',
           html: `
            <div style="text-align:center;">
              <div style="background:#0071CE;color:#fff;padding:2px 6px;border-radius:6px;font-weight:bold;">${bus.vehicleID}</div>
              <div style="width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:10px solid #00bfff;margin:auto;"></div>
            </div>
          `,
          iconSize: [40, 30], iconAnchor: [20, 30]
        });
        const marker = L.marker([bus.latitude, bus.longitude], { icon }).addTo(map);
        busMarkers[bus.vehicleID] = marker;
      });
    }
    fetchAndDisplay();
    setInterval(fetchAndDisplay, 15000);
  </script>

<footer class="site-footer">
  <a href="terms.html">Terms of Use</a> &nbsp;|&nbsp;
  <a href="contact.html">Contact Us</a> &nbsp;|&nbsp;
  <a href="report.html">Report a Problem</a> &nbsp;|&nbsp;
  <a href="dmca.html">DMCA</a> &nbsp;|&nbsp;
  <a href="privacy.html">Privacy Policy</a>
</footer>

<script>
// ---- Favorite Star Dropdown: Auto-detect route info, menu UI ----

function getRouteInfoFromPage() {
  let routeNumber = "";
  let routeType = "";
  let routeLink = "";

  let titleEl = document.getElementById('route-title');
  if (titleEl) {
    let match = titleEl.textContent.match(/Route\s+(\d+)[^\d]?/i);
    if (match) routeNumber = match[1];
  }
  let typeEl = document.getElementById('route-type');
  if (typeEl) {
    routeType = typeEl.textContent.trim().toLowerCase();
  }
  routeLink = window.location.pathname + window.location.search;

  if (!routeNumber) {
    let titleMatch = document.title.match(/Route\s+(\d+)/i);
    if (titleMatch) routeNumber = titleMatch[1];
  }
  if (!routeType) {
    routeType = document.body.className.includes('rail') ? 'rail' : 
                document.body.className.includes('max') ? 'max' :
                document.body.className.includes('streetcar') ? 'streetcar' :
                'bus';
  }
  if (!routeLink) routeLink = window.location.href;
  if (!routeNumber) return null;
  return {
    number: routeNumber,
    link: routeLink,
    type: routeType
  };
}

function updateStarIcon() {
  const thisRoute = getRouteInfoFromPage();
  if (!thisRoute) return;
  let favorites = JSON.parse(localStorage.getItem('metrofeed_favorites') || '[]');
  const isFavorite = favorites.find(r => r.number === thisRoute.number && r.type === thisRoute.type);
  const btn = document.getElementById('fav-star');
  if (btn) btn.textContent = isFavorite ? "★" : "☆";

  // Update dropdown button label
  const ddBtn = document.getElementById('fav-dropdown-btn');
  if (ddBtn) ddBtn.textContent = isFavorite ? "Remove from Favorites" : "Add to Favorites";
}

// Show/hide dropdown on star click
function showFavDropdown(e) {
  e.stopPropagation();
  const dd = document.getElementById('fav-dropdown');
  dd.style.display = dd.style.display === "block" ? "none" : "block";
  updateStarIcon();

  // When dropdown opens, add outside click listener
  if (dd.style.display === "block") {
    setTimeout(() => {
      document.addEventListener('click', closeFavDropdown);
    }, 10);
  }
}
// Actually add/remove on dropdown click
document.addEventListener("DOMContentLoaded", function() {
  updateStarIcon();
  const ddBtn = document.getElementById('fav-dropdown-btn');
  if (ddBtn) {
    ddBtn.onclick = function(e) {
      e.stopPropagation();
      const thisRoute = getRouteInfoFromPage();
      if (!thisRoute) return;
      let favorites = JSON.parse(localStorage.getItem('metrofeed_favorites') || '[]');
      const exists = favorites.find(r => r.number === thisRoute.number && r.type === thisRoute.type);
      if (exists) {
        favorites = favorites.filter(r => !(r.number === thisRoute.number && r.type === thisRoute.type));
      } else {
        favorites.unshift(thisRoute);
        if (favorites.length > 4) favorites = favorites.slice(0, 4);
      }
      localStorage.setItem('metrofeed_favorites', JSON.stringify(favorites));
      updateStarIcon();
      document.getElementById('fav-dropdown').style.display = "none";
    };
  }
});

// Close dropdown if clicked anywhere else
function closeFavDropdown(e) {
  const dropdown = document.getElementById('fav-dropdown');
  if (!dropdown.contains(e.target)) {
    dropdown.style.display = "none";
    document.removeEventListener('click', closeFavDropdown);
  }
}

</script>
</body>
</html>